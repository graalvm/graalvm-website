<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content='/webassembly/assets/img/graalvm.png' />

  
  <title>GraalWasm - Documentation</title><link rel="canonical" href="/docs/"><link rel="apple-touch-icon" sizes="180x180" href='/webassembly/assets/img/favicons/apple-touch-icon.png'>
  <link rel="icon" type="image/png" sizes="32x32" href='/webassembly/assets/img/favicons/favicon-32x32.png'>
  <link rel="icon" type="image/png" sizes="16x16" href='/webassembly/assets/img/favicons/favicon-16x16.png'>

  <link rel="stylesheet" href="/webassembly/assets/lib/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="/webassembly/assets/css/style.css">
  <link rel="stylesheet" href="/webassembly/assets/css/highlight.css">

  <script src='/webassembly/assets/lib/jquery/jquery-3.7.1.min.js'></script>

  <script src='/webassembly/assets/lib/bootstrap/js/bootstrap.min.js'></script>

  <script src='/webassembly/assets/lib/sticky-sidebar/resizeSensor.js'></script>
  <script src='/webassembly/assets/lib/sticky-sidebar/sticky-sidebar.min.js'></script>

  <script async defer src="https://buttons.github.io/buttons.js"></script></head>

  <body>
    <header class="site-header site--header">
  <div class="container">
  <div class="wrapper">
    <a class="menu__logo" href="/webassembly/">
      <img src='/webassembly/assets/logo.svg' alt="project logo">
    </a>
    <nav class="site-nav">
      <ul class="menu__list">
        <li class="menu__item">
          <a href='/webassembly/docs/' class="menu__link">Documentation</a>
        </li>
        <li class="menu__item">
          <div class="stack-container">
            <a href="#" class="menu__link stack__header">Graal Projects</a>
            <div class="stack-menu">
              <div class="stack-row">
                <div class="stack-column">
                  <div class="stack__item">
                    <img alt="GraalVM icon" src="/webassembly/assets/img/header-navigation/graalvm.svg">
                    <a href="https://graalvm.org/" class="item-line">GraalVM</a>
                  </div>
                  <div class="stack__item">
                    <img alt="Graal Stack icon" src="/webassembly/assets/img/header-navigation/graalstack.svg">
                    <a href="https://graal.cloud/" class="item-line">Graal Stack</a>
                  </div>
                  <div class="stack__item">
                    <img alt="Graal Dev Kit for Micronaut icon" src="/webassembly/assets/img/header-navigation/gdk.svg">
                    <a href="https://graal.cloud/gdk/" class="item-line">Graal Dev Kit for Micronaut</a>
                  </div>
                  <div class="stack__item">
                    <img alt="GraalOS icon" src="/webassembly/assets/img/header-navigation/graalos.svg">
                    <a href="https://graal.cloud/graalos/" class="item-line">GraalOS</a>
                  </div>
                </div>
                <div class="stack-column">
                  <div class="stack__item">
                    <img alt="JavaScript icon" src="/webassembly/assets/img/header-navigation/js-navi.svg">
                    <a href="https://graalvm.org/javascript/" class="item-line">GraalJS</a>
                  </div>
                  <div class="stack__item">
                    <img alt="Python icon" src="/webassembly/assets/img/header-navigation/python-navi.svg">
                    <a href="https://graalvm.org/python/" class="item-line">GraalPy</a>
                  </div>
                  <div class="stack__item">
                    <img alt="WebAssembly icon" src="/webassembly/assets/img/header-navigation/wasm-navi.svg">
                    <a href="https://graalvm.org/webassembly/" class="item-line">GraalWasm</a>
                  </div>
                  <div class="stack__item">
                    <img alt="Java icon" src="/webassembly/assets/img/header-navigation/java-navi.svg">
                    <a href='https://graalvm.org/reference-manual/java-on-truffle/' class="item-line">Espresso</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </li>
        <div class="menu__item icons githubstar" tabindex="0">
          <span class="github-widget">
            <a tabindex="-1" class="github-button" href="https://github.com/oracle/graal" data-icon="octicon-star"
              data-show-count="true" aria-label="Star oracle/graal on GitHub">Star</a>
          </span>
        </div>
      </ul>
      <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
    </nav>
  </div>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <article id="docs-page">
  <div class="row">
    <div class="col-sm-3 docsimpro col-bg">
      <div class="sidebar-wrap">
        <div class="sidebar sidestyle">
          <div class="toc-container">
            <ul class="toc">
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-9 docsmod">
      <div id="content-wrapper" class="docs-content docs-content--with-sidebar">
        <h2 id="graalwasm-documentation"><a href="#graalwasm-documentation"></a><a href="#graalwasm-documentation" class="anchor-link">GraalWasm Documentation</a></h2>

<p>GraalWasm is an open-source WebAssembly runtime.
It runs WebAssembly programs in binary format and can be used to embed and leverage WebAssembly modules in Java applications.
GraalWasm is under active development and implements a number of WebAssembly extensions.</p>

<h3 id="webassembly-module-system"><a href="#webassembly-module-system"></a><a href="#webassembly-module-system" class="anchor-link">WebAssembly Module System</a></h3>

<p>Using GraalWasm, you can load WebAssembly modules in your application, access them from Java, and make them interoperate with other Graal languages.
To proficiently use GraalWasm, it is important to first understand how GraalWasm maps WebAssembly’s module system onto the Polyglot API.</p>

<p>GraalWasm uses the binary format of WebAssembly modules as its language.
A valid <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Source.html">Source</a> that you can evaluate using GraalWasm is always a single WebAssembly module in the <a href="https://webassembly.github.io/spec/core/binary/index.html">binary format</a>.</p>

<p>Here is one way you can build a WebAssembly <code>Source</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Source</span> <span class="n">source</span> <span class="o">=</span> <span class="nc">Source</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">(</span><span class="s">"wasm"</span><span class="o">,</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"example.wasm"</span><span class="o">)).</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>Or directly from a byte array:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Source</span> <span class="n">source</span> <span class="o">=</span> <span class="nc">Source</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">(</span><span class="s">"wasm"</span><span class="o">,</span> <span class="nc">ByteSequence</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">readAllBytes</span><span class="o">()),</span> <span class="s">"example"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>When you evaluate a WebAssembly <code>Source</code>, the module is parsed and validated, and a module object is returned as the result value.
This module can then be instantiated using <code>module.</code><a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#newInstance(java.lang.Object...)"><code>newInstance()</code></a>.
To access exported functions and bindings, first get the <em>exports</em> member of the instance using <code>instance.getMember("exports")</code>, which returns an object containing all the exported members.
You can then use <code>exports.getMember("bindingName")</code> to read an exported binding, and either <code>exports.getMember("functionName").execute(...args)</code> or <code>exports.invokeMember("functionName", ...args)</code> to call an exported function.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Evaluate the Source.</span>
<span class="nc">Value</span> <span class="n">exampleModule</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">eval</span><span class="o">(</span><span class="n">source</span><span class="o">);</span>
<span class="c1">// Instantiate the example module (optional: provide an import object).</span>
<span class="nc">Value</span> <span class="n">exampleInstance</span> <span class="o">=</span> <span class="n">exampleModule</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
<span class="c1">// Get the exports of the module instance.</span>
<span class="nc">Value</span> <span class="n">exampleExports</span> <span class="o">=</span> <span class="n">exampleInstance</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="s">"exports"</span><span class="o">);</span>
<span class="c1">// Invoke an exported function.</span>
<span class="k">assert</span> <span class="n">exampleExports</span><span class="o">.</span><span class="na">invokeMember</span><span class="o">(</span><span class="s">"factorial"</span><span class="o">,</span> <span class="mi">8</span><span class="o">).</span><span class="na">asInt</span><span class="o">()</span> <span class="o">==</span> <span class="mi">40320</span><span class="o">;</span>
<span class="c1">// Get the value of an exported global.</span>
<span class="k">assert</span> <span class="n">exampleExports</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="s">"theAnswerToLife"</span><span class="o">).</span><span class="na">asInt</span><span class="o">()</span> <span class="o">==</span> <span class="mi">42</span><span class="o">;</span>
</code></pre></div></div>

<p><a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Source.html#getName()">Source names</a> are important in GraalWasm because they are also used to resolve module imports.
If a module tries to import a symbol from module <code>foo</code>, then GraalWasm looks for that symbol in the module whose <code>Source</code> was named <code>foo</code>.
These imports are resolved from the arguments passed to <code>module.newInstance()</code> (either the import object or a module argument).
When using the <code>wasm.EvalReturnsInstance=true</code> option, the imports are not resolved until the module instance’s exports are accessed or executed for the first time.</p>

<h4 id="module-instance-objects"><a href="#module-instance-objects"></a><a href="#module-instance-objects" class="anchor-link">Module Instance Objects</a></h4>

<p>By calling <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#newInstance(java.lang.Object...)"><code>newInstance()</code></a> on the WebAssembly module value returned by <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Context.html#eval(org.graalvm.polyglot.Source)"><code>Context.eval(Source)</code></a>, you instantiate the module and create new module instance objects.
Module instance objects expose a read-only “exports” member, an object that contains a member for every symbol that was exported from the WebAssembly module.
You can get a list of all exported symbols using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#getMemberKeys()">getMemberKeys</a>, access individual exports using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#getMember(java.lang.String)">getMember</a> and, in the case of mutable globals, use <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#putMember(java.lang.String,java.lang.Object)">putMember</a> to set their values.
You can also call functions using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#invokeMember(java.lang.String,java.lang.Object...)">invokeMember</a>.</p>

<p>Here is how the various kinds of WebAssembly exports map to polyglot values:</p>

<ul>
  <li>
    <p>Functions</p>

    <p>Functions are exported as executable values, which you can call using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#execute(java.lang.Object...)">execute</a>.
Alternatively, you can use <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#invokeMember(java.lang.String,java.lang.Object...)">invokeMember</a> on the <em>exports</em> object.
Function arguments and return values are mapped between WebAssembly value types and polyglot values using the <a href="#type-mapping">type mapping</a>.
If a function returns multiple values, these are wrapped in an interop array.
Use <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#getArrayElement(long)">getArrayElement</a> to extract the individual return values.</p>
  </li>
  <li>
    <p>Globals</p>

    <p>When you access an exported global using <code>getMember</code>, you get the global’s value, mapped using the <a href="#type-mapping">type mapping</a>.
If the global is mutable, you can also update its value using <code>putMember</code>.
Currently, setting globals works only for numeric types, whose value is mapped according to the <a href="#type-mapping">type mapping</a>.</p>
  </li>
  <li>
    <p>Memories</p>

    <p>Exported memories implement both the array interface and the buffer interface.
The array interface lets you view the memory as an array of bytes using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#getArrayElement(long)">getArrayElement</a> and <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#setArrayElement(long,java.lang.Object)">setArrayElement</a>.
The buffer interface lets you do bulk copies of memory using <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Value.html#readBuffer(long,byte%5B%5D,int,int)">readBuffer</a> and read and write the Java primitive types from and to the memory using the <code>readBuffer*</code> and <code>writeBuffer*</code> methods.</p>
  </li>
  <li>
    <p>Tables</p>

    <p>Exported tables are opaque and cannot be queried or modified currently.</p>
  </li>
</ul>

<h3 id="type-mapping"><a href="#type-mapping"></a><a href="#type-mapping" class="anchor-link">Type Mapping</a></h3>

<p>Whenever a WebAssembly value is passed either to Java code or to another Graal language, via a function call, return value, or exported global access, it is mapped to a polyglot value.
The tables below show how this mapping works.
WebAssembly is a statically-typed language and all values (locals, function arguments, return values) have a static type.
Based on this type, GraalWasm interprets a polyglot value as a value of this type or reports a type error if the types do not match.</p>

<h4 id="webassembly-values-as-polyglot-values"><a href="#webassembly-values-as-polyglot-values"></a><a href="#webassembly-values-as-polyglot-values" class="anchor-link">WebAssembly Values as Polyglot Values</a></h4>

<p>This table describes for each WebAssembly value type which polyglot interfaces the resulting value implements.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">WebAssembly Type</th>
      <th>Polyglot Interface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code>i32</code></td>
      <td>Number that fits in <code>int</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>i64</code></td>
      <td>Number that fits in <code>long</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>f32</code></td>
      <td>Number that fits in <code>float</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>f64</code></td>
      <td>Number that fits in <code>double</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>v128</code></td>
      <td>Read-only buffer of 16 bytes</td>
    </tr>
    <tr>
      <td style="text-align: left"><code>funcref</code></td>
      <td>Executable object</td>
    </tr>
    <tr>
      <td style="text-align: left"><code>externref</code></td>
      <td>Returned verbatim</td>
    </tr>
  </tbody>
</table>

<h4 id="passing-arguments-to-webassembly-functions"><a href="#passing-arguments-to-webassembly-functions"></a><a href="#passing-arguments-to-webassembly-functions" class="anchor-link">Passing Arguments to WebAssembly Functions</a></h4>

<p>When calling an exported WebAssembly function, its exact type signature must be respected.
The table below gives the expected argument type for every possible WebAssembly parameter type.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">WebAssembly Parameter Type</th>
      <th>Expected Argument Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code>i32</code></td>
      <td><code>int</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>i64</code></td>
      <td><code>long</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>f32</code></td>
      <td><code>float</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>f64</code></td>
      <td><code>double</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><code>v128</code></td>
      <td>Existing <code>v128</code> value received from WebAssembly</td>
    </tr>
    <tr>
      <td style="text-align: left"><code>funcref</code></td>
      <td>WebAssembly’s <code>ref.null</code> or an exported WebAssembly function</td>
    </tr>
    <tr>
      <td style="text-align: left"><code>externref</code></td>
      <td>Can be anything (only WebAssembly’s <code>ref.null</code> is seen as null by <code>ref.is_null</code>)</td>
    </tr>
  </tbody>
</table>

<h3 id="options"><a href="#options"></a><a href="#options" class="anchor-link">Options</a></h3>

<p>GraalWasm can be configured with several options.
When using the <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/package-summary.html">Polyglot API</a>, options are passed programmatically to the <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Context.html">Context</a> object:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Context</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">(</span><span class="s">"wasm"</span><span class="o">).</span><span class="na">option</span><span class="o">(</span><span class="s">"wasm.Builtins"</span><span class="o">,</span> <span class="s">"wasi_snapshot_preview1"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>See the <a href="https://github.com/oracle/graal/blob/master/docs/reference-manual/polyglot-programming.md#passing-options-programmatically">Polyglot Programming</a> reference for more information on how to set options programmatically.</p>

<p>The available options are divided into stable and experimental options.
Experimental options are provided with no guarantee of future support and can change from version to version.
If an experimental option is used with the <code>wasm</code> launcher, the <code>--experimental-options</code> option has to be provided.
When using a <code>Context</code>, the method <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Context.Builder.html#allowExperimentalOptions(boolean)">allowExperimentalOptions(true)</a> has to be called on the <a href="https://www.graalvm.org/sdk/javadoc/org/graalvm/polyglot/Context.Builder.html">Context.Builder</a>.</p>

<h4 id="stable-options"><a href="#stable-options"></a><a href="#stable-options" class="anchor-link">Stable Options</a></h4>

<p>The following stable options are provided:</p>

<ul>
  <li>
    <p><code>--wasm.Builtins</code>: Exposes some of the GraalWasm-provided built-in modules.
The syntax for the value is <code>[&lt;linkingName&gt;:]&lt;builtinModuleName&gt;,[&lt;linkingName&gt;:]&lt;builtinModuleName&gt;,...</code>.
The requested modules are comma-separated.
Every module may optionally be prefixed with a colon-separated linking name.
If a linking name is given, the module is exported under the given linking name.
Otherwise, the module is exported under its built-in module name.</p>

    <p>The provided built-in modules are:</p>
    <ul>
      <li><code>spectest</code>: A module of simple functions useful for writing test cases.
This module implements the same interface as the <a href="https://github.com/WebAssembly/spec/blob/main/interpreter/host/spectest.ml">spectest module of the WebAssembly reference interpreter</a>.
Using it enables the execution of the <a href="https://github.com/WebAssembly/spec/tree/main/test/core">core WebAssembly specification tests</a>.</li>
      <li><code>wasi_snapshot_preview1</code>: GraalWasm’s implementation of the <a href="https://github.com/WebAssembly/WASI/blob/main/legacy/preview1/docs.md">WebAssembly System Interface Snapshot Preview 1</a>.
Covers most of the documented API, except socket and signal support.</li>
    </ul>
  </li>
  <li>
    <p><code>--wasm.WasiMapDirs</code>: A list of pre-opened directories that should be accessible through the WebAssembly System Interface API.
The syntax for the value is <code>[&lt;virtualDir&gt;::]&lt;hostDir&gt;,[&lt;virtualDir&gt;::]&lt;hostDir&gt;,...</code>.
The pre-opened directories are comma-separated.
Every directory may optionally be prefixed with a double-colon-separated virtual path.
Inside the WebAssembly module, the directory is available at the virtual path.
If the virtual path is omitted, the pre-opened directory will be on the same path as on the host filesystem.</p>

    <p>This option must be set to allow modules that use WASI to access the filesystem.
Access will be granted only to the contents of these pre-opened directories.</p>
  </li>
</ul>

<h4 id="experimental-options"><a href="#experimental-options"></a><a href="#experimental-options" class="anchor-link">Experimental Options</a></h4>

<p>Note that these options are experimental and are not guaranteed to be maintained or supported in the future.
To use them, the <code>--experimental-options</code> option is required, or experimental options have to be enabled on the <code>Context</code>.</p>

<p>The options below correspond to feature proposals that add new features to the WebAssembly standard.
The accepted values are <code>true</code> for enabling a feature and <code>false</code> for disabling a feature.
Features that have already been merged into the WebAssembly spec are enabled by default in GraalWasm.
Features that are not yet merged into the spec are disabled by default.
Users can override the defaults to experiment with upcoming features or opt out of standardized features.</p>

<ul>
  <li>
    <p><code>--wasm.BulkMemoryAndRefTypes</code>: Enable support for the <a href="https://github.com/WebAssembly/spec/blob/master/proposals/bulk-memory-operations/Overview.md">bulk memory operations feature</a> and <a href="https://github.com/WebAssembly/spec/blob/master/proposals/reference-types/Overview.md">reference types feature</a>, exposing instructions for efficient memory initialization and adding support for first-class opaque references.
Defaults to <code>true</code>.</p>
  </li>
  <li>
    <p><code>--wasm.ExtendedConstExpressions</code>: Enable support for the <a href="https://github.com/WebAssembly/extended-const/blob/main/proposals/extended-const/Overview.md">extended constant expressions feature</a>, adding limited support for arithmetic instructions inside constant expressions.
Defaults to <code>false</code>.</p>
  </li>
  <li>
    <p><code>--wasm.Memory64</code>: Enable support for the <a href="https://github.com/WebAssembly/memory64/blob/main/proposals/memory64/Overview.md">Memory64 feature</a>, letting memories be larger than 4 GiB.
Defaults to <code>false</code>.</p>
  </li>
  <li>
    <p><code>--wasm.MultiMemory</code>: Enable support for the <a href="https://github.com/WebAssembly/multi-memory/blob/master/proposals/multi-memory/Overview.md">multiple memories feature</a>, allowing modules to have multiple memories.
Defaults to <code>false</code>.</p>
  </li>
  <li>
    <p><code>--wasm.MultiValue</code>: Enable support for the <a href="https://github.com/WebAssembly/spec/blob/master/proposals/multi-value/Overview.md">multi-value feature</a>, letting functions return multiple values.
Defaults to <code>true</code>.</p>
  </li>
  <li>
    <p><code>--wasm.SaturatingFloatToInt</code>: Enable support for the <a href="https://github.com/WebAssembly/spec/blob/master/proposals/nontrapping-float-to-int-conversion/Overview.md">non-trapping float-to-int conversions feature</a>, adding float-to-int conversion instructions that saturate instead of failing with a trap.
Defaults to <code>true</code>.</p>
  </li>
  <li>
    <p><code>--wasm.SignExtensionOps</code>: Enable support for the <a href="https://github.com/WebAssembly/spec/blob/master/proposals/sign-extension-ops/Overview.md">sign-extension operators feature</a>, adding instructions for extending signed integer values.
Defaults to <code>true</code>.</p>
  </li>
  <li>
    <p><code>--wasm.SIMD</code>: Enable support for the <a href="https://github.com/WebAssembly/spec/tree/main/proposals/simd">fixed-width SIMD feature</a>, introducing a new value type, <code>v128</code>, and associated instructions for SIMD arithmetic.
Defaults to <code>true</code>.</p>
  </li>
  <li>
    <p><code>--wasm.Threads</code>: Enable support for the <a href="https://github.com/WebAssembly/threads/blob/master/proposals/threads/Overview.md">threading feature</a>, letting WebAssembly modules use new instructions for atomic memory access.
Defaults to <code>false</code>.</p>
  </li>
</ul>

<h3 id="using-the-graalwasm-launcher"><a href="#using-the-graalwasm-launcher"></a><a href="#using-the-graalwasm-launcher" class="anchor-link">Using the GraalWasm Launcher</a></h3>

<p>GraalWasm standalones provide the <code>wasm</code> launcher, which you can use to execute programs compiled as WebAssembly binary modules.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wasm <span class="o">[</span>OPTION...] <span class="o">[</span><span class="nt">--entry-point</span><span class="o">=</span>FN] FILE <span class="o">[</span>ARG...]
</code></pre></div></div>

<ul>
  <li>
    <p><code>[OPTION...]</code></p>

    <p>The options consist of GraalWasm engine options, prefixed with <code>--wasm.</code>, for example <code>--wasm.WasiMapDirs=preopened-dir</code>, and any other polyglot engine options.
When using the <code>wasm</code> launcher, the <code>--wasm.Builtins=wasi_snapshot_preview1</code> option is set by default so that you can directly execute modules compiled against the <a href="https://github.com/WebAssembly/WASI/blob/main/legacy/preview1/docs.md">WebAssembly System Interface Snapshot Preview 1</a>.</p>

    <p>The available options are documented in <a href="#options">Options</a>.
You can also get a full list of GraalWasm engine options by passing the <code>--help:wasm</code> option to the <code>wasm</code> launcher.
To include internal options, use <code>--help:wasm:internal</code>.
Note that those lists both include stable, supported options, and experimental options.</p>
  </li>
  <li>
    <p><code>[--entry-point=FN]</code></p>

    <p>You can specify the <code>--entry-point</code> option to choose which exported function is to be used as the module’s entry point, for example <code>--entry-point=my_custom_main_fn</code>.
If the <code>--entry-point</code> option is missing, GraalWasm will try to auto-detect the entry point.
It will first look for an exported function named <code>_start</code> and then for an exported function named <code>_main</code>.
The first such function found will be executed as the entry point by the <code>wasm</code> launcher.</p>
  </li>
  <li>
    <p><code>FILE</code></p>

    <p>This is the path to the binary module that will be executed.</p>
  </li>
  <li>
    <p><code>[ARG...]</code></p>

    <p>Program arguments that are accessible to the program through the WASI <a href="https://github.com/WebAssembly/WASI/blob/main/legacy/preview1/docs.md#-args_getargv-pointerpointeru8-argv_buf-pointeru8---result-errno">args_get</a> and <a href="https://github.com/WebAssembly/WASI/blob/main/legacy/preview1/docs.md#-args_sizes_get---resultsize-size-errno">args_sizes_get</a> functions.</p>
  </li>
</ul>

<h4 id="related-documentation"><a href="#related-documentation"></a><a href="#related-documentation" class="anchor-link">Related Documentation</a></h4>

<ul>
  <li><a href="https://github.com/graalvm/graal-languages-demos/tree/main/graalwasm/graalwasm-embed-c-code-guide" target="_blank">Embed C in Java Using GraalWasm</a></li>
  <li><a href="https://www.graalvm.org/latest/reference-manual/embed-languages/" target="_blank">Embedding Languages documentation</a></li>
  <li><a href="https://github.com/oracle/graal/tree/master/wasm" target="_blank">GraalWasm</a></li>
</ul>


      </div>
      <div role="button" class="menu-btn menu-btn--sidebar js-show-sidebar" title="sweet hamburger">
        <div class="hamburger">
          <div class="inner"></div>
        </div>
      </div>
    </div>
  </div>
</article>

<script>
  document.addEventListener("DOMContentLoaded", function() {
      var tocContainer = document.querySelector('.toc');
      var contentWrapper = document.querySelector('#content-wrapper');

      if (tocContainer && contentWrapper) {
          var headings = contentWrapper.querySelectorAll('h1, h2, h3');

          if (headings.length > 0) {
              var ul = document.createElement('ul');

              headings.forEach(function (heading) {
                  var li = document.createElement('li');
                  var a = document.createElement('a');
                  a.href = '#' + heading.id;
                  a.textContent = heading.textContent;

                  li.classList.add(heading.tagName.toLowerCase());

                  li.style.listStyleType = 'none';

                  li.appendChild(a);
                  ul.appendChild(li);
              });

              tocContainer.appendChild(ul);
          } else {
              tocContainer.innerHTML = '<p>No table of contents available.</p>';
          }
      }
  });
</script>
    </main>
    <footer class="footer footer__mobile">
  <div class="container">
    <div class="row footer-content">
      <div class="footer__logo">
        <div class="rubber-footer">
          <img src='/webassembly/assets/logo.svg' alt="project logo">
        </div>
      </div>
      <div class="footer__columns">
        <div class="footer__columns-item">
          <h6 class="title-footer">Open Source</h6>
          <ul class="footer-list">
            <li class="footer-list__item"><a target="_blank" href="https://github.com/oracle/graal/tree/master/wasm">Project Repository</a></li>
            <li class="footer-list__item"><a target="_blank" href="https://github.com/graalvm/graal-languages-demos/">Demos and Guides</a></li>
            <li class="footer-list__item"><a target="_blank" href="https://github.com/oracle/graal/blob/master/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>
        <div class="footer__columns-item">
          <h6 class="title-footer">Help</h6>
          <ul class="footer-list">
            <li class="footer-list__item"><a target="_blank" href="https://github.com/oracle/graal/issues">File an issue</a></li>
            <li class="footer-list__item"><a target="_blank" href="https://www.graalvm.org/slack-invitation/">GraalVM Slack</a></li>
            <li class="footer-list__item"><a target="_blank" href="https://github.com/oracle/graal/blob/master/wasm/LICENSE">License</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-12 col-sm-12 col-md-12 col-lg-12">
      <div class="row">
        <div class="col-sm-12">
          <p class="copyright">
            Copyright © 2025. All rights reserved.
        </div>
      </div>
    </div>
  </div>
</footer>

    <script src='/webassembly/assets/js/main.js'></script>
    <script src='/webassembly/assets/js/sidebar.js'></script>
  </body>
</html>
