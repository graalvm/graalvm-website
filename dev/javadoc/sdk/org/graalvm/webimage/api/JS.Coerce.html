<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (26) -->
<title>JS.Coerce (GraalVM SDK Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.graalvm.webimage.api, annotation type: JS, annotation type: Coerce">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><b>GraalVM SDK Java API Reference<br>26.0.0-dev</b><br>cbc0b827b9b0b3ee9662a45ed6af26ebf426d69e</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">org.graalvm.webimage.api</a></li>
<li><a href="JS.html">JS</a></li>
<li><a href="JS.Coerce.html" class="current-selection">Coerce</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Annotation Interface JS.Coerce" class="title">Annotation Interface JS.Coerce</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing class:</dt>
<dd><code><a href="JS.html" title="annotation interface in org.graalvm.webimage.api">JS</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
</span><span class="modifiers">public static @interface </span><span class="element-name type-name-label">JS.Coerce</span></div>
<div class="block">When this annotation is used together with the <a href="JS.html" title="annotation interface in org.graalvm.webimage.api"><code>JS</code></a> annotation, the arguments and
return values of the respective method undergo implicit Java-to-JavaScript and
JavaScript-to-Java conversions.

When the <a href="JS.Coerce.html" title="annotation interface in org.graalvm.webimage.api"><code>JS.Coerce</code></a> annotation is present, Java-value arguments to
<a href="JS.html" title="annotation interface in org.graalvm.webimage.api"><code>JS</code></a>-annotated methods are implicitly converted (coerced) to the corresponding
JavaScript type (and more broadly, they are implicitly converted when JavaScript code calls a
Java method that has the <a href="JS.Coerce.html" title="annotation interface in org.graalvm.webimage.api"><code>JS.Coerce</code></a> annotation, and that method returns a value).
These conversions are done in a way such that no information is dropped -- for example, a
Java <code>byte</code> value is coerced to a JavaScript <code>Number</code> value, which is a wider
type.

The following Java types are coerced to JavaScript values as follows:

<ul>
<li><code>boolean</code> and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a> are converted to a JavaScript
<code>Boolean</code>.</li>
<li><code>byte</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Byte.html" title="class or interface in java.lang" class="external-link"><code>Byte</code></a>), <code>short</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Short.html" title="class or interface in java.lang" class="external-link"><code>Short</code></a>),
<code>char</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Character.html" title="class or interface in java.lang" class="external-link"><code>Character</code></a>), <code>int</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link"><code>Integer</code></a>),
<code>float</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link"><code>Float</code></a>), <code>double</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link"><code>Double</code></a>),
are converted to a JavaScript <code>Number</code>.</li>
<li><code>long</code>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link"><code>Long</code></a> and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/math/BigInteger.html" title="class or interface in java.math" class="external-link"><code>BigInteger</code></a> are converted to a
JavaScript <code>BigInt</code>.</li>
<li><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> is converted to a JavaScript <code>String</code>.</li>
<li>Any functional-interface object (whose class implements exactly one single abstract
method as defined by the <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/FunctionalInterface.html" title="class or interface in java.lang" class="external-link"><code>FunctionalInterface</code></a> annotation) is converted to a
JavaScript <code>Function</code>.</li>
<li>A primitive array is converted to corresponding JavaScript typed arrays. Concretely, an
array of type <code>boolean[]</code> is converted to a JavaScript <code>Uint8Array</code>, a
<code>byte[]</code> array to a JavaScript <code>Int8Array</code>, a <code>short[]</code> array to a
JavaScript <code>Int16Array</code>, a <code>char[]</code> array to a JavaScript <code>Uint16Array</code>, a
<code>int[]</code> array to a JavaScript <code>Int32Array</code>, a <code>float[]</code> array to a
JavaScript <code>Float32Array</code>, a <code>long[]</code> array to a JavaScript
<code>BigInt64Array</code>, and a <code>double[]</code> array to a JavaScript <code>Float64Array</code>.
</li>
<li>All other values are not coerced -- subtypes of the Java <a href="JSValue.html" title="class in org.graalvm.webimage.api"><code>JSValue</code></a> class are
converted to corresponding JavaScript values, and other objects are converted to JavaScript
proxies.</li>
</ul>

When the <a href="JS.Coerce.html" title="annotation interface in org.graalvm.webimage.api"><code>JS.Coerce</code></a> annotation is present, JavaScript return values of
<a href="JS.html" title="annotation interface in org.graalvm.webimage.api"><code>JS</code></a>-annotated methods, which originate from JavaScript code, are implicitly converted
(coerced) to the corresponding Java values (and more broadly, they are implicitly converted
when JavaScript code passes JavaScript arguments to a Java method that has <a href="JS.Coerce.html" title="annotation interface in org.graalvm.webimage.api"><code>JS.Coerce</code></a>
annotation). The conversion is driven by the type that Java expects. For example, if the
return type of a <a href="JS.html" title="annotation interface in org.graalvm.webimage.api"><code>JS</code></a>-annotated method is <code>double</code>, then a JavaScript
<code>Number</code> will be converted to a <code>double</code>. If the return type is <code>int</code>, then
the JavaScript <code>Number</code> will be converted to an <code>int</code>, even though this may
truncate the original JavaScript value. However, only certain JavaScript values can be
converted to certain Java types -- for example, a JavaScript <code>String</code> is not converted
to a Java <code>int</code>, and the attempt to return a JavaScript <code>String</code> from a
<a href="JS.html" title="annotation interface in org.graalvm.webimage.api"><code>JS</code></a>-annotated method whose return type is <code>int</code> will throw a
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link"><code>ClassCastException</code></a>.

The following JavaScript types are coerced to the expected Java types as follows:

<ul>
<li>JavaScript <code>Boolean</code> can be coerced to a Java <code>boolean</code> and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>.</li>
<li>JavaScript <code>Number</code> and <code>BigInt</code> can be coerced to a Java <code>byte</code> (and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Byte.html" title="class or interface in java.lang" class="external-link"><code>Byte</code></a>), <code>short</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Short.html" title="class or interface in java.lang" class="external-link"><code>Short</code></a>), <code>char</code> (and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Character.html" title="class or interface in java.lang" class="external-link"><code>Character</code></a>), <code>int</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link"><code>Integer</code></a>), <code>long</code> (and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Long.html" title="class or interface in java.lang" class="external-link"><code>Long</code></a>), <code>float</code> (and <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Float.html" title="class or interface in java.lang" class="external-link"><code>Float</code></a>), and <code>double</code> (and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Double.html" title="class or interface in java.lang" class="external-link"><code>Double</code></a>), <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/math/BigInteger.html" title="class or interface in java.math" class="external-link"><code>BigInteger</code></a> and
<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/math/BigDecimal.html" title="class or interface in java.math" class="external-link"><code>BigDecimal</code></a>.</li>
<li>JavaScript <code>String</code> can be coerced to a Java <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a>.</li>
<li>JavaScript typed array can be coerced to a corresponding Java primitive array, if there
is one. Concretely, a JavaScript <code>UInt8Array</code> can be coerced to a <code>boolean[]</code>. A
JavaScript <code>Int8Array</code> can be coerced to a <code>byte[]</code> array. A JavaScript
<code>Int16Array</code> can be coerced to a <code>short[]</code>, a <code>Uint16Array</code> can be coerced
to a <code>char[]</code>, a <code>Int32Array</code> can be coerced to a <code>int[]</code>, a
<code>Float32Array</code> can be coerced to a <code>float[]</code>, a <code>BigInt64Array</code> can be
coerced to a <code>long[]</code>, and a <code>Float64Array</code> can be coerced to a
<code>double[]</code>.</li>
<li>JavaScript <code>Object</code> can be coerced to any Java class that is a subclass of
<a href="JSObject.html" title="class in org.graalvm.webimage.api"><code>JSObject</code></a> if that class <i>conforms</i> to that JavaScript object.</li>
<li>All other values are not coerced -- they are converted to the corresponding Java
<a href="JSValue.html" title="class in org.graalvm.webimage.api"><code>JSValue</code></a> class, with the exception of JavaScript <code>Proxy</code> objects that wrap Java
objects (those are converted back to the original Java objects). A mismatch with the
user-ascribed type will cause a <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link"><code>ClassCastException</code></a>.</li>
</ul>

When an object is mutable, the coercions maintain the property that the state-change in Java
is reflected in the corresponding JavaScript object, and vice versa. For immutable objects,
the object identity is not preserved when the object is passed from Java to JavaScript and
then back again (for example, if Java passes a <code>java.lang.Integer</code> to JavaScript, and
JavaScript returns that object back, the returned integer object may not be reference-equal
to the original integer object).</div>
</div>
</section>
<section class="details" id="annotation-interface-element-detail"></section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</main>
</div>
</body>
</html>
