<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) -->
<title>DynamicObject (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.object, class: DynamicObject">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>25.1.0-dev</b><br>4eaa61399415a2602c8fca5a3efb2d5145c20b8b</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.oracle.truffle.api.object</a></li>
<li><a href="DynamicObject.html" class="current-selection">DynamicObject</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a>
<ol class="toc-list">
<li><a href="#using-dynamicobject-nodes-heading" tabindex="0">Using DynamicObject nodes</a>
<ol class="toc-list">
<li><a href="#usage-examples--heading" tabindex="0">Usage examples:</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(com.oracle.truffle.api.object.Shape)" tabindex="0">DynamicObject(Shape)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getShape()" tabindex="0">getShape()</a></li>
<li><a href="#clone()" tabindex="0">clone()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class DynamicObject" class="title">Class DynamicObject</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.oracle.truffle.api.object.DynamicObject</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../interop/TruffleObject.html" title="interface in com.oracle.truffle.api.interop">TruffleObject</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">DynamicObject</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../interop/TruffleObject.html" title="interface in com.oracle.truffle.api.interop">TruffleObject</a></span></div>
<div class="block">Represents a dynamic object, members of which can be dynamically added and removed at run time.

To use it, extend <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> and use nodes nested under DynamicObject such as
<a href="DynamicObject.GetNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetNode</code></a> for object accesses.

When <a href="#%3Cinit%3E(com.oracle.truffle.api.object.Shape)">constructing</a> a <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a>, it has
to be initialized with an empty initial shape. Initial shapes are created using
<a href="Shape.html#newBuilder()"><code>Shape.newBuilder()</code></a> and should ideally be shared per <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>TruffleLanguage</code></a> instance to
allow shape caches to be shared across contexts.

Subclasses can provide in-object dynamic field slots using the <a href="DynamicObject.DynamicField.html" title="annotation interface in com.oracle.truffle.api.object"><code>DynamicObject.DynamicField</code></a> annotation
and <a href="Shape.Builder.html#layout(java.lang.Class,java.lang.invoke.MethodHandles.Lookup)"><code>Shape.Builder.layout</code></a>.

<p>
Example:

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.oracle.truffle.api.object.DynamicObject1"><code class="language-java">public class MyObject extends DynamicObject implements TruffleObject {
    MyObject(Shape shape) {
        super(shape);
    }

    static final MethodHandles.Lookup LOOKUP = MethodHandles.lookup();
}

public abstract class MyTruffleLanguage extends TruffleLanguage&lt;MyContext&gt; {
    final Shape initialShape = Shape.newBuilder().build();

    public MyObject newObject() {
        return new MyObject(initialShape);
    }
}
</code></pre>
</div>


<h2 id="using-dynamicobject-nodes-heading">Using DynamicObject nodes</h2>

DynamicObject nodes is the central interface for accessing and mutating properties and other
state (flags, dynamic type) of <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a>s. All nodes provide cached and uncached
variants.

<p>
Note: Property keys are always compared using object identity (<code>==</code>), never with <code>
equals</code>, for efficiency reasons. If the node is not used with a fixed key, and some keys might be
<code>equals</code> but not have the same identity (<code>==</code>), you must either intern the keys
first, or cache the key by equality using an inline cache and use the cached key with the
DynamicObject node to ensure equal keys with different identity will use the same cache entry and
not overflow the cache:

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.oracle.truffle.api.object.DynamicObject2"><code class="language-java">abstract static class GetStringKeyNode extends Node {
    abstract Object execute(DynamicObject receiver, Object key);

    @Specialization(guards = "equalNode.execute(key, cachedKey, UTF_16)", limit = "3")
    static Object doCached(MyDynamicObjectSubclass receiver, TruffleString key,
                    @Cached("key") TruffleString cachedKey,
                    @Cached TruffleString.EqualNode equalNode,
                    @Cached DynamicObject.GetNode getNode) {
        return getNode.execute(receiver, cachedKey, NULL_VALUE);
    }
}
</code></pre>
</div>


<h3 id="usage-examples--heading">Usage examples:</h3>

<h4 id="simple-use-of-getnode-with-a-pre-interned-symbol-key--heading">Simple use of <a href="DynamicObject.GetNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetNode</code></a> with a pre-interned symbol key.</h4>

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.oracle.truffle.api.object.DynamicObject3"><code class="language-java">abstract static class GetSimpleNode extends Node {
    abstract Object execute(DynamicObject receiver, Object key);

    @Specialization
    static Object doCached(MyDynamicObjectSubclass receiver, Symbol key,
                    @Cached DynamicObject.GetNode getNode) {
        return getNode.execute(receiver, key, NULL_VALUE);
    }
}
</code></pre>
</div>


<h4 id="implementing-interoplibrary-messages-using-dynamicobject-access-nodes--heading">Implementing InteropLibrary messages using DynamicObject access nodes:</h4>

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.oracle.truffle.api.object.DynamicObject4"><code class="language-java">@ExportLibrary(InteropLibrary.class)
static class MyDynamicObjectSubclass extends DynamicObject {
    MyDynamicObjectSubclass(Shape shape) {
        super(shape);
    }

    @ExportMessage
    Object readMember(String member,
                    @Cached DynamicObject.GetNode getNode) throws UnknownIdentifierException {
        Object result = getNode.execute(this, member, null);
        if (result == null) {
            throw UnknownIdentifierException.create(member);
        }
        return result;
    }
</code></pre>
</div>


Member name equality check omitted for brevity.

<h4 id="adding-extra-dynamic-fields-to-a-dynamicobject-subclass--heading">Adding extra dynamic fields to a DynamicObject subclass:</h4>

<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../resource-files/copy.svg" alt="Copy snippet"></button>
<pre class="snippet" id="snippet-com.oracle.truffle.api.object.DynamicObject5"><code class="language-java">public class MyObjectWithFields extends DynamicObject implements TruffleObject {
    @DynamicField private Object extra1;
    @DynamicField private Object extra2;
    @DynamicField private long extraLong1;
    @DynamicField private long extraLong2;

    MyObjectWithFields(Shape shape) {
        super(shape);
    }

    static final MethodHandles.Lookup LOOKUP = MethodHandles.lookup();
}

Shape initialShape = Shape.newBuilder().layout(MyObject.class, MyObject.LOOKUP).build();

MyObject obj = new MyObject(initialShape);
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#%3Cinit%3E(com.oracle.truffle.api.object.Shape)"><code>DynamicObject(Shape)</code></a></li>
<li><a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a></li>
<li><a href="Shape.html#newBuilder()"><code>Shape.newBuilder()</code></a></li>
<li><a href="DynamicObject.GetNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetNode</code></a></li>
<li><a href="DynamicObject.ContainsKeyNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.ContainsKeyNode</code></a></li>
<li><a href="DynamicObject.PutNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.PutNode</code></a></li>
<li><a href="DynamicObject.GetPropertyNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetPropertyNode</code></a></li>
<li><a href="DynamicObject.GetPropertyFlagsNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetPropertyFlagsNode</code></a></li>
<li><a href="DynamicObject.SetPropertyFlagsNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.SetPropertyFlagsNode</code></a></li>
<li><a href="DynamicObject.CopyPropertiesNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.CopyPropertiesNode</code></a></li>
<li><a href="DynamicObject.GetKeyArrayNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetKeyArrayNode</code></a></li>
<li><a href="DynamicObject.GetPropertyArrayNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetPropertyArrayNode</code></a></li>
<li><a href="DynamicObject.RemoveKeyNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.RemoveKeyNode</code></a></li>
<li><a href="DynamicObject.PutConstantNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.PutConstantNode</code></a></li>
<li><a href="DynamicObject.GetDynamicTypeNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetDynamicTypeNode</code></a></li>
<li><a href="DynamicObject.SetDynamicTypeNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.SetDynamicTypeNode</code></a></li>
<li><a href="DynamicObject.GetShapeFlagsNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.GetShapeFlagsNode</code></a></li>
<li><a href="DynamicObject.SetShapeFlagsNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.SetShapeFlagsNode</code></a></li>
<li><a href="DynamicObject.UpdateShapeNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.UpdateShapeNode</code></a></li>
<li><a href="DynamicObject.ResetShapeNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.ResetShapeNode</code></a></li>
<li><a href="DynamicObject.IsSharedNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.IsSharedNode</code></a></li>
<li><a href="DynamicObject.MarkSharedNode.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject.MarkSharedNode</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.ContainsKeyNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.ContainsKeyNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Checks if this object contains a property with the given key.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.CopyPropertiesNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.CopyPropertiesNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Copies all properties of a DynamicObject to another, preserving property flags.</div>
</div>
<div class="col-first even-row-color"><code>protected static @interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.DynamicField.html" class="type-name-link" title="annotation interface in com.oracle.truffle.api.object">DynamicObject.DynamicField</a></code></div>
<div class="col-last even-row-color">
<div class="block">Using this annotation, subclasses can define additional dynamic fields to be used by the
object layout.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.GetDynamicTypeNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetDynamicTypeNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Gets the language-specific dynamic type identifier currently associated with this object.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.GetKeyArrayNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetKeyArrayNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Gets a snapshot of the object's property keys, in insertion order.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.GetNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Gets the value of a property or returns a default value if no such property exists.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.GetPropertyArrayNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetPropertyArrayNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Gets a snapshot of the object's <a href="Property.html" title="class in com.oracle.truffle.api.object">properties</a>, in insertion order.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.GetPropertyFlagsNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetPropertyFlagsNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Gets the property flags associated with the requested property key.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.GetPropertyNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetPropertyNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Gets a <a href="Property.html" title="class in com.oracle.truffle.api.object">property descriptor</a> for the requested property key or
<code>null</code> if no such property exists.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.GetShapeFlagsNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.GetShapeFlagsNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Gets the language-specific object shape flags.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.IsSharedNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.IsSharedNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Checks whether this object is marked as shared.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.MarkSharedNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.MarkSharedNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Marks this object as shared.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.PutConstantNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.PutConstantNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Sets the value of an existing property or adds a new property if no such property exists.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.PutNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.PutNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Sets the value of an existing property or adds a new property if no such property exists.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.RemoveKeyNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.RemoveKeyNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Removes the property with the given key from the object.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.ResetShapeNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.ResetShapeNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Empties and resets the object to the given root shape.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.SetDynamicTypeNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.SetDynamicTypeNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Sets the language-specific dynamic type identifier.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.SetPropertyFlagsNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.SetPropertyFlagsNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Sets the property flags associated with the requested property key.</div>
</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="DynamicObject.SetShapeFlagsNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.SetShapeFlagsNode</a></code></div>
<div class="col-last even-row-color">
<div class="block">Sets language-specific object shape flags.</div>
</div>
<div class="col-first odd-row-color"><code>static class&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="DynamicObject.UpdateShapeNode.html" class="type-name-link" title="class in com.oracle.truffle.api.object">DynamicObject.UpdateShapeNode</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Ensures the object's shape is up-to-date.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.oracle.truffle.api.object.Shape)" class="member-name-link">DynamicObject</a><wbr>(<a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;shape)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> subclasses.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clone()" class="member-name-link">clone</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The <a href="#clone()"><code>clone()</code></a> method is not supported by <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> at this point in time,
so it always throws <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/CloneNotSupportedException.html" title="class or interface in java.lang" class="external-link"><code>CloneNotSupportedException</code></a>, even if the <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link"><code>Cloneable</code></a>
interface is implemented in a subclass.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getShape()" class="member-name-link">getShape</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the object's current shape.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.oracle.truffle.api.object.Shape)">
<h3>DynamicObject</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">DynamicObject</span><wbr><span class="parameters">(<a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;shape)</span></div>
<div class="block">Constructor for <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> subclasses. Initializes the object with the provided
shape. The shape must have been constructed with a
<a href="Shape.Builder.html#layout(java.lang.Class,java.lang.invoke.MethodHandles.Lookup)">layout class</a> assignable from this class
(i.e., the concrete subclass, a superclass thereof, including <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a>) and must
not have any instance properties (but may have constant properties).

<p>
Examples:

<pre>
Shape shape = <a href="Shape.html#newBuilder()"><code>Shape.newBuilder()</code></a>.<a href="Shape.Builder.html#build()"><code>build</code></a>();
DynamicObject myObject = new MyObject(shape);
</pre>

<pre>
Shape shape = <a href="Shape.html#newBuilder()"><code>Shape.newBuilder()</code></a>.<a href="Shape.Builder.html#layout(java.lang.Class,java.lang.invoke.MethodHandles.Lookup)"><code>layout</code></a>(MyObject.class, MethodHandles.lookup()).<a href="Shape.Builder.html#build()"><code>build</code></a>();
DynamicObject myObject = new MyObject(shape);
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>shape</code> - the initial shape of this object</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if called with an illegal (incompatible) shape</dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getShape()">
<h3>getShape</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></span>&nbsp;<span class="element-name">getShape</span>()</div>
<div class="block">Get the object's current shape.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="clone()">
<h3>clone</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">clone</span>()
                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/CloneNotSupportedException.html" title="class or interface in java.lang" class="external-link">CloneNotSupportedException</a></span></div>
<div class="block">The <a href="#clone()"><code>clone()</code></a> method is not supported by <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> at this point in time,
so it always throws <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/CloneNotSupportedException.html" title="class or interface in java.lang" class="external-link"><code>CloneNotSupportedException</code></a>, even if the <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link"><code>Cloneable</code></a>
interface is implemented in a subclass.

Subclasses may however override this method and create a copy of this object by constructing
a new object and copying any properties over manually.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/CloneNotSupportedException.html" title="class or interface in java.lang" class="external-link">CloneNotSupportedException</a></code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</main>
</div>
</body>
</html>
