<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>GenerateUncached (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.dsl, annotation type: GenerateUncached">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>24.1.0-dev</b><br>9cdc72b6f3ff034bac2af4a49a2701ede7d9c3de</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Field</li>
<li>Required</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.oracle.truffle.api.dsl</a></div>
<h1 title="Annotation Interface GenerateUncached" class="title">Annotation Interface GenerateUncached</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#CLASS" title="class or interface in java.lang.annotation" class="external-link">CLASS</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">GenerateUncached</span></div>
<div class="block">Generates an uncached version of a node with specializations. Uncached versions of nodes don't
 specialize and don't use any profiling state. This allows to store them statically and to use
 them whenever no specialization/profiling is desired. The uncached version of the node is
 accessible using a static method called <code>getUncached()</code> on the generated node.
 GenerateUncached is inherited to subclasses if <a href="#inherit()"><code>inherit()</code></a> is set to <code>true</code>
 (default <code>false</code>).
 <p>
 The generated code for the uncached version is based on the specialization closure. The
 specialization closure only includes specializations that were are not replaced by others. This,
 for example, automatically excludes inline caches from the closure. Uses of the <a href="Cached.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>Cached</code></a>
 annotation will automatically use <a href="Cached.html#uncached()">getUncached</a> instead of a cached
 version to initialize the cache.
 <p>
 A node subclass must fullfill the following requirements in order to be uncachable:
 <ul>
 <li>At least one specialization and one execute method must be specified.
 <li>The node has no instance fields.
 <li>All <a href="Cached.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>Cached</code></a> parameters provide valid <a href="Cached.html#uncached()">uncached</a>
 initializers.
 <li>All specializations of the closure must not use <a href="Specialization.html#rewriteOn()">rewriteOn</a> attribute.
 <li>All guards/cache/limit expressions must not bind the node receiver.
 </ul>
 If any of these requirements are violated then an error will be shown. If node uses the
 <a href="NodeChild.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>NodeChild</code></a> or <a href="NodeField.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>NodeField</code></a> annotations then they will return constant
 <code>null</code> or the primitive equivalent for the uncached node.
 <p>
 <b>Example:</b>

 <pre>
 &#64;GenerateUncached
 abstract static class UncachableNode extends Node {

     abstract Object execute(Object arg);

     &#64;Specialization(guards = "v == cachedV")
     static Object doCached(int v, &#64;Cached("v") int cachedV) {
         // do cached
     }

     &#64;Specialization(replaces = "doCached")
     static String doGeneric(int v) {
         // do uncached
     }

 }
 </pre>

 This node produces the following uncached version of the execute method:

 <pre>
 &#64;Override
 Object execute(Object arg0Value) {
     if (arg0Value instanceof Integer) {
         int arg0Value_ = (int) arg0Value;
         return UncachableNode.doGeneric(arg0Value_);
     }
     throw new UnsupportedSpecializationException(this, new Node[]{null}, arg0Value);
 }
 </pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>19.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Cached.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>Cached</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#inherit()" class="member-name-link">inherit</a></code></div>
<div class="col-last even-row-color">
<div class="block">Inherits the semantics of the annotation to subclasses.</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last odd-row-color">
<div class="block">If <code>true</code> enables the generation of an uncached version of this
 <a href="Specialization.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>specializing</code></a> node.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">value</span></div>
<div class="block">If <code>true</code> enables the generation of an uncached version of this
 <a href="Specialization.html" title="annotation interface in com.oracle.truffle.api.dsl"><code>specializing</code></a> node. It is disabled by default.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>true</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="inherit()">
<h3>inherit</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">inherit</span></div>
<div class="block">Inherits the semantics of the annotation to subclasses.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>19.1.0</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd><code>false</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2024, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</div>
</div>
</body>
</html>
