<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:image" content="/resources/img/graalvm.png" />
  <meta name="twitter:widgets:border-color" content="#55acee">

  <title>
    
      Reference Manual for TruffleRuby
    
  </title>
  <meta
    name="GraalVM website: documentation, tutorials, news and general information."
    content="GraalVM is an ecosystem for programming languages and set of next generation tools for high performance applications."
  >
  <link rel="apple-touch-icon" sizes="180x180" href="/resources/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/resources/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/resources/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="/resources/img/favicon/site.webmanifest">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/resources/styles/extra.css">
  <link rel="stylesheet" href="https://elocation.oracle.com/mapviewer/jslib/v2.3/css/oraclemapsv2.css>

  <link rel="canonical" href="https://www.graalvm.org/docs/reference-manual/languages/ruby/">
  <!-- <script src="/resources/lib/jquery/jquery-3.2.1.min.js"></script> -->
  <script src="https://maps.oracle.com/mapviewer/jslib/v2.3/oraclemapsv2.js"></script>
  <link rel="stylesheet" href="https://elocation.oracle.com/mapviewer/jslib/v2.3/css/oraclemapsv2.css">
  <script src="/resources/lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="/resources/lib/sticky-sidebar/resizeSensor.js"></script>
  <script src="/resources/lib/sticky-sidebar/sticky-sidebar.min.js"></script>
  <script src="/resources/lib/highlight/highlight.pack.js"></script>
  <script src="/resources/lib/purl/purl.js"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body class="preload">
    <!-- Start SiteCatalyst code -->
   <script language="JavaScript" src="https://www.oracle.com/us/assets/metrics/ora_otn.js"></script>
   <!-- End SiteCatalyst code -->
    <svg aria-hidden="true" style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <symbol id="icon-social-network" viewBox="0 0 32 32">
      <title>social-network</title>
      <path d="M28.8 0h-25.6c-1.76 0-3.2 1.44-3.2 3.2v25.6c0 1.76 1.44 3.2 3.2 3.2h25.6c1.76 0 3.2-1.44 3.2-3.2v-25.6c0-1.76-1.44-3.2-3.2-3.2zM25.12 11.68c-0.16 7.36-4.8 12.48-11.84 12.8-2.88 0.16-4.96-0.8-6.88-1.92 2.080 0.32 4.8-0.48 6.24-1.76-2.080-0.16-3.36-1.28-4-3.040 0.64 0.16 1.28 0 1.76 0-1.92-0.64-3.2-1.76-3.36-4.32 0.48 0.32 1.12 0.48 1.76 0.48-1.44-0.8-2.4-3.84-1.28-5.76 2.080 2.24 4.64 4.16 8.8 4.48-1.12-4.48 4.96-6.88 7.36-3.84 1.12-0.16 1.92-0.64 2.72-0.96-0.32 1.12-0.96 1.76-1.76 2.4 0.8-0.16 1.6-0.32 2.24-0.64-0.16 0.8-0.96 1.44-1.76 2.080z"></path>
    </symbol>
    <symbol id="icon-algorithm" viewBox="0 0 32 32">
      <title>algorithm</title>
      <path d="M30.109 7.692v-3.943h-3.758v1.875h1.883v2.068c-1.091 0.387-1.875 1.429-1.875 2.651s0.784 2.264 1.875 2.651v2.068h-1.891v1.875h3.766v-3.943c1.091-0.387 1.875-1.429 1.875-2.651s-0.784-2.264-1.875-2.651z"></path>
      <path d="M5.656 16.938v-1.875h-3.766v3.943c-1.091 0.387-1.875 1.429-1.875 2.651s0.784 2.264 1.875 2.651v3.943h3.758v-1.875h-1.883v-2.068c1.091-0.387 1.875-1.429 1.875-2.651s-0.784-2.264-1.875-2.651v-2.068h1.891z"></path>
      <path d="M7.516 0v9.375h17v-9.375h-17zM13.203 5.625h-1.875v-1.875h1.875v1.875zM16.953 5.625h-1.875v-1.875h1.875v1.875zM20.703 5.625h-1.875v-1.875h1.875v1.875z"></path>
      <path d="M7.516 11.313v9.375h17v-9.375h-17zM13.203 16.938h-1.875v-1.875h1.875v1.875zM16.953 16.938h-1.875v-1.875h1.875v1.875zM20.703 16.938h-1.875v-1.875h1.875v1.875z"></path>
      <path d="M7.516 22.625v9.375h17v-9.375h-17zM13.203 28.25h-1.875v-1.875h1.875v1.875zM16.953 28.25h-1.875v-1.875h1.875v1.875zM20.703 28.25h-1.875v-1.875h1.875v1.875z"></path>
    </symbol>
    <symbol id="icon-blogger" viewBox="0 0 32 32">
      <title>blogger</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M31.916 13.508c0-0.788-0.639-1.427-1.427-1.427v-0l-1.435 0c-0.917 0.001-1.86-0.031-2.261-0.394-0.567-0.524-0.652-1.465-0.823-2.737-0.321-2.47-0.524-2.598-0.909-3.432-1.401-2.972-5.196-5.207-7.805-5.517h-7.067c-5.56 0-10.104 4.555-10.104 10.114v11.793c0 5.549 4.544 10.093 10.104 10.093h11.611c5.56 0 10.071-4.544 10.104-10.093 0 0 0.013-8.378 0.013-8.399zM10.316 8.264h5.602c1.069 0 1.935 0.866 1.935 1.925s-0.866 1.935-1.935 1.935h-5.602c-1.069 0-1.935-0.877-1.935-1.935s0.866-1.925 1.935-1.925zM21.703 23.682h-11.386c-1.069 0-1.935-0.877-1.935-1.924 0-1.059 0.866-1.925 1.935-1.925h11.386c1.059 0 1.925 0.866 1.925 1.925 0 1.048-0.866 1.924-1.925 1.924z"></path>
    </symbol>
    <symbol id="icon-cloud-download" viewBox="0 0 32 32">
      <title>cloud-download</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M25.867 13.333c-0.933-4.533-4.933-8-9.867-8-3.867 0-7.2 2.133-8.8 5.333-4.133 0.533-7.2 3.867-7.2 8 0 4.4 3.6 8 8 8h17.333c3.733 0 6.667-2.933 6.667-6.667 0-3.467-2.8-6.4-6.133-6.667zM22.667 17.333l-6.667 6.667-6.667-6.667h4v-5.333h5.333v5.333h4z"></path>
    </symbol>
    <symbol id="icon-computing" viewBox="0 0 32 32">
      <title>computing</title>
      <path d="M25.867 19.577c1.773-0.141 3.106-0.678 4.051-1.634 1.668-1.687 1.975-4.439 1.929-8.332l-0.013-1.097h-12.044c-0.191-1.121-0.796-1.797-1.259-2.314-0.47-0.524-0.753-0.84-0.753-1.572s0.283-1.048 0.753-1.572l-1.654-1.482c-0.557 0.622-1.32 1.473-1.32 3.054s0.763 2.433 1.32 3.054c0.275 0.307 0.485 0.543 0.613 0.832h-2.586c-0.191-1.121-0.796-1.797-1.259-2.314-0.47-0.524-0.753-0.84-0.753-1.572s0.283-1.048 0.753-1.572c0.557-0.622 1.32-1.473 1.32-3.054h-2.221c0 0.732-0.283 1.048-0.753 1.572-0.557 0.622-1.32 1.473-1.32 3.054s0.763 2.433 1.32 3.054c0.275 0.307 0.485 0.543 0.613 0.832h-12.587v4.725c0 2.938 0.913 5.746 2.641 8.122l3.432 4.719h-6.443v2.961c0 1.633 1.328 2.961 2.961 2.961h22.206c1.633 0 2.961-1.328 2.961-2.961v-2.961h-6.443l3.432-4.719c0.415-0.57 0.782-1.166 1.102-1.782zM27.406 13.237v-2.504h2.223c-0.025 2.671-0.3 4.646-1.29 5.648-0.371 0.375-0.865 0.641-1.506 0.806 0.378-1.27 0.573-2.596 0.573-3.95zM25.556 28.299v0.74c0 0.408-0.332 0.74-0.74 0.74h-22.206c-0.408 0-0.74-0.332-0.74-0.74v-0.74h23.687zM18.587 26.078h-9.75l-4.382-6.025c-1.45-1.994-2.216-4.351-2.216-6.816v-2.504h22.947v2.504c0 2.465-0.766 4.822-2.216 6.816l-4.382 6.025z"></path>
      <path d="M17.824 14.908l-1.57 1.57 1.88 1.88-1.88 1.88 1.57 1.57 3.45-3.45z"></path>
      <path d="M11.31 16.478l-1.57-1.57-3.45 3.45 3.45 3.45 1.57-1.57-1.88-1.88z"></path>
      <path d="M13.707 13.324l-2.119 10.067h2.269l2.119-10.067z"></path>
    </symbol>
    <symbol id="icon-conversation" viewBox="0 0 32 32">
      <title>conversation</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M8.467 5.924h-1.891c1.349-0.292 2.36-1.491 2.36-2.928 0-1.655-1.341-2.996-2.996-2.996s-2.996 1.341-2.996 2.996c0 1.436 1.011 2.636 2.36 2.928h-1.891c-1.884 0-3.412 1.528-3.412 3.412v10.365h2.943v12.3h5.992v-12.3h2.943v-10.365c0-1.884-1.528-3.412-3.412-3.412z"></path>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M28.588 5.923h-1.891c1.349-0.292 2.36-1.491 2.36-2.928 0-1.655-1.341-2.996-2.996-2.996s-2.996 1.341-2.996 2.996c0 1.436 1.011 2.636 2.36 2.928h-1.891c-1.884 0-3.412 1.528-3.412 3.412v10.365h2.943v12.3h5.992v-12.3h2.943v-10.365c0-1.884-1.528-3.412-3.412-3.412z"></path>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M18.159 0.869l-1.55 1.056 1.309 1.921-1.309 1.921 1.55 1.056 2.028-2.977z"></path>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M15.391 1.924l-1.55-1.056-2.028 2.977 2.028 2.977 1.55-1.056-1.309-1.921z"></path>
    </symbol>
    <symbol id="icon-document" viewBox="0 0 32 32">
      <title>document</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M16 0c-8.836 0-16 7.164-16 16s7.163 16 16 16 16-7.164 16-16c-0-8.837-7.164-16-16-16zM23.169 23.169c0 1.074-0.87 1.944-1.944 1.944h-10.45c-1.074 0-1.944-0.87-1.944-1.944v-14.338c0-1.074 0.87-1.944 1.944-1.944h8.202v3.888h4.192v12.394zM19.807 9.945v-3.058l3.362 3.058h-3.362z"></path>
    </symbol>
    <symbol id="icon-github-sign" viewBox="0 0 32 32">
      <title>github-sign</title>
      <path d="M11.542 25.729c-0.223 0.041-0.32 0.146-0.292 0.312s0.153 0.222 0.375 0.167c0.223-0.055 0.32-0.153 0.292-0.292-0.028-0.153-0.153-0.215-0.375-0.187z"></path>
      <path d="M10.354 25.896c-0.222 0-0.333 0.076-0.333 0.229 0 0.181 0.118 0.257 0.354 0.229 0.222 0 0.334-0.076 0.334-0.229 0-0.18-0.118-0.257-0.354-0.229z"></path>
      <path d="M8.729 25.833c-0.055 0.153 0.035 0.257 0.271 0.313 0.208 0.083 0.34 0.041 0.396-0.125 0.042-0.153-0.049-0.263-0.271-0.333-0.208-0.055-0.34-0.007-0.396 0.146z"></path>
      <path d="M30.239 1.76c-1.174-1.173-2.587-1.76-4.24-1.76h-20c-1.653 0-3.066 0.587-4.24 1.76s-1.76 2.587-1.76 4.24v20c0 1.653 0.587 3.066 1.76 4.239s2.587 1.76 4.24 1.76h4.667c0.305 0 0.535-0.011 0.687-0.031s0.305-0.111 0.458-0.271c0.153-0.16 0.229-0.392 0.229-0.698 0-0.041-0.004-0.514-0.011-1.417s-0.011-1.618-0.011-2.146l-0.479 0.083c-0.306 0.055-0.691 0.080-1.156 0.073s-0.948-0.055-1.448-0.146c-0.5-0.090-0.965-0.299-1.396-0.625s-0.736-0.754-0.917-1.281l-0.208-0.48c-0.139-0.319-0.357-0.673-0.656-1.062s-0.601-0.653-0.906-0.792l-0.146-0.104c-0.097-0.069-0.187-0.153-0.271-0.25s-0.146-0.195-0.187-0.292c-0.042-0.097-0.007-0.177 0.104-0.24s0.312-0.093 0.604-0.093l0.417 0.062c0.278 0.055 0.621 0.222 1.031 0.5s0.746 0.639 1.010 1.083c0.32 0.57 0.705 1.003 1.156 1.302s0.906 0.448 1.364 0.448 0.854-0.035 1.188-0.104c0.333-0.070 0.646-0.174 0.937-0.313 0.125-0.93 0.465-1.646 1.021-2.146-0.792-0.083-1.503-0.208-2.135-0.375s-1.285-0.437-1.958-0.813c-0.674-0.375-1.233-0.84-1.677-1.396s-0.809-1.285-1.094-2.188c-0.285-0.903-0.427-1.945-0.427-3.125 0-1.68 0.549-3.111 1.646-4.292-0.514-1.264-0.465-2.68 0.146-4.25 0.403-0.125 1-0.031 1.792 0.281s1.371 0.58 1.74 0.802 0.663 0.41 0.886 0.563c1.292-0.361 2.625-0.542 4-0.542s2.708 0.181 4 0.542l0.792-0.5c0.542-0.333 1.181-0.639 1.917-0.917s1.299-0.354 1.688-0.229c0.625 1.57 0.681 2.986 0.166 4.25 1.097 1.181 1.646 2.611 1.646 4.292 0 1.181-0.142 2.226-0.427 3.135s-0.652 1.639-1.104 2.188c-0.451 0.549-1.014 1.010-1.687 1.385s-1.326 0.646-1.959 0.812c-0.632 0.167-1.344 0.292-2.135 0.376 0.722 0.625 1.083 1.611 1.083 2.958v4.979c0 0.236 0.034 0.427 0.104 0.573s0.181 0.246 0.334 0.302c0.153 0.055 0.288 0.090 0.407 0.104s0.288 0.021 0.51 0.021h4.667c1.653 0 3.066-0.587 4.239-1.76s1.76-2.587 1.76-4.24v-19.999c-0-1.653-0.587-3.066-1.76-4.24z"></path>
      <path d="M6.333 23.292c-0.097 0.069-0.083 0.18 0.042 0.333 0.139 0.139 0.25 0.16 0.333 0.062 0.097-0.069 0.083-0.18-0.042-0.333-0.139-0.125-0.25-0.146-0.333-0.062z"></path>
      <path d="M5.646 22.771c-0.042 0.097 0.007 0.181 0.146 0.25 0.111 0.070 0.202 0.056 0.271-0.041 0.042-0.097-0.007-0.181-0.146-0.25-0.139-0.042-0.229-0.028-0.271 0.042z"></path>
      <path d="M6.979 24.104c-0.125 0.069-0.125 0.195 0 0.375s0.243 0.229 0.354 0.146c0.125-0.097 0.125-0.229 0-0.396-0.111-0.18-0.229-0.222-0.354-0.125z"></path>
      <path d="M7.708 25.041c-0.125 0.111-0.097 0.243 0.083 0.396 0.166 0.166 0.305 0.187 0.416 0.062 0.111-0.111 0.083-0.243-0.083-0.396-0.166-0.166-0.305-0.187-0.417-0.063z"></path>
    </symbol>
    <symbol id="icon-home-icon-silhouette" viewBox="0 0 32 32">
      <title>home-icon-silhouette</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M31.463 14.567l-4.85-4.85v-5.602c0-1.013-0.821-1.834-1.835-1.834-1.012 0-1.833 0.821-1.833 1.834v1.934l-3.611-3.611c-1.785-1.784-4.889-1.781-6.671 0.003l-12.126 12.126c-0.716 0.717-0.716 1.878 0 2.594s1.879 0.717 2.595 0l12.125-12.126c0.395-0.393 1.091-0.393 1.484-0.001l12.127 12.127c0.36 0.359 0.828 0.537 1.297 0.537s0.939-0.179 1.298-0.537c0.716-0.716 0.716-1.877-0-2.594z"></path>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M16.637 8.516c-0.352-0.352-0.923-0.352-1.274 0l-10.666 10.663c-0.168 0.168-0.264 0.398-0.264 0.638v7.777c0 1.825 1.48 3.305 3.305 3.305h5.281v-8.178h5.962v8.178h5.281c1.825 0 3.305-1.48 3.305-3.305v-7.777c0-0.24-0.095-0.47-0.264-0.638l-10.665-10.663z"></path>
    </symbol>
    <symbol id="icon-icon-github" viewBox="0 0 32 32">
      <title>icon-github</title>
      <path d="M15.998 0.862c-8.57 0-15.52 6.948-15.52 15.522 0 6.856 4.446 12.674 10.614 14.726 0.776 0.142 1.060-0.336 1.060-0.748 0-0.368-0.014-1.344-0.020-2.64-4.318 0.938-5.228-2.080-5.228-2.080-0.706-1.792-1.724-2.27-1.724-2.27-1.41-0.962 0.106-0.944 0.106-0.944 1.558 0.11 2.378 1.6 2.378 1.6 1.384 2.372 3.632 1.686 4.516 1.29 0.142-1.004 0.542-1.686 0.986-2.074-3.446-0.394-7.068-1.724-7.068-7.672 0-1.694 0.604-3.080 1.598-4.164-0.16-0.394-0.694-1.972 0.152-4.108 0 0 1.304-0.418 4.268 1.592 1.238-0.346 2.564-0.518 3.884-0.524 1.318 0.006 2.646 0.178 3.886 0.522 2.964-2.008 4.264-1.592 4.264-1.592 0.846 2.136 0.314 3.714 0.154 4.108 0.994 1.084 1.596 2.47 1.596 4.164 0 5.962-3.628 7.274-7.086 7.658 0.558 0.48 1.054 1.426 1.054 2.874 0 2.074-0.020 3.748-0.020 4.258 0 0.416 0.28 0.898 1.068 0.746 6.162-2.056 10.604-7.87 10.604-14.724 0-8.57-6.95-15.52-15.522-15.52z"></path>
    </symbol>
    <symbol id="icon-icon-twitter" viewBox="0 0 32 32">
      <title>icon-twitter</title>
      <path fill="#828282" style="fill: var(--color1, #828282)" d="M31.938 6.116c-1.172 0.52-2.434 0.872-3.756 1.030 1.35-0.81 2.388-2.090 2.876-3.618-1.264 0.75-2.664 1.294-4.152 1.586-1.192-1.272-2.892-2.066-4.774-2.066-3.612 0-6.54 2.928-6.54 6.54 0 0.512 0.058 1.012 0.17 1.49-5.436-0.27-10.256-2.874-13.482-6.83-0.562 0.966-0.884 2.088-0.884 3.286 0 2.268 1.154 4.27 2.91 5.444-1.074-0.034-2.082-0.328-2.964-0.818 0 0.028 0 0.054 0 0.082 0 3.168 2.254 5.812 5.246 6.412-0.548 0.15-1.126 0.23-1.722 0.23-0.422 0-0.832-0.042-1.23-0.118 0.832 2.598 3.248 4.49 6.11 4.542-2.238 1.754-5.058 2.8-8.122 2.8-0.528 0-1.048-0.030-1.56-0.092 2.894 1.856 6.332 2.938 10.026 2.938 12.030 0 18.608-9.966 18.608-18.608 0-0.284-0.006-0.566-0.018-0.846 1.272-0.92 2.382-2.072 3.258-3.384z"></path>
    </symbol>
    <symbol id="icon-logo" viewBox="0 0 92 32">
      <title>logo</title>
      <path fill="#00758f" style="fill: var(--color2, #00758f)" d="M11.654 23.706c-3.31 0-5.268-2.365-5.268-7.44 0-5.206 2.537-7.895 5.847-7.895 1.634 0.026 3.080 0.81 4.004 2.015l0.009 0.012-1.034 1.014c-0.768-0.669-1.764-1.094-2.858-1.144l-0.010-0c-2.117 0-3.489 1.875-3.489 5.578 0 4.282 1.262 5.937 3.199 5.937 0.026 0.001 0.057 0.001 0.088 0.001 0.717 0 1.378-0.242 1.905-0.648l-0.007 0.005v-4.213h-1.931v-1.765h4.303v6.792c-1.229 1.088-2.854 1.752-4.635 1.752-0.043 0-0.086-0-0.129-0.001l0.006 0zM24.59 14.57c-0.275-0.086-0.593-0.143-0.922-0.158l-0.009-0c-0.641 0-1.234 0.49-2.317 1.834v7.24h-2.268v-10.991h1.875l0.193 1.875c1.193-1.544 1.944-2.069 2.758-2.069 0.356 0.005 0.691 0.096 0.984 0.254l-0.011-0.006zM32.595 23.485l-0.179-1.193c-0.882 0.841-2.075 1.363-3.389 1.379l-0.003 0c-2.165 0-3.31-1.103-3.31-3.048 0-2.248 1.744-3.751 5.599-3.751h0.793v-0.958c0-1.324-0.689-1.965-2.275-1.965-1.166 0.032-2.268 0.265-3.286 0.664l0.066-0.023-0.331-1.379c1.215-0.561 2.636-0.893 4.133-0.903l0.004-0c2.758 0 3.93 1.324 3.93 3.33v7.86zM32.105 18.362h-0.945c-2.503 0-3.192 0.834-3.192 1.986-0.005 0.048-0.008 0.103-0.008 0.159 0 0.857 0.695 1.551 1.551 1.551 0.054 0 0.107-0.003 0.16-0.008l-0.007 0.001c0.955-0.079 1.802-0.485 2.442-1.104l-0.001 0.001zM43.31 23.485l-0.172-1.193c-0.885 0.84-2.080 1.362-3.396 1.379l-0.003 0c-2.165 0-3.31-1.103-3.31-3.048 0-2.248 1.744-3.751 5.606-3.751h0.793v-0.958c0-1.324-0.69-1.965-2.275-1.965-1.166 0.032-2.268 0.265-3.286 0.664l0.066-0.023-0.331-1.379c1.215-0.56 2.636-0.892 4.133-0.903l0.004-0c2.758 0 3.923 1.324 3.923 3.33v7.86zM42.827 18.362h-0.945c-2.537 0-3.199 0.841-3.199 1.986-0.005 0.045-0.007 0.098-0.007 0.152 0 0.861 0.698 1.558 1.558 1.558 0.051 0 0.102-0.002 0.152-0.007l-0.006 0c0.958-0.076 1.808-0.482 2.449-1.104l-0.001 0.001zM49.722 23.637c-1.379 0-2.006-0.4-2.006-2.186v-13.611h2.317v12.735c0 1.282 0.159 1.482 0.793 1.482 0.2 0 0.441 0 0.6 0l0.11 1.379c-0.461 0.13-0.99 0.205-1.536 0.205-0.083 0-0.165-0.002-0.247-0.005l0.012 0z"></path>
      <path fill="#f29111" style="fill: var(--color3, #f29111)" d="M59.472 23.485h-2.827c-1.514-4.012-2.988-8.994-4.133-14.101l-0.149-0.792h2.606c0.772 3.972 2.027 8.184 3.289 12.411 1.067-3.33 2.092-7.508 2.857-11.776l0.094-0.635h2.365c-1.116 5.758-2.534 10.753-4.322 15.568l0.219-0.675zM77.675 23.485c-0.090-4.33-0.4-8.805-0.689-11.873v0l-3.751 11.873h-1.965l-3.792-11.873c-0.283 3.289-0.483 7.543-0.552 11.873h-2.268c0.131-4.827 0.483-10.039 1.076-14.893h3.137l3.572 10.942 3.579-10.942h2.972c0.572 4.827 1.014 10.060 1.145 14.893zM81.867 21.968h-0.538v-0.303h1.469v0.29h-0.538v1.517h-0.393zM83.184 21.665h0.634l0.386 1.324 0.414-1.324h0.621v1.82h-0.393v-1.531l-0.49 1.558h-0.324l-0.483-1.558v1.558h-0.365z"></path>
    </symbol>
    <symbol id="icon-screwdriver-and-wrench-crossed" viewBox="0 0 43 32">
      <title>screwdriver-and-wrench-crossed</title>
      <path d="M6.204 26.885c-1.171 1.171-1.171 3.067 0 4.238 0.585 0.585 1.353 0.877 2.12 0.877s1.535-0.292 2.12-0.877l9.841-9.843-4.24-4.236-9.841 9.841z"></path>
      <path d="M30.799 8.646l4.286-2.216 2.244-4.338-2.092-2.092-4.336 2.246-2.22 4.282-5.213 5.219 2.114 2.118z"></path>
      <path d="M31.738 20.021l-0.404-0.040c-0.731 0-1.425 0.15-2.072 0.39l-12.303-12.304c0.24-0.647 0.39-1.341 0.39-2.072l-0.040-0.404c-0.212-3.119-2.781-5.591-5.954-5.591-0.923 0-1.788 0.226-2.57 0.599l3.982 3.982c0.21 0.21 0.354 0.458 0.45 0.719 0.262 0.707 0.12 1.535-0.45 2.106-0.39 0.39-0.901 0.585-1.413 0.585-0.236 0-0.47-0.052-0.693-0.136-0.262-0.1-0.51-0.24-0.719-0.452l-3.982-3.98c-0.374 0.781-0.599 1.646-0.599 2.57 0 3.173 2.472 5.743 5.591 5.954l0.404 0.040c0.731 0 1.425-0.15 2.072-0.388l12.3 12.302c-0.236 0.647-0.386 1.341-0.386 2.072l0.042 0.404c0.208 3.121 2.779 5.591 5.952 5.591 0.923 0 1.79-0.222 2.57-0.599l-3.982-3.982c-0.208-0.208-0.354-0.458-0.454-0.717-0.262-0.707-0.12-1.537 0.454-2.108 0.386-0.39 0.901-0.585 1.413-0.585 0.236 0 0.468 0.050 0.695 0.136 0.262 0.098 0.511 0.238 0.717 0.45l3.982 3.982c0.376-0.783 0.599-1.646 0.599-2.57-0.002-3.173-2.474-5.743-5.593-5.954z"></path>
    </symbol>
    <symbol id="icon-speed-meter" viewBox="0 0 43 32">
      <title>speed-meter</title>
      <path d="M12.212 11.373c0.009-0.137-0.037-0.272-0.128-0.375l-4.101-4.666c-0.091-0.103-0.218-0.166-0.356-0.175s-0.272 0.037-0.375 0.128c-1.884 1.657-3.449 3.61-4.649 5.806-0.066 0.121-0.081 0.262-0.043 0.394s0.128 0.243 0.248 0.309l5.451 2.98c0.079 0.043 0.164 0.064 0.248 0.064 0.183 0 0.361-0.097 0.455-0.269 0.794-1.452 1.828-2.743 3.075-3.839 0.103-0.090 0.166-0.218 0.175-0.355z"></path>
      <path d="M14.042 9.645c0.093 0.175 0.272 0.275 0.458 0.275 0.082 0 0.165-0.019 0.242-0.060 1.461-0.775 3.033-1.28 4.672-1.503 0.283-0.038 0.482-0.299 0.443-0.583l-0.835-6.156c-0.038-0.283-0.3-0.482-0.583-0.443-2.489 0.338-4.875 1.105-7.093 2.282-0.252 0.134-0.349 0.447-0.215 0.7l2.911 5.488z"></path>
      <path d="M7.373 17.976l-5.995-1.627c-0.132-0.036-0.274-0.018-0.393 0.051s-0.206 0.181-0.242 0.314c-0.493 1.817-0.743 3.7-0.743 5.596 0 0.325 0.008 0.65 0.024 0.996 0.013 0.277 0.242 0.494 0.517 0.494 0.008 0 0.016-0 0.024-0.001l6.205-0.287c0.137-0.006 0.266-0.067 0.359-0.168s0.141-0.236 0.135-0.373c-0.011-0.233-0.016-0.449-0.016-0.661 0-1.256 0.165-2.5 0.49-3.699 0.075-0.276-0.088-0.56-0.364-0.635z"></path>
      <path d="M30.579 3.088c-2.259-1.089-4.673-1.764-7.174-2.006-0.137-0.014-0.273 0.028-0.379 0.116s-0.173 0.213-0.186 0.35l-0.599 6.183c-0.028 0.285 0.181 0.538 0.465 0.565 1.649 0.16 3.238 0.604 4.726 1.321 0.071 0.034 0.148 0.051 0.225 0.051 0.058 0 0.115-0.010 0.171-0.029 0.13-0.045 0.236-0.14 0.296-0.264l2.697-5.596c0.124-0.257 0.016-0.567-0.241-0.691z"></path>
      <path d="M39.704 11.772c0.033-0.133 0.013-0.274-0.058-0.392-1.285-2.149-2.923-4.041-4.868-5.624-0.107-0.087-0.243-0.127-0.38-0.113s-0.262 0.082-0.349 0.188l-3.92 4.819c-0.087 0.107-0.127 0.243-0.113 0.38s0.082 0.262 0.188 0.349c1.287 1.047 2.371 2.298 3.22 3.72 0.097 0.162 0.269 0.252 0.445 0.252 0.090 0 0.182-0.024 0.265-0.073l5.332-3.187c0.118-0.070 0.203-0.185 0.236-0.318z"></path>
      <path d="M41.684 15.926c-0.086-0.273-0.376-0.425-0.649-0.339l-5.928 1.857c-0.273 0.085-0.425 0.376-0.339 0.649 0.425 1.358 0.641 2.777 0.641 4.216 0 0.212-0.005 0.428-0.016 0.661-0.006 0.137 0.042 0.271 0.135 0.373s0.221 0.162 0.359 0.168l6.205 0.287c0.008 0 0.016 0.001 0.024 0.001 0.275 0 0.504-0.216 0.517-0.494 0.016-0.345 0.024-0.671 0.024-0.996-0-2.176-0.327-4.323-0.973-6.383z"></path>
      <path d="M21.31 21.21c-0.089 0-0.178 0.003-0.267 0.008l-8.409-4.962c-0.206-0.122-0.467-0.091-0.64 0.074s-0.214 0.425-0.101 0.636l4.587 8.598c-0.017 0.166-0.026 0.333-0.026 0.501 0 1.297 0.505 2.516 1.422 3.433s2.136 1.422 3.433 1.422 2.516-0.505 3.433-1.422c0.917-0.917 1.422-2.136 1.422-3.433s-0.505-2.516-1.422-3.433c-0.917-0.917-2.136-1.422-3.433-1.422z"></path>
    </symbol>
    <symbol id="icon-linux" viewBox="0 0 32 32">
      <title>linux</title>
      <path d="M28.817 25.693c-0.938-0.384-1.34-0.894-1.301-1.655 0.040-0.888-0.464-1.539-0.703-1.796 0.145-0.552 0.567-2.463 0-4.122-0.609-1.776-2.468-4.489-4.386-7.156-0.785-1.095-0.822-2.286-0.865-3.664-0.041-1.315-0.087-2.805-0.821-4.462-0.797-1.804-2.397-2.838-4.389-2.838-1.185 0-2.402 0.37-3.338 1.016-1.917 1.323-1.663 4.207-1.496 6.116 0.023 0.261 0.045 0.508 0.057 0.719 0.112 1.869 0.010 2.854-0.123 3.154-0.086 0.196-0.509 0.753-0.957 1.342-0.463 0.61-0.988 1.301-1.418 1.945-0.513 0.775-0.928 1.96-1.329 3.105-0.293 0.838-0.57 1.63-0.84 2.103-0.511 0.91-0.384 1.759-0.278 2.151-0.193 0.134-0.473 0.399-0.709 0.898-0.285 0.609-0.864 0.936-2.067 1.167-0.553 0.113-0.934 0.346-1.134 0.691-0.29 0.503-0.132 1.134 0.012 1.566 0.213 0.635 0.080 1.036-0.161 1.765-0.056 0.168-0.119 0.359-0.183 0.569-0.101 0.332-0.064 0.633 0.108 0.896 0.454 0.695 1.78 0.94 3.145 1.101 0.815 0.097 1.707 0.423 2.57 0.738 0.845 0.309 1.719 0.628 2.514 0.725 0.121 0.015 0.24 0.023 0.356 0.023 1.2 0 1.742-0.796 1.914-1.123 0.431-0.088 1.917-0.37 3.449-0.407 1.529-0.044 3.009 0.258 3.428 0.352 0.132 0.252 0.479 0.828 1.033 1.125 0.304 0.166 0.728 0.262 1.162 0.262 0 0 0 0 0 0 0.463 0 1.345-0.11 2.042-0.843 0.696-0.737 2.434-1.679 3.704-2.366 0.283-0.153 0.548-0.297 0.781-0.427 0.713-0.395 1.102-0.96 1.068-1.55-0.029-0.49-0.353-0.919-0.846-1.121zM13.030 25.551c-0.089-0.625-0.893-1.245-1.825-1.964-0.762-0.587-1.625-1.253-1.863-1.816-0.492-1.163-0.104-3.207 0.572-4.26 0.334-0.527 0.607-1.326 0.87-2.1 0.285-0.835 0.579-1.698 0.909-2.076 0.522-0.59 1.004-1.738 1.089-2.642 0.488 0.466 1.246 1.058 1.946 1.058 0.108 0 0.212-0.014 0.312-0.042 0.479-0.138 1.183-0.545 1.864-0.939 0.587-0.339 1.311-0.758 1.584-0.796 0.467 0.671 3.182 6.679 3.459 8.608 0.22 1.527-0.012 2.789-0.129 3.283-0.094-0.013-0.206-0.023-0.323-0.023-0.756 0-0.956 0.413-1.008 0.659-0.134 0.64-0.148 2.688-0.15 3.148-0.273 0.347-1.656 1.983-3.641 2.277-0.809 0.117-1.564 0.177-2.244 0.177-0.582 0-0.953-0.045-1.107-0.068l-0.998-1.141c0.393-0.194 0.787-0.604 0.683-1.343zM14.296 6.73c-0.031 0.013-0.062 0.028-0.092 0.043-0.003-0.068-0.010-0.136-0.021-0.205-0.109-0.627-0.525-1.082-0.988-1.082-0.034 0-0.069 0.003-0.107 0.008-0.276 0.046-0.492 0.253-0.611 0.547 0.104-0.645 0.469-1.122 0.902-1.122 0.509 0 0.939 0.686 0.939 1.497 0 0.102-0.007 0.204-0.023 0.313zM18.25 7.214c0.047-0.148 0.072-0.309 0.072-0.476 0-0.736-0.467-1.312-1.063-1.312-0.582 0-1.056 0.589-1.056 1.312 0 0.049 0.002 0.099 0.007 0.148-0.031-0.012-0.061-0.023-0.090-0.035-0.067-0.203-0.101-0.415-0.101-0.631 0-0.88 0.562-1.596 1.254-1.596s1.254 0.716 1.254 1.596c0 0.366-0.101 0.715-0.276 0.993zM17.74 8.927c-0.010 0.044-0.031 0.064-0.266 0.186-0.118 0.062-0.266 0.138-0.45 0.251l-0.123 0.075c-0.495 0.3-1.654 1.003-1.969 1.044-0.214 0.029-0.346-0.054-0.643-0.256-0.067-0.046-0.138-0.094-0.214-0.143-0.536-0.352-0.88-0.739-0.919-0.89 0.175-0.135 0.608-0.473 0.829-0.673 0.45-0.418 0.903-0.7 1.127-0.7 0.012 0 0.023 0.001 0.034 0.003 0.263 0.046 0.913 0.306 1.387 0.495 0.219 0.088 0.409 0.163 0.542 0.211 0.42 0.144 0.639 0.329 0.665 0.398zM21.511 28.48c0.237-1.068 0.51-2.521 0.465-3.378-0.010-0.195-0.027-0.406-0.044-0.611-0.031-0.383-0.077-0.952-0.030-1.121 0.009-0.004 0.020-0.008 0.032-0.011 0.002 0.49 0.108 1.467 0.89 1.807 0.233 0.102 0.499 0.153 0.791 0.153 0.783 0 1.651-0.384 2.007-0.74 0.209-0.209 0.386-0.466 0.509-0.669 0.027 0.079 0.044 0.182 0.035 0.315-0.046 0.722 0.305 1.681 0.973 2.034l0.097 0.051c0.238 0.125 0.87 0.457 0.88 0.614-0 0-0.005 0.019-0.041 0.051-0.158 0.145-0.716 0.429-1.254 0.704-0.956 0.488-2.039 1.041-2.526 1.553-0.685 0.721-1.46 1.205-1.928 1.205-0.056 0-0.108-0.007-0.153-0.022-0.508-0.158-0.927-0.892-0.702-1.937zM4.188 25.755c-0.052-0.243-0.093-0.434-0.049-0.62 0.032-0.137 0.71-0.285 1-0.348 0.407-0.088 0.829-0.18 1.104-0.347 0.373-0.226 0.574-0.642 0.752-1.009 0.129-0.266 0.262-0.54 0.42-0.63 0.009-0.005 0.023-0.011 0.049-0.011 0.297 0 0.919 0.624 1.278 1.182 0.091 0.141 0.259 0.423 0.454 0.749 0.583 0.976 1.381 2.312 1.798 2.759 0.376 0.403 0.984 1.177 0.834 1.84-0.11 0.515-0.693 0.934-0.83 1.027-0.050 0.011-0.112 0.017-0.184 0.017-0.798 0-2.378-0.664-3.226-1.021l-0.126-0.053c-0.474-0.199-1.248-0.324-1.996-0.445-0.595-0.096-1.411-0.228-1.546-0.348-0.11-0.123 0.018-0.522 0.13-0.875 0.081-0.253 0.164-0.515 0.21-0.789 0.065-0.437-0.011-0.793-0.072-1.079z"></path>
    </symbol>
    <symbol id="icon-mac-os-logo" viewBox="0 0 32 32">
      <title>mac-os-logo</title>
      <path d="M24.734 17.002c-0.042-4.055 3.306-5.996 3.455-6.093-1.88-2.747-4.806-3.125-5.852-3.167-2.488-0.255-4.86 1.465-6.125 1.465-1.261 0-3.213-1.431-5.279-1.393-2.717 0.042-5.219 1.581-6.619 4.011-2.822 4.897-0.723 12.149 2.026 16.125 1.345 1.943 2.949 4.125 5.052 4.048 2.026-0.081 2.791-1.312 5.242-1.312s3.139 1.312 5.282 1.273c2.182-0.042 3.561-1.982 4.894-3.93 1.544-2.256 2.179-4.442 2.219-4.551-0.051-0.028-4.25-1.635-4.294-6.476z"></path>
      <path d="M20.704 5.11c1.115-1.352 1.871-3.234 1.665-5.11-1.611 0.065-3.557 1.069-4.714 2.423-1.036 1.199-1.938 3.111-1.697 4.95 1.795 0.141 3.631-0.913 4.746-2.263z"></path>
    </symbol>

    <symbol id="icon-icon" viewBox="0 0 32 32">
      <title>icon</title>
      <path d="M9.502 25.749c0 1.795-1.455 3.251-3.251 3.251s-3.251-1.455-3.251-3.251c0-1.795 1.455-3.251 3.251-3.251s3.251 1.455 3.251 3.251z"></path>
      <path d="M7.894 19.253c2.689 0 4.875 2.186 4.875 4.878h3.252c0-4.482-3.646-8.131-8.126-8.131v3.253z"></path>
      <path d="M7.872 12.75c6.272 0 11.376 5.107 11.376 11.381h3.252c0-8.068-6.561-14.631-14.628-14.631v3.25z"></path>
      <path d="M7.872 6.25c9.858 0 17.878 8.020 17.878 17.881h3.25c0-11.654-9.476-21.131-21.127-21.131v3.25z"></path>
    </symbol>
    <symbol id="icon-customer-review" viewBox="0 0 32 32">
      <title>customer-review</title>
      <path d="M28.848 8.872c-1.942-1.409-4.504-2.184-7.214-2.184s-5.272 0.776-7.213 2.184c-2.032 1.474-3.151 3.46-3.151 5.593 0 1.99 1.003 3.884 2.825 5.332 1.681 1.336 3.926 2.179 6.345 2.386 2.611 1.899 6.441 2.97 6.727 3.048 0.141 0.040 0.288 0.060 0.435 0.060 0.597 0 1.145-0.325 1.428-0.843 0.364-0.66 0.229-1.479-0.333-1.991-0.712-0.647-1.092-1.154-1.294-1.518 1.269-0.631 2.338-1.467 3.12-2.444 0.966-1.207 1.477-2.6 1.477-4.030 0-2.132-1.119-4.118-3.152-5.593zM25.102 17.108h-6.935c-0.518 0-0.938-0.42-0.938-0.938s0.42-0.938 0.938-0.938h6.935c0.518 0 0.938 0.42 0.938 0.938s-0.42 0.938-0.938 0.938zM25.102 13.968h-6.935c-0.518 0-0.938-0.42-0.938-0.938s0.42-0.938 0.938-0.938h6.935c0.518 0 0.938 0.42 0.938 0.938s-0.42 0.938-0.938 0.938z"></path>
      <path d="M9.402 14.319c0-1.488 0.42-2.922 1.217-4.227-0.67-0.125-1.362-0.19-2.065-0.19-2.228 0-4.335 0.639-5.934 1.799-1.689 1.226-2.62 2.882-2.62 4.664 0 1.194 0.425 2.357 1.228 3.363 0.613 0.767 1.437 1.428 2.411 1.939-0.17 0.26-0.45 0.602-0.913 1.023-0.513 0.469-0.638 1.22-0.305 1.824 0.262 0.48 0.765 0.778 1.313 0.778 0.136 0 0.271-0.019 0.401-0.055 0.261-0.072 3.326-0.934 5.45-2.461 1.453-0.13 2.811-0.534 3.967-1.164-0.162-0.117-0.322-0.236-0.477-0.36-2.368-1.883-3.673-4.345-3.673-6.933z"></path>
    </symbol>
    <symbol id="icon-newspaper" viewBox="0 0 32 32">
      <title>newspaper</title>
      <path d="M26.359 3.25h-17.531c-1.32 0-2.391 1.069-2.391 2.391v1.594h-0.797c-1.32 0-2.391 1.069-2.391 2.391v15.938c0 1.76 1.427 3.188 3.188 3.188h19.125c1.76 0 3.188-1.427 3.188-3.188v-19.922c0-1.321-1.071-2.391-2.391-2.391zM27.156 25.563c0 0.878-0.716 1.594-1.594 1.594h-19.125c-0.879 0-1.594-0.716-1.594-1.594v-15.938c0-0.44 0.357-0.797 0.797-0.797h0.797v15.938c0 0.441 0.356 0.797 0.797 0.797s0.797-0.356 0.797-0.797v-19.125c0-0.44 0.357-0.797 0.797-0.797h17.531c0.439 0 0.797 0.357 0.797 0.797v19.922z"></path>
      <path d="M18.787 13.613h6.375c0.221 0 0.398-0.178 0.398-0.398s-0.178-0.398-0.398-0.398h-6.375c-0.219 0-0.398 0.178-0.398 0.398s0.179 0.398 0.398 0.398z"></path>
      <path d="M18.787 11.223h6.375c0.221 0 0.398-0.178 0.398-0.398s-0.178-0.398-0.398-0.398h-6.375c-0.219 0-0.398 0.178-0.398 0.398s0.179 0.398 0.398 0.398z"></path>
      <path d="M18.787 8.832h6.375c0.221 0 0.398-0.178 0.398-0.398s-0.178-0.398-0.398-0.398h-6.375c-0.219 0-0.398 0.178-0.398 0.398s0.179 0.398 0.398 0.398z"></path>
      <path d="M16.398 24.769h-6.375c-0.22 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.178-0.398-0.398-0.398z"></path>
      <path d="M16.398 22.378h-6.375c-0.22 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.178-0.398-0.398-0.398z"></path>
      <path d="M16.398 19.988h-6.375c-0.22 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.178-0.398-0.398-0.398z"></path>
      <path d="M25.164 24.769h-6.375c-0.221 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.179-0.398-0.398-0.398z"></path>
      <path d="M25.164 22.378h-6.375c-0.221 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.179-0.398-0.398-0.398z"></path>
      <path d="M25.164 19.988h-6.375c-0.221 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h6.375c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.179-0.398-0.398-0.398z"></path>
      <path d="M25.164 15.206h-15.141c-0.22 0-0.398 0.178-0.398 0.398s0.178 0.398 0.398 0.398h15.141c0.219 0 0.398-0.178 0.398-0.398s-0.179-0.398-0.398-0.398z"></path>
      <path d="M25.164 17.597h-15.141c-0.22 0-0.398 0.179-0.398 0.398 0 0.221 0.178 0.398 0.398 0.398h15.141c0.219 0 0.398-0.178 0.398-0.398 0-0.219-0.179-0.398-0.398-0.398z"></path>
      <path d="M10.422 13.609h5.578c0.441 0 0.797-0.356 0.797-0.797v-5.575c0-0.441-0.356-0.797-0.797-0.797h-5.578c-0.441 0-0.797 0.356-0.797 0.797v5.575c0 0.44 0.356 0.797 0.797 0.797zM11.219 8.031h3.984v3.984h-3.984v-3.984z"></path>
    </symbol>
    <symbol id="icon-megaphone" viewBox="0 0 32 32">
      <title>megaphone</title>
      <path d="M3.535 12.756v4.826c-0.007 1.083 0.866 1.966 1.948 1.973h0.42v-8.788h-0.395c-1.091 0.001-1.974 0.885-1.974 1.976z"></path>
      <path d="M12.064 20.552h-5.029l1.958 6.392c0.155 0.515 0.513 0.945 0.993 1.189 0.477 0.243 1.033 0.28 1.538 0.101 0.972-0.347 1.515-1.381 1.249-2.378-0.424-1.558-0.672-3.434-0.709-5.304z"></path>
      <path d="M6.9 10.767h5.173v8.788h-5.173z"></path>
      <path d="M13.071 10.751v8.836c3.054 0.129 6.003 1.412 7.964 2.497 0.998 0.554 1.961 1.17 2.881 1.846v-17.544c-0.959 0.682-1.958 1.306-2.991 1.871-2.85 1.553-5.486 2.391-7.854 2.495z"></path>
      <path d="M26.689 3.659c-0.983 0.002-1.778 0.8-1.776 1.783v19.449c0 0.981 0.795 1.776 1.776 1.776s1.776-0.795 1.776-1.776v-19.446c0.004-0.983-0.79-1.783-1.773-1.787z"></path>
    </symbol>
    <symbol id="icon-slack" viewBox="0 0 32 32">
<title>slack</title>
<path fill="rgba(255, 255, 255, 0.8)" style="fill: var(--color1, rgba(255, 255, 255, 0.8))" d="M3.556 32h24.889c1.964 0 3.556-1.592 3.556-3.556v-24.889c0-1.964-1.592-3.556-3.556-3.556h-24.889c-1.964 0-3.556 1.592-3.556 3.556v24.889c0 1.964 1.592 3.556 3.556 3.556z"></path>
<path fill="#fff" style="fill: var(--color2, #fff)" d="M25.774 13.068c-2.199-7.331-5.375-9.041-12.706-6.841s-9.041 5.375-6.841 12.706c2.199 7.33 5.376 9.041 12.706 6.841s9.041-5.376 6.841-12.706zM22.066 17.826l-1.382 0.463 0.479 1.431c0.194 0.579-0.118 1.205-0.697 1.399-0.126 0.043-0.254 0.061-0.379 0.057-0.452-0.012-0.869-0.301-1.020-0.755l-0.479-1.43-2.85 0.955 0.479 1.43c0.194 0.579-0.118 1.206-0.697 1.4-0.126 0.042-0.254 0.060-0.379 0.057-0.452-0.011-0.869-0.301-1.020-0.754l-0.479-1.431-1.382 0.463c-0.126 0.042-0.255 0.060-0.38 0.057-0.451-0.011-0.868-0.301-1.020-0.755-0.194-0.579 0.118-1.205 0.697-1.399l1.383-0.463-0.919-2.743-1.382 0.463c-0.126 0.042-0.254 0.060-0.38 0.057-0.451-0.011-0.868-0.301-1.020-0.755-0.194-0.579 0.119-1.205 0.697-1.399l1.383-0.463-0.479-1.43c-0.194-0.579 0.118-1.206 0.697-1.399s1.206 0.118 1.4 0.697l0.479 1.43 2.851-0.955-0.479-1.43c-0.194-0.579 0.119-1.206 0.697-1.4s1.206 0.119 1.4 0.697l0.479 1.431 1.383-0.463c0.579-0.194 1.205 0.119 1.399 0.697s-0.118 1.206-0.697 1.4l-1.382 0.463 0.919 2.744 1.383-0.463c0.579-0.193 1.205 0.119 1.399 0.697s-0.118 1.206-0.697 1.4zM14.115 15.106l0.919 2.743 2.851-0.955-0.919-2.743-2.851 0.955z"></path>
</symbol>
  </defs>
</svg>


    <div  class="wrapper wrapper--nofooter" >

      <header  class="header header--content"  role="banner">

  

  

  <nav class="menu">
    <div class="menu__logo">
      <a href="/">
        <img src="/resources/img/logo-colored.svg" alt="">
      </a>
    </div>

        <ul class="menu__list">
          <li class="menu__item">
            <a href="/getting-started/" class="menu__link menu__link--active">Start</a>
          </li>
          <li class="menu__item">
            <a href="/docs/" class="menu__link">Learn</a>
          </li>
          <li class="menu__item">
            <a href="/downloads/" class="menu__link">Download</a>
          </li>
          <li class="menu__item">
            <a href="/community/" class="menu__link">Contribute</a>
          </li>
          <!-- Icons -->
          <li class="menu__item">
            <a class="menu__link menu__link--iconed" href="https://github.com/oracle/graal">
              <svg class="icon icon-github-sign"><use xlink:href="#icon-github-sign"></use></svg>
            </a>
            <a class="menu__link menu__link--iconed" href="https://twitter.com/graalvm">
              <svg class="icon icon-social-network"><use xlink:href="#icon-social-network"></use></svg>
            </a>
          </li>
          <li class="menu__item"  tabindex="0">
            <span class="github-widget">
              <!-- Place this tag where you want the button to render. -->
              <a tabindex="-1" class="github-button" href="https://github.com/oracle/graal" data-icon="octicon-star" data-show-count="true" aria-label="Star oracle/graal on GitHub">Star</a>
            </span>
          </li>
          <!-- <li class="menu__item" tabindex="-1">
            <a href="/downloads/" class="btn btn-try btn-primary">Try graalvm</a>
          </li> -->
        </ul>

    <div role="button" class="menu-btn menu-btn--menu js-show-menu" tabindex="-1" title="sweet hamburger">
      <div class="hamburger"><div class="inner"></div></div>
    </div>

    <!--<button class="btn btn-mobile-menu js-show-menu"><div class="inner"></div></button>-->
  </nav>
  
</header>


      <main  class="content"   aria-label="Content">
        <div class="wrapper wrapper-content">
  <article class="docs">

  <div class="container-fluid container-fluid--custom-sm">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1">
          <div class="row d-flex flex-wrap">
            <div class="col-sm-3 col-bg">
              <div class="sidebar-wrap">
                <div class="sidebar">
                  
<div class="toc-floating">


<script>
var sidebar = document.currentScript.parentElement;

// 
//   $(document).ready(function(){
//     $('.sidebar-wrap').stickySidebar({
//       topSpacing: 74,
//       bottomSpacing: 40
//     });
//   });
//
// 


$(document).ready(function(){
  var header = $('.header').height();
  var invisibleBlock;

  $("#content-wrapper h1, #content-wrapper h2").each(function() {
    invisibleBlock = $(this).before("<div class='anchor' id="+ $(this).attr("id") +"></div>");
  });

  $(window).scroll(function() {
    var lastitem = null;
    $("#content-wrapper h1, #content-wrapper h2").each(function() {
      var heading = $(this);
      var position = (heading.position().top - heading.height()) - $(window).scrollTop();
      var listitem = $(sidebar).find("li").filter(function() {
        return $(this).find("a").attr("href") == "#" + heading.attr("id");
      });
      listitem.removeClass("toc-bullets-focused");
      if (position <= 0) {
        lastitem = listitem;
      }
    });
    if (lastitem != null) lastitem.addClass("toc-bullets-focused");
  });
});

</script>

<ul class="toc-bullets">

  

  

  

  

  

  
    

    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/why-graal/">
            Why GraalVM?
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/getting-started/">
            Getting Started
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/examples/">
            Examples
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/reference-manual/compatibility/">
            Compatibility
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/release-notes/">
            Release Notes
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/reference-manual/">
            Reference Manual
          </a>
        </li>

        
        


        
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/install-components/">
              GraalVM Updater
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/js/">
              JavaScript &amp; Node.js
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/jvm/">
              JVM Languages Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/llvm/">
              LLVM Languages Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/python/">
              Python Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/r/">
              R Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub toc-bullets-highlight">
          
            
            <a href="/docs/reference-manual/languages/ruby/">
              Ruby Reference
            </a>
          </li>

          
            <div>
    <script>
      var scriptElement = document.currentScript;
      var div = $(scriptElement.parentElement);
      $(window).on("load", function() {
        $("#content-wrapper h2").each(function() {
          var li = $("<li></li>", { class: "toc-bullets-sub toc-bullets-sub-3" });
          var a = $("<a></a>", { href: "#" + $(this).attr("id") });
          a.text($(this).text());
          li.append(a);
          div.append(li);
        });
      });
    </script>
  </div>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/scala/">
              Scala Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/languages/wasm/">
              WebAssembly Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/native-image/">
              Native Image
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/polyglot/">
              Polyglot Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="/docs/reference-manual/embed/">
              Embedding Reference
            </a>
          </li>

          
        
          
          <li class="toc-bullets-sub">
          
            
            <a href="">
              
            </a>
          </li>

          
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/reference-manual/user/">
            User Documentation
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/graalvm-as-a-platform/">
            GraalVM as a Platform
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/security-guide/">
            Security Guide
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/tools/">
            Tools
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/support/">
            Support
          </a>
        </li>

        
        


        
        
      
    
      
        
          <li class="toc-bullets-main">
        
          
          <a href="/docs/faq/">
            FAQ
          </a>
        </li>

        
        


        
        
      
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

</ul>
<!-- Search form -->
<form class="search-container" action="/docs/search" autocomplete="on" method="get">
  <input type="text" id="search-box" name="query" placeholder="Search">
  <button type="submit" class="searchbttn"></button>
</form>

</div>

                </div>
              </div>
            </div>

            <div class="col-sm-9">
              <div id="content-wrapper" class="docs-content docs-content--with-sidebar">
                <p>TruffleRuby is an implementation of the Ruby programming language on top of GraalVM that aims to:</p>

<ul>
  <li>Run idiomatic Ruby code faster</li>
  <li>Run Ruby code in parallel</li>
  <li>Boot Ruby applications in less time</li>
  <li>Execute C extensions in a managed environment</li>
  <li>Add fast and low-overhead interoperability with languages like Java, JavaScript, Python and R</li>
  <li>Provide new tooling such as debuggers and monitoring</li>
  <li>All while maintaining very high compatibility with the standard implementation of Ruby</li>
</ul>

<p>Note, TruffleRuby is currently <a href="https://docs.oracle.com/en/graalvm/enterprise/20/guide/overview/license/licensing-information.html">experimental</a>. If you are attempting to experiment with deploying TruffleRuby to production we
would encourage you to contact us so we can help you understand what is possible at
the moment and to help solve any issues for you.</p>

<h3 id="truffleruby-repository">TruffleRuby repository</h3>

<p>The TruffleRuby project is open source and located on GitHub: <a href="https://github.com/oracle/truffleruby">oracle/truffleruby</a>. If you encounter any issues or want to leave feedback or feature requests please create an issue in this repository.</p>

<h2 id="installing-ruby">Installing Ruby</h2>

<p>TruffleRuby can be installed to a GraalVM build with the functional <code>gu</code> utility:</p>
<pre><code>gu install ruby
</code></pre>
<p>The above command will install a community version of a component from GitHub catalog.
For GraalVM Enterprise users, the <a href="/docs/reference-manual/install-components/#component-installation-modes">manual component installation</a> is required. See <code>bin/gu --help</code> for more information.</p>

<h2 id="running-ruby-applications">Running Ruby applications</h2>

<p>Run Ruby applications with the standard <code>ruby</code> command:</p>

<pre><code>$ ruby [options] program.rb
</code></pre>

<p>Other Ruby commands are available, including <code>gem</code>, <code>irb</code>, <code>rake</code>, <code>rdoc</code>,
and <code>ri</code>.</p>

<p>TruffleRuby uses the
<a href="/docs/reference-manual/languages/ruby/#options">same options as the standard implementation of Ruby</a> with some additions.</p>

<h3 id="installing-a-ruby-gem">Installing a Ruby gem</h3>

<pre><code>$ gem install chunky_png
$ ruby -r chunky_png -e "puts ChunkyPNG::Color.to_hex(ChunkyPNG::Color('mintcream @ 0.5'))"
#f5fffa80
</code></pre>

<h2 id="what-does-truffleruby-do">What does TruffleRuby do?</h2>

<h4 id="run-idiomatic-ruby-code-faster">Run idiomatic Ruby code faster</h4>

<p>TruffleRuby in conjunction with the GraalVM produces very fast machine code.
Traditionally, performance-critical Ruby code has had to be extracted out to
language extensions implemented in native code. This approach is cumbersome and
error-prone. TruffleRuby on the GraalVM is able to optimize Ruby code. More
importantly, it can optimize idiomatic Ruby code.</p>

<p>The following example template rendering benchmark is taken from the
<a href="https://github.com/ruby/ruby/blob/6f91160fa9413e501239ab883dacc5064d0a26
61/benchmark/erb_render.yml">MRI benchmark suite</a>.
It has been modified to work with the <code>benchmark-ips</code> benchmarking harness,
and to write the result of the render to a file in order to include IO.</p>

<pre><code class="language-ruby">require 'benchmark/ips'
require 'erb'

data = &lt;&lt;erb
&lt;html&gt;
&lt;head&gt; &lt;%= title %&gt; &lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt; &lt;%= title %&gt; &lt;/h1&gt;
  &lt;p&gt;
    &lt;%= content %&gt;
  &lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
erb

title = 'hello world!'
content = "hello world!\n" * 10
erb = ERB.new(data)
out = File.open('test.out', 'w')

Benchmark.ips do |x|
  x.iterations = 3
  x.report("erb") { out.write(erb.result(binding)) }
end
</code></pre>

<pre><code class="language-shell">$ gem install benchmark-ips
$ ruby benchmark.rb
</code></pre>

<style>
  table {
    width: 100%;
    text-align: center;
    border-collapse: separate;
    border-spacing: 2px;
    margin: 20px 0 20px 0;
  }

  thead {
    font-weight: bold;
    background-color: #e4e4e4;
  }

  td:last-child {
    font-weight: bold;
  }
</style>

<table>
  <thead>
    <tr>
      <th>MRI 2.5.3</th>
      <th>JRuby 9.2.5.0</th>
      <th>TruffleRuby <br /> CE native</th>
      <th>TruffleRuby <br /> EE JVM</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>34 K renders/s</td>
      <td>29 K renders/s</td>
      <td>542 K renders/s <br /> (16x faster)</td>
      <td>1 M renders/s <br /> (31x faster)</td>
    </tr>
  </tbody>
</table>

<h4 id="run-ruby-code-in-parallel">Run Ruby code in parallel</h4>

<p>TruffleRuby runs threads in parallel, without a global-interpreter-lock. It
includes sophisticated techniques to automatically make objects thread-safe only
when they are going to be used by more than one thread, leaving them
unsynchronized when used from only one thread to give you parallelism without an
overhead when you do not want to use it.</p>

<h4 id="boot-ruby-applications-in-less-time">Boot Ruby applications in less time</h4>

<p>A hello-world script in TruffleRuby runs about as fast as MRI, or over ten times
faster than JRuby. TruffleRuby can run without a heavy-weight JVM so that you
start running your Ruby code almost immediately.</p>

<h4 id="execute-c-extensions-in-a-managed-environment">Execute C extensions in a managed environment</h4>

<p>TruffleRuby executes C extensions using a managed C interpreter and just-in-time
compiler, not by running native code.</p>

<h4 id="provide-new-tooling">Provide new tooling</h4>

<p>TruffleRuby includes a built-in debugger that allows you to use Chrome DevTools
on your Ruby application.</p>

<pre><code class="language-shell">$ ruby --inspect test.rb
Debugger listening on port 9229.
To start debugging, open the following URL in Chrome:
    chrome-devtools://devtools/bundled/inspector.html?ws=127.0.0.1:9229/ffffffffffffffff-fffffffffffffffff
</code></pre>

<p><img src="/docs/img/debugger.png" alt="" title="Chrome DevTools debugging Ruby in GraalVM" /></p>

<h4 id="add-fast-and-low-overhead-interoperability">Add fast and low-overhead interoperability</h4>

<p>TruffleRuby allows you to write polyglot programs using the other languages from
GraalVM.</p>

<h4 id="high-compatibility-with-the-standard-implementation-of-ruby">High compatibility with the standard implementation of Ruby</h4>

<p>TruffleRuby aims to be fully compatible with the standard implementation of
Ruby, MRI, version 2.6.5. We test extensively using the MRI
test suite and the Ruby Spec project.</p>

<h2 id="interoperability">Interoperability</h2>

<p>GraalVM supports several other programming languages, including JavaScript, R,
Python, and LLVM. TruffleRuby lets you run code from these languages, and use
objects and methods from one language in another.</p>

<p>As an example, we can pass a JSON-encoded string into Graal.js, decode it into
a JavaScript object, and then inspect the decoded object in Ruby:</p>

<pre><code class="language-ruby">require 'json'

obj = {
  time: Time.now,
  msg: 'Hello World',
  payload: (1..10).to_a
}

encoded = JSON.dump(obj)

js_obj = Polyglot.eval('js', 'JSON.parse').call(encoded)

puts js_obj[:time]
puts js_obj[:msg]
puts js_obj[:payload].join(' ')
</code></pre>

<p>We use the <code>--jvm --polyglot</code> option to say we want to run a polyglot program.</p>

<pre><code class="language-shell">$ ruby --jvm --polyglot test.rb
2018-04-11 15:25:08 -0700
Hello World
1 2 3 4 5 6 7 8 9 10
</code></pre>

<h2 id="compatibility">Compatibility</h2>

<p>TruffleRuby aims to be fully compatible with the standard implementation of
Ruby, MRI, version 2.6.5.</p>

<p>Any incompatibility with MRI is considered a bug, except for rare cases detailed below.
If you find an incompatibility with MRI, please <a href="https://github.com/oracle/truffleruby/issues">report</a> it to us.</p>

<p>Our policy is to match the behaviour of MRI, except where we do not know how to
do so with good performance for typical Ruby programs. Some features work but
will have very low performance whenever they are used and we advise against
using them on TruffleRuby if you can. Some features are missing entirely and may
never be implemented. In a few limited cases, we are deliberately incompatible
with MRI in order to provide a greater capability.</p>

<p>In general, we are not looking to debate whether Ruby features are good, bad, or
if we could design the language better. If we can support a feature, we will do.</p>

<p>In the future, we aim to provide compatibility with extra functionality provided
by JRuby, but at the moment we do not.</p>

<h3 id="identification">Identification</h3>

<p>TruffleReport defines these constants for identification:</p>

<ul>
  <li><code>RUBY_ENGINE</code> is <code>'truffleruby'</code></li>
  <li><code>RUBY_VERSION</code> is the compatible MRI version</li>
  <li><code>RUBY_REVISION</code> is the compatible MRI version revision</li>
  <li><code>RUBY_PATCHLEVEL</code> is always zero</li>
  <li><code>RUBY_RELEASE_DATE</code> is the Git commit date</li>
  <li><code>RUBY_ENGINE_VERSION</code> is the GraalVM version, or <code>0.0-</code> and the Git commit hash if your build is not part of a GraalVM release.</li>
</ul>

<p>Additionally, TruffleRuby defines:</p>

<ul>
  <li><code>TruffleRuby.revision</code> which is the Git commit hash</li>
</ul>

<p>In the C API, we define a preprocessor macro <code>TRUFFLERUBY</code>.</p>

<h3 id="features-entirely-missing">Features entirely missing</h3>

<h4 id="continuations-and-callcc">Continuations and <code>callcc</code></h4>

<p>Continuations and <code>callcc</code> are unlikely to ever be implemented in TruffleRuby,
as their semantics fundamentally do not match the technology that we are using.</p>

<h4 id="fork">Fork</h4>

<p>You cannot <code>fork</code> the TruffleRuby interpreter. The feature is unlikely to ever
be supported when running on the JVM but could be supported in the future in
the native configuration. The correct and portable way to test if <code>fork</code> is
available is:</p>

<pre><code class="language-ruby">Process.respond_to?(:fork)
</code></pre>

<h4 id="standard-libraries">Standard libraries</h4>

<p>The following standard libraries are unsupported.</p>

<ul>
  <li><code>continuation</code></li>
  <li><code>dbm</code></li>
  <li><code>gdbm</code></li>
  <li><code>sdbm</code></li>
  <li><code>debug</code> (could be implemented in the future, use <a href="tools.md"><code>--inspect</code></a> instead)</li>
  <li><code>profile</code> (could be implemented in the future, use <a href="tools.md"><code>--cpusampler</code></a> instead)</li>
  <li><code>profiler</code> (could be implemented in the future, use <a href="tools.md"><code>--cpusampler</code></a> instead)</li>
  <li><code>io/console</code> (partially implemented, could be implemented in the future)</li>
  <li><code>io/wait</code> (partially implemented, could be implemented in the future)</li>
  <li><code>pty</code> (could be implemented in the future)</li>
  <li><code>ripper</code> (has a no-op implementation, and could be implemented in the future)</li>
  <li><code>win32</code></li>
  <li><code>win32ole</code></li>
</ul>

<p><code>fiddle</code> is not yet implemented - the module and some methods are there
but not enough to run anything serious.</p>

<p>We provide our own included implementation of the interface of the <code>ffi</code> gem,
like JRuby and Rubinius. The implementation should be fairly complete and passes
all the specs of the <code>ffi</code> gem except for some rarely-used corner cases.</p>

<h4 id="safe-levels">Safe levels</h4>

<p><code>$SAFE</code> and <code>Thread#safe_level</code> are <code>0</code> and no other levels are implemented.
Trying to use level <code>1</code> will raise a <code>SecurityError</code>. Other levels will raise
<code>ArgumentError</code> as in standard Ruby. See our <a href="security.md">security notes</a> for
more explanation on this.</p>

<h4 id="internal-mri-functionality">Internal MRI functionality</h4>

<p><code>RubyVM</code> is not intended for users and is not implemented.</p>

<h4 id="rdoc-html-generation">RDoc HTML generation</h4>

<p>TruffleRuby does not include the Darkfish theme for RDoc.</p>

<h3 id="features-with-major-differences">Features with major differences</h3>

<h4 id="threads-run-in-parallel">Threads run in parallel</h4>

<p>In MRI, threads are scheduled concurrently but not in parallel. In TruffleRuby
threads are scheduled in parallel. As in JRuby and Rubinius, you are responsible
for correctly synchronising access to your own shared mutable data structures,
and we will be responsible for correctly synchronising the state of the
interpreter.</p>

<h4 id="threads-detect-interrupts-at-different-points">Threads detect interrupts at different points</h4>

<p>TruffleRuby threads may detect that they have been interrupted at different
points in the program to where it would on MRI. In general, TruffleRuby seems
to detect an interrupt sooner than MRI. JRuby and Rubinius are also different
to MRI, the behaviour is not documented in MRI, and it is likely to change
between MRI versions, so we would not recommend depending on interrupt points
at all.</p>

<h4 id="fibers-do-not-have-the-same-performance-characteristics-as-in-mri">Fibers do not have the same performance characteristics as in MRI</h4>

<p>Most use cases of fibers rely on them being easy and cheap to start up and
having low memory overheads. In TruffleRuby we implement fibers using operating
system threads, so they have the same performance characteristics as Ruby
threads. As with coroutines and continuations, a conventional implementation
of fibers fundamentally is not compatible with the execution model we are
currently using.</p>

<h4 id="some-classes-marked-as-internal-will-be-different">Some classes marked as internal will be different</h4>

<p>MRI provides some classes that are described in the documentation as being only
available on MRI (C Ruby). We implement these classes if it is practical to do
so, but this is not always the case. For example <code>RubyVM</code> is not available.</p>

<h3 id="features-with-subtle-differences">Features with subtle differences</h3>

<h4 id="command-line-switches">Command line switches</h4>

<p><code>-y</code>, <code>--yydebug</code>, <code>--dump=</code>, <code>--debug-frozen-string-literal</code> are ignored with
a warning as they are unsupported development tools.</p>

<p>Programs passed in <code>-e</code> arguments with magic-comments must have an encoding that
is UTF-8 or a subset of UTF-8, as the JVM has already decoded arguments by the
time we get them.</p>

<p><code>--jit</code> options and the <code>jit</code> feature are not supported because TruffleRuby
uses the GraalVM compiler as a JIT.</p>

<h4 id="time-is-limited-to-millisecond-precision">Time is limited to millisecond precision</h4>

<p>Ruby normally provides microsecond (millionths of a second) clock precision,
but TruffleRuby is currently limited to millisecond (thousands of a second)
precision. This applies to <code>Time.now</code> and
<code>Process.clock_gettime(Process::CLOCK_REALTIME)</code>.</p>

<h4 id="setting-the-process-title-does-not-always-work">Setting the process title does not always work</h4>

<p>Setting the process title (via <code>$0</code> or <code>Process.setproctitle</code> in Ruby) is done
as best-effort. It may not work, or the title you try to set may be truncated.</p>

<h4 id="line-numbers-other-than-1-work-differently">Line numbers other than 1 work differently</h4>

<p>In an <code>eval</code> where a custom line number can be specified, line numbers below 1
are treated as 1, and line numbers above 1 are implemented by inserting blank
lines in front of the source before parsing it.</p>

<p>The <code>erb</code> standard library has been modified to not use negative line numbers.</p>

<h4 id="polyglot-standard-io-streams">Polyglot standard IO streams</h4>

<p>If you use standard IO streams provided by the Polyglot engine, via the
experimental <code>--polyglot-stdio</code> option, reads and writes to file descriptors 1,
2 and 3 will be redirected to these streams. That means that other IO
operations on these file descriptors, such as <code>isatty</code> may not be relevant for
where these streams actually end up, and operations like <code>dup</code> may lose the
connection to the polyglot stream. For example, if you <code>$stdout.reopen</code>, as
some logging frameworks do, you will get the native standard-out, not the
polyglot out.</p>

<p>Also, IO buffer drains, writes on IO objects with <code>sync</code> set, and
<code>write_nonblock</code>, will not retry the write on <code>EAGAIN</code> and <code>EWOULDBLOCK</code>, as the
streams do not provide a way to detect this.</p>

<h4 id="error-messages">Error messages</h4>

<p>Error message strings will sometimes differ from MRI, as these are not generally
covered by the Ruby Specification suite or tests.</p>

<h4 id="signals">Signals</h4>

<p>The set of signals that TruffleRuby can handle is different from MRI. When
launched as a GraalVM Native Image, TruffleRuby allows trapping all the same
signals that MRI does, as well as a few that MRI does not. The only signals
that cannot be trapped are <code>KILL</code>, <code>STOP</code>, and <code>VTALRM</code>. Consequently, any
signal handling code that runs on MRI can run on TruffleRuby without modification
in the GraalVM Native Image.</p>

<p>However, when run on the JVM, TruffleRuby is unable to trap <code>USR1</code> or <code>QUIT</code>,
as these are reserved by the JVM itself. Any code that relies on being able to
trap those signals will need to fallover to another available signal. Additionally,
<code>FPE</code>, <code>ILL</code>, <code>KILL</code>, <code>SEGV</code>, <code>STOP</code>, and <code>VTALRM</code> cannot be trapped, but these
signals are also unavailable on MRI.</p>

<p>When TruffleRuby is run as part of a polyglot application, any signals that are
handled by another language become unavailable for TruffleRuby to trap.</p>

<h3 id="features-with-very-low-performance">Features with very low performance</h3>

<h4 id="objectspace"><code>ObjectSpace</code></h4>

<p>Using most methods on <code>ObjectSpace</code> will temporarily lower the performance of
your program. Using them in test cases and other similar offline operations is
fine, but you probably do not want to use them in the inner loop of your
production application.</p>

<h4 id="set_trace_func"><code>set_trace_func</code></h4>

<p>Using <code>set_trace_func</code> will temporarily lower the performance of your program.
As with <code>ObjectSpace</code>, we would recommend that you do not use this in the inner
loop of your production application.</p>

<h4 id="backtraces">Backtraces</h4>

<p>Throwing exceptions, and other operations which need to create a backtrace, are
slower than on MRI. This is because we have to undo optimizations that we have
applied to run your Ruby code fast in order to recreate the backtrace entries.
We would not recommend using exceptions for control flow on any implementation of
Ruby anyway.</p>

<p>To help alleviate this problem in some cases backtraces are automatically
disabled where we dynamically detect that they probably will not be used. See the
experimental <code>--backtraces-omit-unused</code> option.</p>

<h3 id="c-extension-compatibility">C Extension Compatibility</h3>

<h4 id="value-is-a-pointer"><code>VALUE</code> is a pointer</h4>

<p>In TruffleRuby <code>VALUE</code> is a pointer type (<code>void *</code>) rather than a
integer type (<code>long</code>). This means that <code>switch</code> statements cannot be
done using a raw <code>VALUE</code> as they can with MRI. You can normally
replace any <code>switch</code> statement with <code>if</code> statements with little
difficulty if required.</p>

<h4 id="identifiers-may-be-macros-or-functions">Identifiers may be macros or functions</h4>

<p>Identifiers which are normally macros may be functions, functions may be macros,
and global variables may be macros. This may cause problems where they are used
in a context which relies on a particular implementation (e.g., taking the
address of it, assigning to a function pointer variable and using defined() to
check if a macro exists). These issues should all be considered bugs and be
fixed, please report these cases.</p>

<h4 id="rb_scan_args"><code>rb_scan_args</code></h4>

<p><code>rb_scan_args</code> only supports up to ten pointers.</p>

<h4 id="rdata"><code>RDATA</code></h4>

<p>The <code>mark</code> function of <code>RDATA</code> and <code>RTYPEDDATA</code> is not called during
garbage collection. Instead we simulate this by caching information
about objects as they are assigned to structs, and periodically run
all mark functions when the cache has become full to represent those
object relationships in a way that the our garbage collector will
understand. The process should behave identically to MRI.</p>

<h3 id="compatibility-with-jruby">Compatibility with JRuby</h3>

<h4 id="ruby-to-java-interop">Ruby to Java interop</h4>

<p>TruffleRuby does not support the same interop to Java interface as JRuby does.
We provide <a href="polyglot.md">an alternate polyglot API</a> for interoperating with
multiple languages, including Java, instead.</p>

<h4 id="java-to-ruby-interop">Java to Ruby interop</h4>

<p>Calling Ruby code from Java is supported by the
<a href="http://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/package-summary.html">GraalVM polyglot API</a>.</p>

<h4 id="java-extensions">Java extensions</h4>

<p>Use Java extensions written for JRuby is not supported. We could apply the same
techniques as we have developed to run C extensions to this problem, but it is
not clear if this will ever be a priority.</p>

<h3 id="compatibility-with-rubinius">Compatibility with Rubinius</h3>

<p>We do not have any plans at the moment to provide support for Rubinius
extensions to Ruby.</p>

<h3 id="features-not-yet-supported-in-native-configuration">Features not yet supported in native configuration</h3>

<ul>
  <li>Java interop</li>
</ul>

<p>Running TruffleRuby in the native configuration is mostly the same as running
on the JVM. There are differences in resource management, as both VMs use
different garbage collectors. But, functionality-wise, they are essentially on
par with one another. The big difference is support for Java interop, which
currently relies on reflection. TruffleRubys implementation of Java interop
does not work with the GraalVM Native Image Generators limited support for
runtime reflection.</p>

<h3 id="spec-completeness">Spec Completeness</h3>

<p>How many specs are there? is not a question with an easy precise answer. The
number of specs varies for different versions of the Ruby language, different
platforms, different versions of the specs, and different configurations of
the specs. The specs for the standard library and C extension API are also
very uneven and they so can give misleading results.</p>

<p>For the command line interface, the language, and the core library specs,
which covers the bulk of what TruffleRuby reimplements, this is how many spec
examples TruffleRuby runs successfully compared to our compatible version of
MRI running the version of specs from TruffleRuby:</p>

<ul>
  <li>Command line 112 / 136, <strong>82%</strong></li>
  <li>Language 2270 / 2332, <strong>97%</strong></li>
  <li>Core library 19453 / 20644, <strong>94%</strong></li>
</ul>

<h3 id="compatibility-with-gems">Compatibility with gems</h3>

<p>You can use the <a href="/docs/reference-manual/compatibility/">compatibility checker</a> to find whether the gems you are interested in are tested on GraalVM, whether the tests pass successfully and so on. Additionally, you can drop your <code>Gemfile.lock</code> file into that tool and it will analyze all the gems you are using at once. Note that the processing is done on the client-side, so no information is uploaded to any servers.</p>

<h2 id="truffleruby-options-and-command-line">TruffleRuby Options and Command Line</h2>

<p>TruffleRuby has the same command line interface as our compatible MRI version.</p>

<pre><code>Usage: truffleruby [switches] [--] [programfile] [arguments]
  -0[octal]       specify record separator (\0, if no argument)
  -a              autosplit mode with -n or -p (splits $_ into $F)
  -c              check syntax only
  -Cdirectory     cd to directory before executing your script
  -d, --debug     set debugging flags (set $DEBUG to true)
  -e 'command'    one line of script. Several -e's allowed. Omit [programfile]
  -Eex[:in], --encoding=ex[:in]
                  specify the default external and internal character encodings
  -Fpattern       split() pattern for autosplit (-a)
  -i[extension]   edit ARGV files in place (make backup if extension supplied)
  -Idirectory     specify $LOAD_PATH directory (may be used more than once)
  -l              enable line ending processing
  -n              assume 'while gets(); ... end' loop around your script
  -p              assume loop like -n but print line also like sed
  -rlibrary       require the library before executing your script
  -s              enable some switch parsing for switches after script name
  -S              look for the script using PATH environment variable
  -T[level=1]     turn on tainting checks
  -v              print the version number, then turn on verbose mode
  -w              turn warnings on for your script
  -W[level=2]     set warning level; 0=silence, 1=medium, 2=verbose
  -x[directory]   strip off text before #!ruby line and perhaps cd to directory
  --copyright     print the copyright
  --enable={gems|rubyopt|...}[,...], --disable={gems|rubyopt|...}[,...]
                  enable or disable features. see below for available features
  --external-encoding=encoding, --internal-encoding=encoding
                  specify the default external or internal character encoding
  --verbose       turn on verbose mode and disable script from stdin
  --version       print the version number, then exit
  --help          show this message, -h for short message

Features:
  gems            rubygems (default: enabled)
  did_you_mean    did_you_mean (default: enabled)
  rubyopt         RUBYOPT environment variable (default: enabled)
  frozen-string-literal
                  freeze all string literals (default: disabled)
</code></pre>

<p>TruffleRuby also reads the <code>RUBYOPT</code> environment variable, as in standard
Ruby, if run from the Ruby launcher.</p>

<h3 id="unlisted-ruby-switches">Unlisted Ruby switches</h3>

<p>MRI has some extra Ruby switches which are are not normally listed in help output
but are documented in the Ruby manual page.</p>

<pre><code>  -Xdirectory     cd to directory before executing your script (same as -C)
  -U              set the internal encoding to UTF-8
  -K[EeSsUuNnAa]  sets the source and external encoding
  --encoding=external[:internal]
                  the same as --external-encoding=external and optionally --internal-encoding=internal
</code></pre>

<h3 id="truffleruby-options">TruffleRuby options</h3>

<p>TruffleRuby options are set via <code>--option=value</code>, or you can use
<code>--ruby.option=value</code> from any launcher. You can omit <code>=value</code> to set to <code>true</code>.</p>

<p>Available options and documentation can be seen with <code>--help:languages</code>.
Additionally set <code>--help:expert</code> and <code>--help:internal</code> to see those categories
of options. Note: All options are <a href="https://docs.oracle.com/en/graalvm/enterprise/20/guide/overview/license/licensing-information.html">experimental</a> and subject to change at any time.</p>

<p>Options can also be set as JVM system properties, where they have a prefix
<code>polyglot.ruby.</code>. For example <code>--vm.Dpolyglot.ruby.cexts.remap=true</code>, or via
any other way of setting JVM system properties. Finally, options can be set as
GraalVM polyglot API configuration options.</p>

<p>The priority for options is the command line first, then the Graal-SDK polyglot
API configuration, then system properties last.</p>

<p>TruffleRuby options, as well as conventional Ruby options and VM options, can
also bet set in the <code>TRUFFLERUBYOPT</code> and <code>RUBYOPT</code> environment variables, if
run from the Ruby launcher.</p>

<p><code>--</code> or the first non-option argument stops processing of TrufflRuby and VM
options in the same way it stops processing of Ruby arguments.</p>

<h3 id="vm-options">VM options</h3>

<p>To set options in the underlying VM, use <code>--vm.</code>, valid for both the native
configuration and the JVM configuration.</p>

<p>For example <code>--vm.Dsystem_property=value</code> or <code>--vm.ea</code>.</p>

<p>To set the classpath, use the <code>=</code> notation, rather than two separate arguments.
For example <code>--vm.cp=lib.jar</code> or <code>--vm.classpath=lib.jar</code>.</p>

<h3 id="other-binary-switches">Other binary switches</h3>

<p>Other binaries, such as <code>irb</code>, <code>gem</code>, and so on, support exactly the same
switches as in standard Ruby.</p>

<h3 id="determining-the-truffleruby-home">Determining the TruffleRuby home</h3>

<p>TruffleRuby needs to know where to locate files such as the standard library.
These are stored in the TruffleRuby home directory.</p>

<p>The search priority for finding Ruby home is:</p>

<ul>
  <li>The value of the TruffleRuby <code>home</code> option (i.e., <code>--home=path/to/truffleruby_home</code>).</li>
  <li>The home that the Truffle framework reports.</li>
  <li>The parent of the directory containing the Ruby launcher executable.</li>
</ul>

<p>If the <code>home</code> option is set, it is used even if it does not appear to be a correct
home location. Other options are tried until one is found that appears to be a
correct home location. If none appears to be correct a warning will be given but
the program will continue and you will not be able to require standard
libraries. You can tell TruffleRuby not to try to find a home at all using the
<code>no-home-provided</code> option.</p>

<h2 id="operations-manual">Operations Manual</h2>

<p>If you are attempting to experiment with deploying TruffleRuby to production we
would encourage you to contact us so we can help you understand what is possible
at the moment and to help solve any issues for you.</p>

<h3 id="truffleruby-configurations">TruffleRuby configurations</h3>

<p>There are two main configurations of TruffleRuby - <em>Native Image</em> and <em>JVM</em>. It is
important to understand the different configurations of TruffleRuby, as each has
different capabilities and performance characteristics. You should pick the
execution mode that is appropriate for your application.</p>

<p>When distributed as part of GraalVM, TruffleRuby by default runs in the <em>Native Image</em>
configuration. In this configuration, TruffleRuby is ahead-of-time compiled to a
standalone native executable. This means that you do not need a JVM installed on
your system to use it. The advantage of the native configuration is that it
<a href="https://github.com/oracle/truffleruby/blob/master/doc/contributor/svm.md">starts about as fast as MRI</a>,
it may use less memory, and it becomes fast in less time than the <em>JVM</em> configuration. The disadvantage
of the native configuration is that you cannot use Java tools like VisualVM, you
you cannot use Java interoperability, and <em>peak performance may be lower than on the
JVM</em>. The Native Image configuration is used by default, but you can also request it
using <code>--native</code>. To use polyglot programming with the <em>native</em> configuration,
you need to use the <code>--polyglot</code> flag.</p>

<p>TruffleRuby can also be used in the <em>JVM</em> configuration, where it runs as a
normal Java application on the JVM, as any other Java application would. The
advantage of the JVM configuration is that you can use Java interoperability, and
<em>peak performance may be higher than the Native Image configuration</em>. The disadvantage
of the JVM configuration is that it takes much longer to start and to get fast,
and may use more memory. The JVM configuration is requested using <code>--jvm</code>.</p>

<p>If you are running a short-running program you probably want the default,
<em>Native Image</em>, configuration. If you are running a long-running program and want the
highest possible performance you probably want the <em>JVM</em> configuration, by using
<code>--jvm</code>.</p>

<h3 id="getting-the-best-startup-time-performance">Getting the best startup time performance</h3>

<p>To get the best startup time performance in most cases you want to use the
native configuration, which is the default.</p>

<h3 id="getting-the-lowest-memory-footprint">Getting the lowest memory footprint</h3>

<p>To get the lowest memory footprint you probably initially want to use the native
configuration, but as you get a larger working set of objects you may find that
the simpler garbage collector and current lack of compressed ordinary object
pointers (OOPS) actually increases your memory footprint and you will be better
off with the JVM configuration using <code>--jvm</code> to reduce memory use.</p>

<h3 id="getting-the-best-peak-performance-from-truffleruby">Getting the best peak performance from TruffleRuby</h3>

<p>To get the best peak performance from TruffleRuby for longer-running
applications we would in most cases recommend the JVM configuration with
<code>--jvm</code>.</p>

<p>However to reach this peak performance you need to <em>warm-up</em> TruffleRuby, as you
do with most heavily optimizing virtual machines. This is done by running the
application under load for a period of time. If you monitor the performance (by
measuring operation time, or response time) you will see it reduce over time and
then probably stabilize.</p>

<h3 id="tuning-truffleruby">Tuning TruffleRuby</h3>

<p>To tune TruffleRuby you will need to consider the options of either your JVM or
the Native Image, and then the Truffle framework, and the GraalVM compiler.</p>

<p>TruffleRuby has a large set of options, which you can see with the <code>--help:languages</code>
flag.</p>

<h3 id="logging">Logging</h3>

<p>Ruby application logging and warning works as in the standard implementation of
Ruby.</p>

<p>For logging of TruffleRuby internals, standard Java logging is used. The logging
level can be set with <code>--log.level=INFO</code>, <code>=FINEST</code>, or so on.</p>

<h3 id="troubleshooting-truffleruby">Troubleshooting TruffleRuby</h3>
<p>Note: The GraalVM implementation of Ruby is <a href="https://docs.oracle.com/en/graalvm/enterprise/20/guide/overview/license/licensing-information.html">experimental</a> and we cannot guarantee it to be bug free. Experimental features might
never be included in a production version, or might change significantly before
being considered production-ready.
TruffleRuby uses sophisticated techniques to optimise a Ruby program and its users are strongly encouraged to submit useful bug reports to <a href="https://github.com/oracle/truffleruby/issues">Truffleruby issues</a>.
If you encounter a performance problem, please consider the recommendations in <a href="https://github.com/oracle/truffleruby/blob/master/doc/user/reporting-performance-problems.md">Reporting Performance Problems</a> document.</p>


              </div>

              <div role="button" class="menu-btn menu-btn--sidebar js-show-sidebar" title="sweet hamburger">
                <div class="hamburger"><div class="inner"></div></div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
</article>

</div>

      </main>

      <footer class="footer">
  <div class="container-fluid container-fluid--custom-sm">
    <div class="row">
      <div class="col-12 col-sm-12 col-md-12 col-lg-10 offset-lg-1">
        <div class="row">
          <div class="col-md-3 col-sm-12">
            <a href="/" class="logo-footer">
              <img src="/resources/img/logo.svg" alt="graalvm_logo">
            </a>
          </div>

          <div class="col-md-3 col-sm-6 col-6">
            <h6 class="title-footer">GraalVM</h6>
            <ul class="footer-list">
              <li class="footer-list__item"><a href="/docs/getting-started">Getting Started</a></li>
              <li class="footer-list__item"><a href="/docs/reference-manual">Reference Manual</a></li>
              <li class="footer-list__item"><a href="https://www.graalvm.org/sdk/javadoc/">GraalVM SDK Javadoc</a></li>
              <li class="footer-list__item"><a href="/docs/release-notes/">Release Notes</a></li>
            </ul>
          </div>

          <div class="col-md-2 col-sm-6 col-6">
            <h6 class="title-footer">Community</h6>
            <ul class="footer-list">
              <li class="footer-list__item"><a href="/community/press/">Contribute</a></li>
              <li class="footer-list__item"><a href="/community/">Get Support</a></li>
              <li class="footer-list__item"><a href="/blog/">Team Blog</a></li>
              <li class="footer-list__item"><a href="/docs/faq/">FAQ</a></li>
            </ul>
          </div>

          <div class="col-md-2 col-sm-6 col-6">
            <h6 class="title-footer">Stay Tuned</h6>
            <ul class="footer-list">
              <li class="footer-list__item"><a href="https://github.com/oracle/graal">GitHub</a></li>
              <li class="footer-list__item"><a href="https://twitter.com/graalvm">Twitter</a></li>
              <li class="footer-list__item"><a href="/slack-invitation">Slack</a></li>
              <li class="footer-list__item"><a href="/community/events/">Events</a></li>
            </ul>
          </div>

          <div class="col-md-2 col-sm-6 col-6">
            <h6 class="title-footer">Useful Links</h6>
            <ul class="footer-list">
              <li class="footer-list__item"><a href="https://docs.oracle.com/en/graalvm/">Oracle Help Center</a></li>
              <li class="footer-list__item"><a href="https://www.oracle.com/tools/graalvm-enterprise-edition.html">Oracle GraalVM</a></li>
              <li class="footer-list__item"><a href="https://labs.oracle.com/">Oracle Labs</a></li>
              <li class="footer-list__item"><a href="/docs/support/">Support</a></li>
            </ul>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-12">
            <p class="copyright">
              Copyright  2018, 2020, Oracle and/or its affiliates. All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>

    </div>
    <div class="overlay"></div>

    <script src='/resources/lib/twitter-fetcher.js'></script>
    <script src='/resources/lib/slick-slider/slick.min.js'></script>
    <script src='/resources/js/main.js'></script>
  </body>
</html>
