<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Idempotent (GraalVM Truffle Java API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Idempotent (GraalVM Truffle Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>23.0.9-dev</b><br>a3042004ebc5ece9277f7771b2b7dee663b2d688</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/dsl/GenerateUncached.html" title="annotation in com.oracle.truffle.api.dsl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/dsl/ImplicitCast.html" title="annotation in com.oracle.truffle.api.dsl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/dsl/Idempotent.html" target="_top">Frames</a></li>
<li><a href="Idempotent.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.oracle.truffle.api.dsl</div>
<h2 title="Annotation Type Idempotent" class="title">Annotation Type Idempotent</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#CLASS" title="class or interface in java.lang.annotation">CLASS</a>)
 <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>)
public @interface <span class="memberNameLabel">Idempotent</span></pre>
<div class="block">Methods annotated with <a href="../../../../../com/oracle/truffle/api/dsl/Idempotent.html" title="annotation in com.oracle.truffle.api.dsl"><code>Idempotent</code></a> must be methods that may cause side effects but will
 always cause the same side effects for repeated invocations with the same parameters. From this
 follows that an idempotent method must return the same result after it was executed once for each
 consecutive execution given the same parameters.
 <p>
 Truffle DSL uses this property to execute <a href="../../../../../com/oracle/truffle/api/dsl/Specialization.html#guards--"><code>guards</code></a> where all bound
 methods are idempotent once on the slow-path, during specialization, and never on the fast-path.
 By default, all methods that do not bind dynamic parameters are interpreted as idempotent for
 compatibility reasons. The DSL emits warnings whenever a method should be annotated either with
 <a href="../../../../../com/oracle/truffle/api/dsl/Idempotent.html" title="annotation in com.oracle.truffle.api.dsl"><code>Idempotent</code></a> or <a href="../../../../../com/oracle/truffle/api/dsl/NonIdempotent.html" title="annotation in com.oracle.truffle.api.dsl"><code>NonIdempotent</code></a>. Note that guards that bind dynamic parameters will
 never be idempotent in the fast-path, so the DSL will not require annotations for such guards.
 <p>

 Examples for non-idempotent methods are:
 <ul>
 <li><a href="../../../../../com/oracle/truffle/api/ContextThreadLocal.html#get--"><code>ContextThreadLocal.get()</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/Assumption.html#isValid--"><code>Assumption.isValid()</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/Assumption.html#isValidAssumption-com.oracle.truffle.api.Assumption-"><code>Assumption.isValidAssumption(Assumption)</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/Assumption.html#isValidAssumption-com.oracle.truffle.api.Assumption:A-"><code>Assumption.isValidAssumption(Assumption[])</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/ContextLocal.html#get--"><code>ContextLocal.get()</code></a> if the language uses a context policy <a href="../../../../../com/oracle/truffle/api/TruffleLanguage.ContextPolicy.html#REUSE"><code>TruffleLanguage.ContextPolicy.REUSE</code></a>
 or <a href="../../../../../com/oracle/truffle/api/TruffleLanguage.ContextPolicy.html#SHARED"><code>TruffleLanguage.ContextPolicy.SHARED</code></a>
 </ul>

 Examples for idempotent methods are:
 <ul>
 <li><a href="../../../../../com/oracle/truffle/api/TruffleLanguage.LanguageReference.html#get-com.oracle.truffle.api.nodes.Node-"><code>TruffleLanguage.LanguageReference.get(Node)</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/nodes/DirectCallNode.html#getCallTarget--"><code>DirectCallNode.getCallTarget()</code></a>
 <li><a href="../../../../../com/oracle/truffle/api/ContextLocal.html#get--"><code>ContextLocal.get()</code></a> if the language uses context policy
 <a href="../../../../../com/oracle/truffle/api/TruffleLanguage.ContextPolicy.html#EXCLUSIVE"><code>TruffleLanguage.ContextPolicy.EXCLUSIVE</code></a>.
 </ul>
 <p>
 Note that usages may assume that the current language instance never changes for a given Node.
 Therefore it is safe to assume language reference accesses idempotent.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>23.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/dsl/NonIdempotent.html" title="annotation in com.oracle.truffle.api.dsl"><code>NonIdempotent</code></a></dd>
</dl>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>23.0.9-dev</b><br>a3042004ebc5ece9277f7771b2b7dee663b2d688</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/dsl/GenerateUncached.html" title="annotation in com.oracle.truffle.api.dsl"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/dsl/ImplicitCast.html" title="annotation in com.oracle.truffle.api.dsl"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/dsl/Idempotent.html" target="_top">Frames</a></li>
<li><a href="Idempotent.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</body>
</html>
