<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (26) -->
<title>LoopNode (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.nodes, class: LoopNode">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
<li><button id="theme-button" aria-label="Select Theme" title="Select Theme"><img src="../../../../../resource-files/sun.svg" alt="Select Theme" class="theme-light"><img src="../../../../../resource-files/moon.svg" alt="Select Theme" class="theme-dark"></button></li>
</ul>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>26.0.0-dev</b><br>5a8ecb799f95876d39e754427c7aee77a384a743</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.oracle.truffle.api.nodes</a></li>
<li><a href="LoopNode.html" class="current-selection">LoopNode</a></li>
</ol>
<div id="theme-panel">
<div>Select Theme</div>
<div><label for="theme-light"><input type="radio" id="theme-light" disabled name="theme" value="theme-light"><span>Light</span></label><label for="theme-dark"><input type="radio" id="theme-dark" disabled name="theme" value="theme-dark"><span>Dark</span></label><label for="theme-os"><input type="radio" id="theme-os" disabled name="theme" value="theme-os"><span>System Setting</span></label></div>
</div>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">LoopNode()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)" tabindex="0">execute(VirtualFrame)</a></li>
<li><a href="#getRepeatingNode()" tabindex="0">getRepeatingNode()</a></li>
<li><a href="#reportLoopCount(com.oracle.truffle.api.nodes.Node,int)" tabindex="0">reportLoopCount(Node, int)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class LoopNode" class="title">Class LoopNode</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Node.html" title="class in com.oracle.truffle.api.nodes">com.oracle.truffle.api.nodes.Node</a>
<div class="inheritance">com.oracle.truffle.api.nodes.LoopNode</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="NodeInterface.html" title="interface in com.oracle.truffle.api.nodes">NodeInterface</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">LoopNode</span>
<span class="extends-implements">extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></span></div>
<div class="block"><p>
A loop node calls <a href="RepeatingNode.html#executeRepeating(com.oracle.truffle.api.frame.VirtualFrame)"><code>repeating nodes</code></a> as long as
it returns <code>true</code>. Using the loop node in a guest language implementation allows the
Truffle runtime to optimize loops in a better way. For example a Truffle runtime implementation
might decide to optimize loop already during its first execution (also called on stack
replacement OSR). Loop nodes are intended to be implemented by Truffle runtime implementations
and not by guest language implementations.

Note: The loop condition is automatically profiled by the loop node, so the <a href="RepeatingNode.html" title="interface in com.oracle.truffle.api.nodes"><code>repeating node</code></a> should not use a loop condition profile.
</p>
<p>
Full usage example for guest language while node:
</p>

<pre>
<code>
public class WhileNode extends GuestLanguageNode {

    &#064;<a href="Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes"><code>Node.Child</code></a> private <a href="LoopNode.html" title="class in com.oracle.truffle.api.nodes"><code>LoopNode</code></a> loop;

    public WhileNode(GuestLanguageNode conditionNode, GuestLanguageNode bodyNode) {
        loop = Truffle.getRuntime().createLoopNode(new WhileRepeatingNode(conditionNode, bodyNode));
    }

    &#064;Override
    public Object execute(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame"><code>VirtualFrame</code></a> frame) {
        loop.executeLoop(frame);
        return null;
    }

    private static class WhileRepeatingNode extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes"><code>Node</code></a> implements <a href="RepeatingNode.html" title="interface in com.oracle.truffle.api.nodes"><code>RepeatingNode</code></a> {

        &#064;<a href="Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes"><code>Node.Child</code></a> private GuestLanguageNode conditionNode;
        &#064;<a href="Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes"><code>Node.Child</code></a> private GuestLanguageNode bodyNode;

        public WhileRepeatingNode(GuestLanguageNode conditionNode, GuestLanguageNode bodyNode) {
            this.conditionNode = conditionNode;
            this.bodyNode = bodyNode;
        }

        public boolean executeRepeating(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame"><code>VirtualFrame</code></a> frame) {
            if ((boolean) conditionNode.execute(frame)) {
                try {
                    bodyNode.execute(frame);
                } catch (ContinueException ex) {
                    // the body might throw a continue control-flow exception
                    // continue loop invocation
                } catch (BreakException ex) {
                    // the body might throw a break control-flow exception
                    // break loop invocation by returning false
                    return false;
                }
                return true;
            } else {
                return false;
            }
        }
    }

}

// substitute with a guest language node type
public abstract class GuestLanguageNode extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes"><code>Node</code></a> {

    public abstract Object execute(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame"><code>VirtualFrame</code></a> frame);

}
// thrown by guest language continue statements
public final class ContinueException extends <a href="ControlFlowException.html" title="class in com.oracle.truffle.api.nodes"><code>ControlFlowException</code></a> {}
// thrown by guest language break statements
public final class BreakException extends <a href="ControlFlowException.html" title="class in com.oracle.truffle.api.nodes"><code>ControlFlowException</code></a> {}
</code>
</pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="RepeatingNode.html" title="interface in com.oracle.truffle.api.nodes"><code>RepeatingNode</code></a></li>
<li><a href="../TruffleRuntime.html#createLoopNode(com.oracle.truffle.api.nodes.RepeatingNode)"><code>TruffleRuntime.createLoopNode(RepeatingNode)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-com.oracle.truffle.api.nodes.Node">Nested classes/interfaces inherited from class&nbsp;<a href="Node.html#nested-class-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Child</a>, <a href="Node.Children.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Children</a></code>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static @interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Node.Child.html" class="type-name-link" title="annotation interface in com.oracle.truffle.api.nodes">Node.Child</a></code></div>
<div class="col-last even-row-color">
<div class="block">Marks fields that represent child nodes of this node.</div>
</div>
<div class="col-first odd-row-color"><code>static @interface&nbsp;</code></div>
<div class="col-second odd-row-color"><code><a href="Node.Children.html" class="type-name-link" title="annotation interface in com.oracle.truffle.api.nodes">Node.Children</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Marks array fields that are children of this node.</div>
</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">LoopNode</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for subclasses.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)" class="member-name-link">execute</a><wbr>(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame">VirtualFrame</a>&nbsp;frame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Invokes one loop invocation by repeatedly calling
<a href="RepeatingNode.html#executeRepeating(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute)</code></a> on the repeating node the loop
was initialized with.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="RepeatingNode.html" title="interface in com.oracle.truffle.api.nodes">RepeatingNode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getRepeatingNode()" class="member-name-link">getRepeatingNode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the repeating node the loop node was created with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#reportLoopCount(com.oracle.truffle.api.nodes.Node,int)" class="member-name-link">reportLoopCount</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;source,
 int&nbsp;iterations)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">
Reports the execution count of a loop for which no <a href="LoopNode.html" title="class in com.oracle.truffle.api.nodes"><code>LoopNode</code></a> was used.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.oracle.truffle.api.nodes.Node">Methods inherited from class&nbsp;<a href="Node.html#method-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="Node.html#accept(com.oracle.truffle.api.nodes.NodeVisitor)" title="accept(NodeVisitor)">accept</a>, <a href="Node.html#adoptChildren()" title="adoptChildren()">adoptChildren</a>, <a href="Node.html#atomic(java.lang.Runnable)" title="atomic(Runnable)">atomic</a>, <a href="Node.html#atomic(java.util.concurrent.Callable)" title="atomic(Callable)">atomic</a>, <a href="Node.html#copy()" title="copy()">copy</a>, <a href="Node.html#deepCopy()" title="deepCopy()">deepCopy</a>, <a href="Node.html#getChildren()" title="getChildren()">getChildren</a>, <a href="Node.html#getCost()" title="getCost()">getCost</a>, <a href="Node.html#getDebugProperties()" title="getDebugProperties()">getDebugProperties</a>, <a href="Node.html#getDescription()" title="getDescription()">getDescription</a>, <a href="Node.html#getEncapsulatingSourceSection()" title="getEncapsulatingSourceSection()">getEncapsulatingSourceSection</a>, <a href="Node.html#getLock()" title="getLock()">getLock</a>, <a href="Node.html#getParent()" title="getParent()">getParent</a>, <a href="Node.html#getRootNode()" title="getRootNode()">getRootNode</a>, <a href="Node.html#getSourceSection()" title="getSourceSection()">getSourceSection</a>, <a href="Node.html#insert(T)" title="insert(T)">insert</a>, <a href="Node.html#insert(T%5B%5D)" title="insert(T[])">insert</a>, <a href="Node.html#isAdoptable()" title="isAdoptable()">isAdoptable</a>, <a href="Node.html#isSafelyReplaceableBy(com.oracle.truffle.api.nodes.Node)" title="isSafelyReplaceableBy(Node)">isSafelyReplaceableBy</a>, <a href="Node.html#notifyInserted(com.oracle.truffle.api.nodes.Node)" title="notifyInserted(Node)">notifyInserted</a>, <a href="Node.html#onReplace(com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="onReplace(Node, CharSequence)">onReplace</a>, <a href="Node.html#replace(T)" title="replace(T)">replace</a>, <a href="Node.html#replace(T,java.lang.CharSequence)" title="replace(T, CharSequence)">replace</a>, <a href="Node.html#reportPolymorphicSpecialize()" title="reportPolymorphicSpecialize()">reportPolymorphicSpecialize</a>, <a href="Node.html#reportReplace(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="reportReplace(Node, Node, CharSequence)">reportReplace</a>, <a href="Node.html#toString()" title="toString()">toString</a></code>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>final void</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#accept(com.oracle.truffle.api.nodes.NodeVisitor)" class="member-name-link">accept</a><wbr>(<a href="NodeVisitor.html" title="interface in com.oracle.truffle.api.nodes">NodeVisitor</a>&nbsp;nodeVisitor)</code></div>
<div class="col-last even-row-color">
<div class="block">Invokes the <a href="NodeVisitor.html#visit(com.oracle.truffle.api.nodes.Node)"><code>NodeVisitor.visit(Node)</code></a> method for this node and recursively also for all
child nodes.</div>
</div>
<div class="col-first odd-row-color"><code>final void</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#adoptChildren()" class="member-name-link">adoptChildren</a>()</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>final void</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#atomic(java.lang.Runnable)" class="member-name-link">atomic</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;closure)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>final &lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#atomic(java.util.concurrent.Callable)" class="member-name-link">atomic</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/util/concurrent/Callable.html" title="class or interface in java.util.concurrent" class="external-link">Callable</a>&lt;T&gt;&nbsp;closure)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></div>
<div class="col-second even-row-color"><code><a href="Node.html#copy()" class="member-name-link">copy</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a shallow copy of this node.</div>
</div>
<div class="col-first odd-row-color"><code><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#deepCopy()" class="member-name-link">deepCopy</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a deep copy of this node.</div>
</div>
<div class="col-first even-row-color"><code>final <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Iterable.html" title="class or interface in java.lang" class="external-link">Iterable</a><wbr>&lt;<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#getChildren()" class="member-name-link">getChildren</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Iterator over the children of this node.</div>
</div>
<div class="col-first odd-row-color"><code><a href="NodeCost.html" title="enum class in com.oracle.truffle.api.nodes">NodeCost</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#getCost()" class="member-name-link">getCost</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">in 24.1 without replacement</div>
</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#getDebugProperties()" class="member-name-link">getDebugProperties</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Returns properties of this node interesting for debugging and can be overwritten by
subclasses to add their own custom properties.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#getDescription()" class="member-name-link">getDescription</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Returns a user-readable description of the purpose of the Node, or "" if no description is
available.</div>
</div>
<div class="col-first even-row-color"><code><a href="../source/SourceSection.html" title="class in com.oracle.truffle.api.source">SourceSection</a></code></div>
<div class="col-second even-row-color"><code><a href="Node.html#getEncapsulatingSourceSection()" class="member-name-link">getEncapsulatingSourceSection</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Retrieves the segment of guest language source code that is represented by this Node, if
present; otherwise retrieves the segment represented by the nearest AST ancestor that has
this information.</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/util/concurrent/locks/Lock.html" title="class or interface in java.util.concurrent.locks" class="external-link">Lock</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#getLock()" class="member-name-link">getLock</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Returns a lock object that can be used to synchronize modifications to the AST.</div>
</div>
<div class="col-first even-row-color"><code>final <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></div>
<div class="col-second even-row-color"><code><a href="Node.html#getParent()" class="member-name-link">getParent</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">The current parent node of this node.</div>
</div>
<div class="col-first odd-row-color"><code>final <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#getRootNode()" class="member-name-link">getRootNode</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Get the root node of the tree a node belongs to.</div>
</div>
<div class="col-first even-row-color"><code><a href="../source/SourceSection.html" title="class in com.oracle.truffle.api.source">SourceSection</a></code></div>
<div class="col-second even-row-color"><code><a href="Node.html#getSourceSection()" class="member-name-link">getSourceSection</a>()</code></div>
<div class="col-last even-row-color">
<div class="block">Retrieves the segment of guest language source code that is represented by this Node.</div>
</div>
<div class="col-first odd-row-color"><code>final &lt;T extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&gt;<br>T</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#insert(T)" class="member-name-link">insert</a><wbr>(T&nbsp;newChild)</code></div>
<div class="col-last odd-row-color">
<div class="block">Inserts an new node into an AST that was already <a href="Node.html#adoptChildren()"><code>adopted</code></a> by a
<a href="Node.html#getParent()"><code>parent</code></a>.</div>
</div>
<div class="col-first even-row-color"><code>final &lt;T extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&gt;<br>T[]</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#insert(T%5B%5D)" class="member-name-link">insert</a><wbr>(T[]&nbsp;newChildren)</code></div>
<div class="col-last even-row-color">
<div class="block">Inserts new node children into an AST that was already <a href="Node.html#adoptChildren()"><code>adopted</code></a> by a
<a href="Node.html#getParent()"><code>parent</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#isAdoptable()" class="member-name-link">isAdoptable</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Returns <code>true</code> if this node can be adopted by a parent.</div>
</div>
<div class="col-first even-row-color"><code>final boolean</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#isSafelyReplaceableBy(com.oracle.truffle.api.nodes.Node)" class="member-name-link">isSafelyReplaceableBy</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;newNode)</code></div>
<div class="col-last even-row-color">
<div class="block">Checks if this node can be replaced by another node: tree structure &amp; type.</div>
</div>
<div class="col-first odd-row-color"><code>protected final void</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#notifyInserted(com.oracle.truffle.api.nodes.Node)" class="member-name-link">notifyInserted</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;node)</code></div>
<div class="col-last odd-row-color">
<div class="block">Notifies the framework about the insertion of one or more nodes during execution.</div>
</div>
<div class="col-first even-row-color"><code>protected void</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#onReplace(com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" class="member-name-link">onReplace</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;newNode,
 <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/CharSequence.html" title="class or interface in java.lang" class="external-link">CharSequence</a>&nbsp;reason)</code></div>
<div class="col-last even-row-color">
<div class="block">Intended to be implemented by subclasses of <a href="Node.html" title="class in com.oracle.truffle.api.nodes"><code>Node</code></a> to receive a notification when the
node is rewritten.</div>
</div>
<div class="col-first odd-row-color"><code>final &lt;T extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&gt;<br>T</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#replace(T)" class="member-name-link">replace</a><wbr>(T&nbsp;newNode)</code></div>
<div class="col-last odd-row-color">
<div class="block">Replaces this node with another node.</div>
</div>
<div class="col-first even-row-color"><code>final &lt;T extends <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&gt;<br>T</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#replace(T,java.lang.CharSequence)" class="member-name-link">replace</a><wbr>(T&nbsp;newNode,
 <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/CharSequence.html" title="class or interface in java.lang" class="external-link">CharSequence</a>&nbsp;reason)</code></div>
<div class="col-last even-row-color">
<div class="block">Replaces this node with another node.</div>
</div>
<div class="col-first odd-row-color"><code>final void</code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#reportPolymorphicSpecialize()" class="member-name-link">reportPolymorphicSpecialize</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Notifies the runtime that this node specialized to a polymorphic state.</div>
</div>
<div class="col-first even-row-color"><code>protected final void</code></div>
<div class="col-second even-row-color"><code><a href="Node.html#reportReplace(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" class="member-name-link">reportReplace</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;oldNode,
 <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;newNode,
 <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/CharSequence.html" title="class or interface in java.lang" class="external-link">CharSequence</a>&nbsp;reason)</code></div>
<div class="col-last even-row-color">
<div class="block">Reports that <code>oldNode</code> was replaced with <code>newNode</code>, notifying any
<a href="../ReplaceObserver.html" title="interface in com.oracle.truffle.api"><code>replace observers</code></a> and invalidating any compiled call targets.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="Node.html#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color">
<div class="block">Converts this node to a textual representation useful for debugging.</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>LoopNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">LoopNode</span>()</div>
<div class="block">Constructor for subclasses.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="execute(com.oracle.truffle.api.frame.VirtualFrame)">
<h3>execute</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">execute</span><wbr><span class="parameters">(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame">VirtualFrame</a>&nbsp;frame)</span></div>
<div class="block">Invokes one loop invocation by repeatedly calling
<a href="RepeatingNode.html#executeRepeating(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute)</code></a> on the repeating node the loop
was initialized with. Any exceptions that occur in the execution of the repeating node will
just be forwarded to this method and will cancel the current loop invocation.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - the current execution frame or null if the repeating node does not require a
           frame</dd>
<dt>Returns:</dt>
<dd>a value <code>v</code> returned by
        <a href="RepeatingNode.html#executeRepeating(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute</code></a> satisfying
        <a href="RepeatingNode.html#shouldContinue(java.lang.Object)"><code>shouldContinue(v)</code></a><code> == false</code>, which
        can be used in a language-specific way (for example, to encode structured jumps)</dd>
<dt>Since:</dt>
<dd>19.3</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getRepeatingNode()">
<h3>getRepeatingNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="RepeatingNode.html" title="interface in com.oracle.truffle.api.nodes">RepeatingNode</a></span>&nbsp;<span class="element-name">getRepeatingNode</span>()</div>
<div class="block">Returns the repeating node the loop node was created with.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="reportLoopCount(com.oracle.truffle.api.nodes.Node,int)">
<h3>reportLoopCount</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reportLoopCount</span><wbr><span class="parameters">(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;source,
 int&nbsp;iterations)</span></div>
<div class="block"><p>
Reports the execution count of a loop for which no <a href="LoopNode.html" title="class in com.oracle.truffle.api.nodes"><code>LoopNode</code></a> was used. The
optimization heuristics can use the loop count from non Truffle loops to guide compilation
and inlining better. Do not use <a href="LoopNode.html" title="class in com.oracle.truffle.api.nodes"><code>LoopNode</code></a> and <a href="#reportLoopCount(com.oracle.truffle.api.nodes.Node,int)"><code>reportLoopCount(Node, int)</code></a> at
the same time for one loop. If the number of iterations needs to be counted and can overflow,
only count if <a href="../CompilerDirectives.html#hasNextTier()"><code>CompilerDirectives.hasNextTier()</code></a> is <code>true</code> (reporting will
have no effect in the last tier) and consider reporting <a href="https://docs.oracle.com/en/java/javase/26/docs/api/java.base/java/lang/Integer.html#MAX_VALUE" title="class or interface in java.lang" class="external-link"><code>Integer.MAX_VALUE</code></a> in case of
overflows. If the number is often zero and <a href="#reportLoopCount(com.oracle.truffle.api.nodes.Node,int)"><code>reportLoopCount(Node, int)</code></a> is called
frequently (e.g. in a loop), consider adding a check to avoid the overhead of redundant calls
with an <code>iterations</code> argument of zero in the interpreter.

<p>
Example usage for a custom loop iterating over an array: <code>
<pre>
public int executeCustomLoopSum(int[] data) {
    int sum = 0;
    for (int i = 0; i &lt; data.length; i++) {
        sum += data[i];
    }
    LoopNode.reportLoopCount(this, data.length);
    return sum;
}
</pre>
</code>

Example usage for a custom loop with an unknown number of iterations and a potential
<code>int</code> overflow: <code>
<pre>
public Object executeCustomLoopWithUnknownIterations(int[] data) {
    Object result;
    int counter = 0;
    while(true) {
        if (isResultAvailable()) {
            result = getResult();
            break;
        }
        // do some work to calculate result
        if (CompilerDirectives.hasNextTier()) {
            counter++;
        }
    }
    if (counter != 0) {
        LoopNode.reportLoopCount(this, counter &gt; 0 ? counter : Integer.MAX_VALUE);
    }
    return result;
}
</pre>
</code>
</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>source</code> - the Node which invoked the loop.</dd>
<dd><code>iterations</code> - the number iterations to report to the runtime system, must be &gt;= 0</dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer>
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</main>
</div>
</body>
</html>
