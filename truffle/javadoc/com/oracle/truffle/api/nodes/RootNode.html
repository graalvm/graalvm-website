<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) -->
<title>RootNode (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.nodes, class: RootNode">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>25.0.0-dev</b><br>7facd038f81c4df1c7a6f7a2b93e9f980a326db6</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.oracle.truffle.api.nodes</a></li>
<li><a href="RootNode.html" class="current-selection">RootNode</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(com.oracle.truffle.api.TruffleLanguage)" tabindex="0">RootNode(TruffleLanguage)</a></li>
<li><a href="#%3Cinit%3E(com.oracle.truffle.api.TruffleLanguage,com.oracle.truffle.api.frame.FrameDescriptor)" tabindex="0">RootNode(TruffleLanguage, FrameDescriptor)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#copy()" tabindex="0">copy()</a></li>
<li><a href="#getQualifiedName()" tabindex="0">getQualifiedName()</a></li>
<li><a href="#getName()" tabindex="0">getName()</a></li>
<li><a href="#isInternal()" tabindex="0">isInternal()</a></li>
<li><a href="#countsTowardsStackTraceLimit()" tabindex="0">countsTowardsStackTraceLimit()</a></li>
<li><a href="#findBytecodeIndex(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame)" tabindex="0">findBytecodeIndex(Node, Frame)</a></li>
<li><a href="#isCaptureFramesForTrace(com.oracle.truffle.api.nodes.Node)" tabindex="0">isCaptureFramesForTrace(Node)</a></li>
<li><a href="#isCaptureFramesForTrace(boolean)" tabindex="0">isCaptureFramesForTrace(boolean)</a></li>
<li><a href="#isCaptureFramesForTrace()" tabindex="0">isCaptureFramesForTrace()</a></li>
<li><a href="#isCloningAllowed()" tabindex="0">isCloningAllowed()</a></li>
<li><a href="#isCloneUninitializedSupported()" tabindex="0">isCloneUninitializedSupported()</a></li>
<li><a href="#cloneUninitialized()" tabindex="0">cloneUninitialized()</a></li>
<li><a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)" tabindex="0">execute(VirtualFrame)</a></li>
<li><a href="#getCallTarget()" tabindex="0">getCallTarget()</a></li>
<li><a href="#getFrameDescriptor()" tabindex="0">getFrameDescriptor()</a></li>
<li><a href="#isInstrumentable()" tabindex="0">isInstrumentable()</a></li>
<li><a href="#prepareForCall()" tabindex="0">prepareForCall()</a></li>
<li><a href="#prepareForCompilation(boolean,int,boolean)" tabindex="0">prepareForCompilation(boolean, int, boolean)</a></li>
<li><a href="#isTrivial()" tabindex="0">isTrivial()</a></li>
<li><a href="#prepareForInstrumentation(java.util.Set)" tabindex="0">prepareForInstrumentation(Set)</a></li>
<li><a href="#findInstrumentableCallNode(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame,int)" tabindex="0">findInstrumentableCallNode(Node, Frame, int)</a></li>
<li><a href="#findAsynchronousFrames(com.oracle.truffle.api.frame.Frame)" tabindex="0">findAsynchronousFrames(Frame)</a></li>
<li><a href="#translateStackTraceElement(com.oracle.truffle.api.TruffleStackTraceElement)" tabindex="0">translateStackTraceElement(TruffleStackTraceElement)</a></li>
<li><a href="#prepareForAOT()" tabindex="0">prepareForAOT()</a></li>
<li><a href="#createConstantNode(java.lang.Object)" tabindex="0">createConstantNode(Object)</a></li>
<li><a href="#getParentFrameDescriptor()" tabindex="0">getParentFrameDescriptor()</a></li>
<li><a href="#isSameFrame(com.oracle.truffle.api.frame.Frame,com.oracle.truffle.api.frame.Frame)" tabindex="0">isSameFrame(Frame, Frame)</a></li>
<li><a href="#computeSize()" tabindex="0">computeSize()</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class RootNode" class="title">Class RootNode</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Node.html" title="class in com.oracle.truffle.api.nodes">com.oracle.truffle.api.nodes.Node</a>
<div class="inheritance"><a href="ExecutableNode.html" title="class in com.oracle.truffle.api.nodes">com.oracle.truffle.api.nodes.ExecutableNode</a>
<div class="inheritance">com.oracle.truffle.api.nodes.RootNode</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="NodeInterface.html" title="interface in com.oracle.truffle.api.nodes">NodeInterface</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../bytecode/ContinuationRootNode.html" title="class in com.oracle.truffle.api.bytecode">ContinuationRootNode</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">RootNode</span>
<span class="extends-implements">extends <a href="ExecutableNode.html" title="class in com.oracle.truffle.api.nodes">ExecutableNode</a></span></div>
<div class="block">Represents the root node in a Truffle AST. The root node is a <a href="Node.html" title="class in com.oracle.truffle.api.nodes"><code>node</code></a> that allows to be
<a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)"><code>executed</code></a> using a <a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame"><code>frame</code></a> instance created by
the framework. Please note that the <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> should not be executed directly but using
<a href="../CallTarget.html#call(java.lang.Object...)"><code>CallTarget.call(Object...)</code></a>. The structure of the frame is provided by the
<a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame"><code>frame descriptor</code></a> passed in the constructor. A root node has always a
<code>null</code> <a href="Node.html#getParent()"><code>parent</code></a> and cannot be <a href="Node.html#replace(T)"><code>replaced</code></a>.

<h4 id="construction-heading">Construction</h4>

The root node can be constructed with a <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language implementation</code></a> if it is
available. The language implementation instance is obtainable while
<a href="../TruffleLanguage.html#createContext(com.oracle.truffle.api.TruffleLanguage.Env)"><code>TruffleLanguage.createContext(Env)</code></a> or <a href="../TruffleLanguage.html#parse(com.oracle.truffle.api.TruffleLanguage.ParsingRequest)"><code>TruffleLanguage.parse(ParsingRequest)</code></a> is
executed. If no language environment is available, then <code>null</code> can be passed. Please
note that root nodes with <code>null</code> language are considered not instrumentable and don't
have access to its public <a href="ExecutableNode.html#getLanguageInfo()"><code>language information</code></a>.

<h4 id="execution-heading">Execution</h4>

In order to execute a root node, its call target is lazily created and can be accessed via
<a href="#getCallTarget()"><code>getCallTarget()</code></a>. This allows the runtime system to optimize the execution of the
AST. The <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a> can either be <a href="../CallTarget.html#call(java.lang.Object...)"><code>called</code></a> directly from
runtime code or <a href="DirectCallNode.html" title="class in com.oracle.truffle.api.nodes"><code>direct</code></a> and <a href="IndirectCallNode.html" title="class in com.oracle.truffle.api.nodes"><code>indirect</code></a> call nodes
can be created, inserted in a child field and <a href="DirectCallNode.html#call(java.lang.Object...)"><code>called</code></a>. The
use of direct call nodes allows the framework to automatically inline and further optimize call
sites based on heuristics.
<p>
After several calls to a call target or call node, the root node might get compiled using partial
evaluation. The details of the compilation heuristic are unspecified, therefore the Truffle
runtime system might decide to not compile at all.

<h4 id="cardinalities-heading">Cardinalities</h4>

<i>One</i> root node instance refers to other classes using the following cardinalities:
<ul>
<li><i>one</i> <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language</code></a>
<li><i>one</i> <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>call target</code></a>
<li><i>many</i> <a href="../TruffleLanguage.html#createContext(com.oracle.truffle.api.TruffleLanguage.Env)"><code>created</code></a> language contexts
</ul>

<h4 id="instrumentation-heading">Instrumentation</h4>

A root node can be <a href="../instrumentation/package-summary.html">instrumented</a> if the
following conditions apply:
<ul>
<li>A non-null <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language</code></a> is passed in the root node constructor.
<li><a href="#isInstrumentable()"><code>isInstrumentable()</code></a> is overridden and returns <code>true</code>.
<li><a href="Node.html#getSourceSection()"><code>Node.getSourceSection()</code></a> is overridden and returns a non-null value.
<li>The AST contains at least one node that implements
<a href="../instrumentation/InstrumentableNode.html" title="interface in com.oracle.truffle.api.instrumentation"><code>InstrumentableNode</code></a>.
<li>It is recommended that children of instrumentable root nodes are tagged with
<code>StandardTags</code>.
</ul>
<p>
<strong>Note:</strong> It is recommended to override <a href="Node.html#getSourceSection()"><code>Node.getSourceSection()</code></a> and provide a
source section if available. This allows for better testing/tracing/tooling. If no concrete
source section is available please consider using <a href="../source/Source.html#createUnavailableSection()"><code>Source.createUnavailableSection()</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-com.oracle.truffle.api.nodes.Node">Nested classes/interfaces inherited from class&nbsp;<a href="Node.html#nested-class-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Child</a>, <a href="Node.Children.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Children</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(com.oracle.truffle.api.TruffleLanguage)" class="member-name-link">RootNode</a><wbr>(<a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&nbsp;language)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates new root node with a given language instance.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(com.oracle.truffle.api.TruffleLanguage,com.oracle.truffle.api.frame.FrameDescriptor)" class="member-name-link">RootNode</a><wbr>(<a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&nbsp;language,
 <a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a>&nbsp;frameDescriptor)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates new root node given an language environment and frame descriptor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cloneUninitialized()" class="member-name-link">cloneUninitialized</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates an uninitialized copy of an already initialized/executed root node if it is
<a href="#isCloneUninitializedSupported()"><code>supported</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#computeSize()" class="member-name-link">computeSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Computes a size estimate of this root node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copy()" class="member-name-link">copy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a shallow copy of this node.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#countsTowardsStackTraceLimit()" class="member-name-link">countsTowardsStackTraceLimit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this root node should count towards
<a href="../exception/AbstractTruffleException.html#getStackTraceElementLimit()"><code>AbstractTruffleException.getStackTraceElementLimit()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createConstantNode(java.lang.Object)" class="member-name-link">createConstantNode</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;constant)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Helper method to create a root node that always returns the same value.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)" class="member-name-link">execute</a><wbr>(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame">VirtualFrame</a>&nbsp;frame)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Executes this function using the specified frame and returns the result value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api">TruffleStackTraceElement</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findAsynchronousFrames(com.oracle.truffle.api.frame.Frame)" class="member-name-link">findAsynchronousFrames</a><wbr>(<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provide a list of stack frames that led to a schedule of asynchronous execution of this root
node on the provided frame.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findBytecodeIndex(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame)" class="member-name-link">findBytecodeIndex</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;node,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the current byte code index of the root node using a given node location and a frame.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findInstrumentableCallNode(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame,int)" class="member-name-link">findInstrumentableCallNode</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;callNode,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame,
 int&nbsp;bytecodeIndex)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an instrumentable call node from a node and frame.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../RootCallTarget.html" title="interface in com.oracle.truffle.api">RootCallTarget</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCallTarget()" class="member-name-link">getCallTarget</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFrameDescriptor()" class="member-name-link">getFrameDescriptor</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getName()" class="member-name-link">getName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a simple name of the AST (expected to be a method or procedure name in most
languages) that identifies the AST for the benefit of guest language programmers using tools;
it might appear, for example in the context of a stack dump or trace and is not expected to
be called often.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getParentFrameDescriptor()" class="member-name-link">getParentFrameDescriptor</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If this root node has a lexical scope parent, this method returns its frame descriptor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getQualifiedName()" class="member-name-link">getQualifiedName</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a qualified name of the AST that in the best case uniquely identifiers the method.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#isCaptureFramesForTrace()" class="member-name-link">isCaptureFramesForTrace</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">in 24.1, implement and use <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a> instead</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCaptureFramesForTrace(boolean)" class="member-name-link">isCaptureFramesForTrace</a><wbr>(boolean&nbsp;compiledFrame)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if an AbstractTruffleException leaving this node should capture
<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame"><code>Frame</code></a> objects in its stack trace in addition to the default information.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#isCaptureFramesForTrace(com.oracle.truffle.api.nodes.Node)" class="member-name-link">isCaptureFramesForTrace</a><wbr>(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;compiledFrame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">in 24.1, implement and use <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a> instead</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCloneUninitializedSupported()" class="member-name-link">isCloneUninitializedSupported</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if <a href="#cloneUninitialized()"><code>cloneUninitialized()</code></a> can be used to create
uninitialized copies of an already initialized / executed root node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCloningAllowed()" class="member-name-link">isCloningAllowed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> is allowed to be cloned.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInstrumentable()" class="member-name-link">isInstrumentable</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Does this contain AST content that it is possible to instrument.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInternal()" class="member-name-link">isInternal</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this root node should be considered internal and not be shown to
a guest language programmer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSameFrame(com.oracle.truffle.api.frame.Frame,com.oracle.truffle.api.frame.Frame)" class="member-name-link">isSameFrame</a><wbr>(<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame1,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame2)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tests if two frames are the same.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isTrivial()" class="member-name-link">isTrivial</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is this root node to be considered trivial by the runtime.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="ExecutionSignature.html" title="class in com.oracle.truffle.api.nodes">ExecutionSignature</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareForAOT()" class="member-name-link">prepareForAOT</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Allows languages to perform actions before a root node is attempted to be compiled without
prior call to <a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute(VirtualFrame)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareForCall()" class="member-name-link">prepareForCall</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepares this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> to be called with a <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareForCompilation(boolean,int,boolean)" class="member-name-link">prepareForCompilation</a><wbr>(boolean&nbsp;rootCompilation,
 int&nbsp;compilationTier,
 boolean&nbsp;lastTier)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepares this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> for compilation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareForInstrumentation(java.util.Set)" class="member-name-link">prepareForInstrumentation</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&gt;&nbsp;tags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepares a root node for use with the Truffle instrumentation framework.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#translateStackTraceElement(com.oracle.truffle.api.TruffleStackTraceElement)" class="member-name-link">translateStackTraceElement</a><wbr>(<a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api">TruffleStackTraceElement</a>&nbsp;element)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Translates the <a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api"><code>TruffleStackTraceElement</code></a> into an interop object supporting the
<code>hasExecutableName</code> and potentially <code>hasDeclaringMetaObject</code> and
<code>hasSourceLocation</code> messages.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.oracle.truffle.api.nodes.ExecutableNode">Methods inherited from class&nbsp;<a href="ExecutableNode.html#method-summary" title="class in com.oracle.truffle.api.nodes">ExecutableNode</a></h3>
<code><a href="ExecutableNode.html#getLanguage(java.lang.Class)" title="getLanguage(Class)">getLanguage</a>, <a href="ExecutableNode.html#getLanguageInfo()" title="getLanguageInfo()">getLanguageInfo</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.oracle.truffle.api.nodes.Node">Methods inherited from class&nbsp;<a href="Node.html#method-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="Node.html#accept(com.oracle.truffle.api.nodes.NodeVisitor)" title="accept(NodeVisitor)">accept</a>, <a href="Node.html#adoptChildren()" title="adoptChildren()">adoptChildren</a>, <a href="Node.html#atomic(java.lang.Runnable)" title="atomic(Runnable)">atomic</a>, <a href="Node.html#atomic(java.util.concurrent.Callable)" title="atomic(Callable)">atomic</a>, <a href="Node.html#deepCopy()" title="deepCopy()">deepCopy</a>, <a href="Node.html#getChildren()" title="getChildren()">getChildren</a>, <a href="Node.html#getCost()" title="getCost()">getCost</a>, <a href="Node.html#getDebugProperties()" title="getDebugProperties()">getDebugProperties</a>, <a href="Node.html#getDescription()" title="getDescription()">getDescription</a>, <a href="Node.html#getEncapsulatingSourceSection()" title="getEncapsulatingSourceSection()">getEncapsulatingSourceSection</a>, <a href="Node.html#getLock()" title="getLock()">getLock</a>, <a href="Node.html#getParent()" title="getParent()">getParent</a>, <a href="Node.html#getRootNode()" title="getRootNode()">getRootNode</a>, <a href="Node.html#getSourceSection()" title="getSourceSection()">getSourceSection</a>, <a href="Node.html#insert(T)" title="insert(T)">insert</a>, <a href="Node.html#insert(T%5B%5D)" title="insert(T[])">insert</a>, <a href="Node.html#isAdoptable()" title="isAdoptable()">isAdoptable</a>, <a href="Node.html#isSafelyReplaceableBy(com.oracle.truffle.api.nodes.Node)" title="isSafelyReplaceableBy(Node)">isSafelyReplaceableBy</a>, <a href="Node.html#notifyInserted(com.oracle.truffle.api.nodes.Node)" title="notifyInserted(Node)">notifyInserted</a>, <a href="Node.html#onReplace(com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="onReplace(Node, CharSequence)">onReplace</a>, <a href="Node.html#replace(T)" title="replace(T)">replace</a>, <a href="Node.html#replace(T,java.lang.CharSequence)" title="replace(T, CharSequence)">replace</a>, <a href="Node.html#reportPolymorphicSpecialize()" title="reportPolymorphicSpecialize()">reportPolymorphicSpecialize</a>, <a href="Node.html#reportReplace(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="reportReplace(Node, Node, CharSequence)">reportReplace</a>, <a href="Node.html#toString()" title="toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(com.oracle.truffle.api.TruffleLanguage)">
<h3>RootNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">RootNode</span><wbr><span class="parameters">(<a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&nbsp;language)</span></div>
<div class="block">Creates new root node with a given language instance. The language instance is obtainable
while <a href="../TruffleLanguage.html#createContext(com.oracle.truffle.api.TruffleLanguage.Env)"><code>TruffleLanguage.createContext(Env)</code></a> or
<a href="../TruffleLanguage.html#parse(com.oracle.truffle.api.TruffleLanguage.ParsingRequest)"><code>TruffleLanguage.parse(ParsingRequest)</code></a> is executed. If no language environment is
available, then <code>null</code> can be passed. Please note that root nodes with
<code>null</code> language are considered not instrumentable and don't have access to its
public <a href="ExecutableNode.html#getLanguageInfo()"><code>language information</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>language</code> - the language this root node is associated with</dd>
<dt>Since:</dt>
<dd>0.25</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(com.oracle.truffle.api.TruffleLanguage,com.oracle.truffle.api.frame.FrameDescriptor)">
<h3>RootNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">RootNode</span><wbr><span class="parameters">(<a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&nbsp;language,
 <a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a>&nbsp;frameDescriptor)</span></div>
<div class="block">Creates new root node given an language environment and frame descriptor. The language
instance is obtainable while <a href="../TruffleLanguage.html#createContext(com.oracle.truffle.api.TruffleLanguage.Env)"><code>TruffleLanguage.createContext(Env)</code></a> or
<a href="../TruffleLanguage.html#parse(com.oracle.truffle.api.TruffleLanguage.ParsingRequest)"><code>TruffleLanguage.parse(ParsingRequest)</code></a> is executed. If no language environment is
available, then <code>null</code> can be passed. Please note that root nodes with
<code>null</code> language are considered not instrumentable and don't have access to its
public <a href="ExecutableNode.html#getLanguageInfo()"><code>language information</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>language</code> - the language this root node is associated with</dd>
<dt>Since:</dt>
<dd>0.25</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="copy()">
<h3>copy</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></span>&nbsp;<span class="element-name">copy</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="Node.html#copy()">Node</a></code></span></div>
<div class="block">Creates a shallow copy of this node.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="Node.html#copy()">copy</a></code>&nbsp;in class&nbsp;<code><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></code></dd>
<dt>Returns:</dt>
<dd>the new copy</dd>
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getQualifiedName()">
<h3>getQualifiedName</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getQualifiedName</span>()</div>
<div class="block">Returns a qualified name of the AST that in the best case uniquely identifiers the method. If
the qualified name is not specified by the root, then the <a href="#getName()"><code>name</code></a> is used by
default. A root node that represents a Java method could consist of the package name, the
class name and the method name. E.g. <code>mypackage.MyClass.myMethod</code></div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<div class="block">Returns a simple name of the AST (expected to be a method or procedure name in most
languages) that identifies the AST for the benefit of guest language programmers using tools;
it might appear, for example in the context of a stack dump or trace and is not expected to
be called often. Can be called on any thread and without a language context. The name of a
root node that represents a Java method could consist of the method name. E.g.
<code>myMethod</code>
<p>
In some languages AST "compilation units" may have no intrinsic names. When no information is
available, language implementations might simply use the first few characters of the code,
followed by "<code>...</code>". Language implementations should assign a more helpful name
whenever it becomes possible, for example when a functional value is assigned. This means
that the name might not be stable over time.
<p>
Language execution semantics should not depend on either this name or the way that it is
formatted. The name should be presented in the way expected to be most useful for
programmers.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a name that helps guest language programmers identify code corresponding to the AST,
        possibly <code>null</code> if the language implementation is unable to provide any useful
        information.</dd>
<dt>Since:</dt>
<dd>0.15</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isInternal()">
<h3>isInternal</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInternal</span>()</div>
<div class="block">Returns <code>true</code> if this root node should be considered internal and not be shown to
a guest language programmer. This method has effect on tools and guest language stack traces.
By default a <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> is internal if no language was passed in the constructor or if
the <a href="Node.html#getSourceSection()"><code>root source section</code></a> is set and points to an internal source.
This method is intended to be overwritten by guest languages, when the node's source is
internal, the implementation should respect that. Can be called on any thread and without a
language context.
<p>
This method may be invoked on compiled code paths. It is recommended to implement this method
such that it returns a compilation final constant.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.27</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="countsTowardsStackTraceLimit()">
<h3>countsTowardsStackTraceLimit</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">countsTowardsStackTraceLimit</span>()</div>
<div class="block">Returns <code>true</code> if this root node should count towards
<a href="../exception/AbstractTruffleException.html#getStackTraceElementLimit()"><code>AbstractTruffleException.getStackTraceElementLimit()</code></a>.
<p>
By default, returns the negation of <a href="#isInternal()"><code>isInternal()</code></a>.
<p>
This method may be invoked on compiled code paths. It is recommended to implement this method
or #isInternal() such that it returns a partial evaluation constant.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>21.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="findBytecodeIndex(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame)">
<h3>findBytecodeIndex</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">findBytecodeIndex</span><wbr><span class="parameters">(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;node,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame)</span></div>
<div class="block">Returns the current byte code index of the root node using a given node location and a frame.
Depending on the strategy (see below) either the node or the frame may be used to find the
bytecode index.
<p>
This method is called by Truffle to determine the bytecode index when constructing
<a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api"><code>TruffleStackTraceElement</code></a> objects. There are two common strategies to implement this
method:
<ul>
<li>If the bytecode index is stored in the frame, then
<a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a> should be overridden and return <code>true</code>.
Next use the frame argument and read the bytecode index from the frame. Note that the
provided frame may be <code>null</code> even if <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a>
returns <code>true</code>.
<li>If the bytecode index is stored in the call node, then <a href="Node.html#getParent()"><code>parent</code></a>
nodes should be walked to find the node containing the bytecode index.
</ul>
<p>
This method should return a negative bytecode index if it is unavailable or invalid. A
language implementation may assign additional semantics for individual negative byte code
indices, other languages will interpret any negative index as if the index is unavailable.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>node</code> - the top-most node of the activation or <code>null</code></dd>
<dd><code>frame</code> - the current frame of the activation or <code>null</code></dd>
<dt>Since:</dt>
<dd>24.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../frame/FrameInstance.html#getBytecodeIndex()">to access byte code indices</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCaptureFramesForTrace(com.oracle.truffle.api.nodes.Node)">
<h3>isCaptureFramesForTrace</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCaptureFramesForTrace</span><wbr><span class="parameters">(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;compiledFrame)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">in 24.1, implement and use <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a> instead</div>
</div>
<dl class="notes">
<dt>Since:</dt>
<dd>24.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCaptureFramesForTrace(boolean)">
<h3>isCaptureFramesForTrace</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCaptureFramesForTrace</span><wbr><span class="parameters">(boolean&nbsp;compiledFrame)</span></div>
<div class="block">Returns <code>true</code> if an AbstractTruffleException leaving this node should capture
<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame"><code>Frame</code></a> objects in its stack trace in addition to the default information. This is
<code>false</code> by default to avoid the attached overhead. The captured frames are then
accessible through <a href="../TruffleStackTraceElement.html#getFrame()"><code>TruffleStackTraceElement.getFrame()</code></a>.
<p>
Using the compiledFrame argument can be useful to capture the frame only for interpreted
frames. This way it is possible to store the <a href="#findBytecodeIndex(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame)"><code>bytecode
index</code></a> in the frame only in the interpreter, but never in compiled code. This is more
efficient, because capturing the frame is a fast operation in the interpreter, but a slow
operation for compiled frames.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>compiledFrame</code> - whether the frame would be from a compiled execution.</dd>
<dt>Since:</dt>
<dd>24.1</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCaptureFramesForTrace()">
<h3>isCaptureFramesForTrace</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCaptureFramesForTrace</span>()</div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">in 24.1, implement and use <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a> instead</div>
</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.31</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCloningAllowed()">
<h3>isCloningAllowed</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCloningAllowed</span>()</div>
<div class="block">Returns <code>true</code> if this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> is allowed to be cloned. The runtime
system might decide to create deep copies of the <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> in order to gather context
sensitive profiling feedback. The default implementation returns <code>false</code>. Guest
language specific implementations may want to return <code>true</code> here to indicate that
gathering call site specific profiling information might make sense for this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a>
.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if cloning is allowed else <code>false</code>.</dd>
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isCloneUninitializedSupported()">
<h3>isCloneUninitializedSupported</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCloneUninitializedSupported</span>()</div>
<div class="block">Returns <code>true</code> if <a href="#cloneUninitialized()"><code>cloneUninitialized()</code></a> can be used to create
uninitialized copies of an already initialized / executed root node. By default, or if this
method returns <code>false</code>, an optimizing Truffle runtime might need to copy the AST
before it is executed for the first time to ensure it is able to create new uninitialized
copies when needed. By returning <code>true</code> and therefore supporting uninitialized
copies an optimizing runtime does not need to keep a reference to an uninitialized copy on
its own and might therefore be able to save memory. The returned boolean needs to be
immutable for a <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if calls to <a href="#cloneUninitialized()"><code>uninitialized copies</code></a> are
        supported.</dd>
<dt>Since:</dt>
<dd>0.24</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#cloneUninitialized()"><code>cloneUninitialized()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="cloneUninitialized()">
<h3>cloneUninitialized</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a></span>&nbsp;<span class="element-name">cloneUninitialized</span>()</div>
<div class="block">Creates an uninitialized copy of an already initialized/executed root node if it is
<a href="#isCloneUninitializedSupported()"><code>supported</code></a>. Throws an
<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link"><code>UnsupportedOperationException</code></a> exception by default. By default, or if
<a href="#isCloneUninitializedSupported()"><code>isCloneUninitializedSupported()</code></a> returns <code>false</code>, an optimizing Truffle
runtime might need to copy the root node before it is executed for the first time to ensure
it is able to create new uninitialized copies when needed. By supporting uninitialized copies
an optimizing runtime does not need to keep a reference to an uninitialized copy on its own
and might therefore be able to save memory.

<p>
Two common strategies to implement <a href="#cloneUninitialized()"><code>cloneUninitialized()</code></a> are:
<ul>
<li><b>Reparsing:</b> Support it by keeping a reference to the original source code including
the lexical scope and create the uninitialized copy of the root node by reparsing the source.
<li><b>Resetting:</b> Support it by traversing the <a href="Node.html" title="class in com.oracle.truffle.api.nodes"><code>Node</code></a> tree and derive an
uninitialized copy from each initialized node.
</ul></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an uninitialized copy of this root node if supported.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if not supported</dd>
<dt>Since:</dt>
<dd>0.24</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#isCloneUninitializedSupported()"><code>isCloneUninitializedSupported()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="execute(com.oracle.truffle.api.frame.VirtualFrame)">
<h3>execute</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">execute</span><wbr><span class="parameters">(<a href="../frame/VirtualFrame.html" title="interface in com.oracle.truffle.api.frame">VirtualFrame</a>&nbsp;frame)</span></div>
<div class="block">Executes this function using the specified frame and returns the result value.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ExecutableNode.html#execute(com.oracle.truffle.api.frame.VirtualFrame)">execute</a></code>&nbsp;in class&nbsp;<code><a href="ExecutableNode.html" title="class in com.oracle.truffle.api.nodes">ExecutableNode</a></code></dd>
<dt>Parameters:</dt>
<dd><code>frame</code> - the frame of the currently executing guest language method</dd>
<dt>Returns:</dt>
<dd>the value of the execution</dd>
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getCallTarget()">
<h3>getCallTarget</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../RootCallTarget.html" title="interface in com.oracle.truffle.api">RootCallTarget</a></span>&nbsp;<span class="element-name">getCallTarget</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getFrameDescriptor()">
<h3>getFrameDescriptor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a></span>&nbsp;<span class="element-name">getFrameDescriptor</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isInstrumentable()">
<h3>isInstrumentable</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInstrumentable</span>()</div>
<div class="block">Does this contain AST content that it is possible to instrument. Can be called on any thread
and without a language context.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareForCall()">
<h3>prepareForCall</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareForCall</span>()</div>
<div class="block">Prepares this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> to be called with a <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a>. This method will be
called exactly once when a <a href="#getCallTarget()"><code>call target is requested</code></a> for the first
time. This method can be used to lazily initialize parts of a root node, or to validate that
a root node can be used as a call target.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>25.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareForCompilation(boolean,int,boolean)">
<h3>prepareForCompilation</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">prepareForCompilation</span><wbr><span class="parameters">(boolean&nbsp;rootCompilation,
 int&nbsp;compilationTier,
 boolean&nbsp;lastTier)</span></div>
<div class="block">Prepares this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> for compilation. This method is guaranteed to be called at
least once before any code paths are executed as compiled code (see
<a href="../CompilerDirectives.html#inCompiledCode()"><code>CompilerDirectives.inCompiledCode()</code></a>) for a given compilation tier. It may be called
multiple times per compilation and can be invoked concurrently by multiple compiler threads
without synchronization; therefore, it must be thread-safe.

By default, this method returns <code>true</code> to indicate sufficient profiling for
compilation, but implementations can return <code>false</code> if not. Returning
<code>false</code> for root compilations will defer the compilation to allow for additional
profiling, whereas otherwise returning <code>false</code> during inlining will disable
inlining for this call site. Any exception thrown will fail the compilation for this
<a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> permanently.

Compilations are initiated by the runtime for optimization through partial evaluation and
compilation. The timing and threading of compilations are runtime-specific and should not be
relied upon. This method is not called for Truffle runtimes that do not support compilation,
such as the fallback runtime.

Compilations may be initiated for the following reasons:
<ul>
<li>The <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a> for this <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> has been invoked frequently enough to
trigger compilation.
<li>A <a href="LoopNode.html" title="class in com.oracle.truffle.api.nodes"><code>LoopNode</code></a> or <a href="BytecodeOSRNode.html" title="interface in com.oracle.truffle.api.nodes"><code>BytecodeOSRNode</code></a> has executed frequently enough to trigger
OSR compilation.
<li>The compiler is exploring inlining during compilation, preparing to inline a
<a href="DirectCallNode.html" title="class in com.oracle.truffle.api.nodes"><code>DirectCallNode</code></a> or an indirect call with a partially evaluated constant
<a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a>.
</ul>

Work performed in this method counts towards compilation time, not interpretation time.
Implementing this method can help offload expensive computations to compiler threads. Cache
any preparation work to avoid repeating it for every compilation and inlining. To prevent
deadlocks when using synchronization, adhere to the following guidelines:
<ul>
<li>Do not execute guest code or invoke <a href="../CallTarget.html#call(java.lang.Object...)"><code>CallTarget.call(Object...)</code></a> within this
method.
<li>Avoid acquiring locks shared with execution threads, especially across call boundaries or
loop back-edges when OSR compilation is enabled.
<li>Use <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html" title="class or interface in java.util.concurrent.atomic" class="external-link"><code>AtomicReferenceFieldUpdater</code></a> CAS-locking for caching non-expensive preparation
work to minimize contention.
<li>Ensure all synchronization primitives are released upon method exit; use finally blocks
for safety.
</ul>

Note that during the execution of this method, no language context is entered. Therefore, you
cannot use <a href="../ContextThreadLocal.html" title="class in com.oracle.truffle.api"><code>ContextThreadLocal</code></a>, <a href="../ContextLocal.html" title="class in com.oracle.truffle.api"><code>ContextLocal</code></a>, <a href="../TruffleLanguage.LanguageReference.html" title="class in com.oracle.truffle.api"><code>TruffleLanguage.LanguageReference</code></a>, or
<a href="../TruffleLanguage.ContextReference.html" title="class in com.oracle.truffle.api"><code>TruffleLanguage.ContextReference</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rootCompilation</code> - <code>true</code> if this is a root compilation; <code>false</code> if
           inlining this root.</dd>
<dd><code>compilationTier</code> - the current compilation tier, as per
           <a href="../frame/FrameInstance.html#getCompilationTier()"><code>FrameInstance.getCompilationTier()</code></a>.</dd>
<dd><code>lastTier</code> - <code>true</code> if this is the last compilation tier for which this
           <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> is prepared; <code>false</code> otherwise. Useful for performing
           preparation only at the highest tier.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the method is sufficiently profiled; <code>false</code>
        otherwise.</dd>
<dt>Since:</dt>
<dd>24.2</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isTrivial()">
<h3>isTrivial</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isTrivial</span>()</div>
<div class="block">Is this root node to be considered trivial by the runtime.

A trivial root node is defined as a root node that:
<ol>
<li>Never increases code size when inlined, i.e. is always less complex then the call.</li>
<li>Never performs guest language calls.</li>
<li>Never contains loops.</li>
<li>Is small (for a language-specific definition of small).</li>
</ol>

An good example of trivial root nodes would be getters and setters in java.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true </code>if this root node should be considered trivial by the runtime.
        <code>false</code> otherwise.</dd>
<dt>Since:</dt>
<dd>20.3.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareForInstrumentation(java.util.Set)">
<h3>prepareForInstrumentation</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">prepareForInstrumentation</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&gt;&nbsp;tags)</span></div>
<div class="block">Prepares a root node for use with the Truffle instrumentation framework. This is similar to
materialization of syntax nodes in an InstrumentableNode, but this method should be preferred
if the root node is updated as a whole and the individual materialization of nodes is not
needed. Another advantage of this method is that it is always invoked before
<a href="Node.html#getSourceSection()"><code>Node.getSourceSection()</code></a> by the instrumentation framework. This allows to perform the
materialization of sources and tags in one operation.
<p>
This method is invoked repeatedly and should not perform any operation if a set of tags was
already prepared before. In other words, this method should stabilize and eventually not
perform any operation if the same tags were observed before.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>24.2</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="findInstrumentableCallNode(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame,int)">
<h3>findInstrumentableCallNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a></span>&nbsp;<span class="element-name">findInstrumentableCallNode</span><wbr><span class="parameters">(<a href="Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;callNode,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame,
 int&nbsp;bytecodeIndex)</span></div>
<div class="block">Returns an instrumentable call node from a node and frame. By default, returns the given
<code>callNode</code>. If the returned node is not instrumentable, the
<a href="Node.html#getParent()"><code>parent</code></a> chain of the node may be traversed until an instrumentable
node is found (thus, the returned node should be adopted).
<p>
This method should be implemented if the instrumentable call node is not reachable through
the <a href="Node.html#getParent()"><code>parent</code></a> chain of a <a href="../frame/FrameInstance.html#getCallNode()"><code>call node</code></a>.
For example, in bytecode interpreters instrumentable nodes may be stored in a side data
structure and the instrumentable node must be looked up using the bytecode index. This method
is intended to be overridden to implement specify such behavior.
<p>
A <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame"><code>frame</code></a> parameter is only provided if <a href="#isCaptureFramesForTrace(boolean)"><code>isCaptureFramesForTrace(boolean)</code></a>
returns <code>true</code>. If the frame is not captured then the frame parameter is
<code>null</code>.
<p>
The <code>bytecodeIndex</code> parameter takes on the value produced by calling
<a href="#findBytecodeIndex(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.Frame)"><code>findBytecodeIndex(Node, Frame)</code></a> (<code>-1</code> unless overridden).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>callNode</code> - the top-most node of the activation or <code>null</code></dd>
<dd><code>frame</code> - the current frame of the activation or <code>null</code></dd>
<dd><code>bytecodeIndex</code> - the current bytecode index of the activation or a negative number</dd>
<dt>Since:</dt>
<dd>24.2</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="findAsynchronousFrames(com.oracle.truffle.api.frame.Frame)">
<h3>findAsynchronousFrames</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api">TruffleStackTraceElement</a>&gt;</span>&nbsp;<span class="element-name">findAsynchronousFrames</span><wbr><span class="parameters">(<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame)</span></div>
<div class="block">Provide a list of stack frames that led to a schedule of asynchronous execution of this root
node on the provided frame. The asynchronous frames are expected to be found here when
<a href="../TruffleLanguage.html#getAsynchronousStackDepth()"><code>TruffleLanguage.getAsynchronousStackDepth()</code></a> is positive. The language is free to
provide asynchronous frames or longer list of frames when it's of no performance penalty, or
if requested by other options. This method is invoked on slow-paths only and with a context
entered.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>frame</code> - A frame, never <code>null</code></dd>
<dt>Returns:</dt>
<dd>a list of <a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api"><code>TruffleStackTraceElement</code></a>, or <code>null</code> when no asynchronous
        stack is available.</dd>
<dt>Since:</dt>
<dd>20.1.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../TruffleLanguage.html#getAsynchronousStackDepth()"><code>TruffleLanguage.getAsynchronousStackDepth()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="translateStackTraceElement(com.oracle.truffle.api.TruffleStackTraceElement)">
<h3>translateStackTraceElement</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">translateStackTraceElement</span><wbr><span class="parameters">(<a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api">TruffleStackTraceElement</a>&nbsp;element)</span></div>
<div class="block">Translates the <a href="../TruffleStackTraceElement.html" title="class in com.oracle.truffle.api"><code>TruffleStackTraceElement</code></a> into an interop object supporting the
<code>hasExecutableName</code> and potentially <code>hasDeclaringMetaObject</code> and
<code>hasSourceLocation</code> messages. An executable name must be provided, whereas the
declaring meta object and source location is optional. Guest languages may typically return
their function objects that typically already implement the required contracts.
<p>
The intention of this method is to provide a guest language object for other languages that
they can inspect using interop. An implementation of this method is expected to not fail with
a guest error. Implementations are allowed to do <a href="../TruffleLanguage.ContextReference.html#get(com.oracle.truffle.api.nodes.Node)"><code>context
reference lookups</code></a> in the implementation of the method. This may be useful to access the
function objects needed to resolve the stack trace element.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../TruffleStackTraceElement.html#getGuestObject()">to access the guest object of a stack trace
     element.</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareForAOT()">
<h3>prepareForAOT</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="ExecutionSignature.html" title="class in com.oracle.truffle.api.nodes">ExecutionSignature</a></span>&nbsp;<span class="element-name">prepareForAOT</span>()</div>
<div class="block">Allows languages to perform actions before a root node is attempted to be compiled without
prior call to <a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute(VirtualFrame)</code></a>. By default this method returns
<code>null</code> to indicate that AOT compilation is not supported. Any non-null value
indicates that compilation without execution is supported for this root node. This method is
guaranteed to not be invoked prior to any calls to <a href="#execute(com.oracle.truffle.api.frame.VirtualFrame)"><code>execute</code></a>.
<p>
Common tasks that need to be performed by this method:
<ul>
<li>Initialize local variable types in the <a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame"><code>FrameDescriptor</code></a> of the root node. Without
that any access to the frame will invalidate the code on first execute.
<li>Initialize specializing nodes with profiles that do not invalidate on first execution.
For initialization of Truffle DSL nodes see <a href="../dsl/AOTSupport.html" title="class in com.oracle.truffle.api.dsl"><code>AOTSupport</code></a>.
<li>Compute the expected execution signature of a root node and return it.
</ul>
<p>
If possible an <a href="ExecutionSignature.html" title="class in com.oracle.truffle.api.nodes"><code>execution signature</code></a> should be returned for better
call efficiency. If the argument and return profile is not available or cannot be derived the
<a href="ExecutionSignature.html#GENERIC"><code>ExecutionSignature.GENERIC</code></a> can be used to indicate that any value needs to be
expected for as argument from or as return value of the method. To indicate that a type is
unknown a <code>null</code> return or argument type should be used. The type
<code>Object</code> type should not be used in that case.
<p>
This method is invoked when no context is currently <a href="../TruffleContext.html#enter(com.oracle.truffle.api.nodes.Node)"><code>entered</code></a> therefore no guest application code must be executed. The execution might happen on
any thread, even threads unknown to the guest language implementation. It is allowed to
create new <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>call targets</code></a> during preparation of the root node or perform
modifications to the <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language</code></a> of this root node.
<p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#prepareForCompilation(boolean,int,boolean)"><code>prepareForCompilation(boolean, int, boolean)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="createConstantNode(java.lang.Object)">
<h3>createConstantNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a></span>&nbsp;<span class="element-name">createConstantNode</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;constant)</span></div>
<div class="block">Helper method to create a root node that always returns the same value. Certain operations
(especially <a href="../interop/package-summary.html"><code>inter-operability</code></a> API) require return of
stable <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>root nodes</code></a>. To simplify creation of such nodes, here is a factory
method that can create <a href="RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>RootNode</code></a> that returns always the same value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>constant</code> - the constant to return</dd>
<dt>Returns:</dt>
<dd>root node returning the constant</dd>
<dt>Since:</dt>
<dd>0.8 or earlier</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getParentFrameDescriptor()">
<h3>getParentFrameDescriptor</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../frame/FrameDescriptor.html" title="class in com.oracle.truffle.api.frame">FrameDescriptor</a></span>&nbsp;<span class="element-name">getParentFrameDescriptor</span>()</div>
<div class="block">If this root node has a lexical scope parent, this method returns its frame descriptor.

As an example, consider the following pseudocode:

<pre>
def m {
  # For the "m" root node:
  # getFrameDescriptor       returns FrameDescriptor(m)
  # getParentFrameDescriptor returns null
  var_method = 0
  a = () -&gt; {
    # For the "a lambda" root node:
    # getFrameDescriptor       returns FrameDescriptor(a)
    # getParentFrameDescriptor returns FrameDescriptor(m)
    var_lambda1 = 1
    b = () -&gt; {
      # For the "b lambda" root node:
      # getFrameDescriptor       returns FrameDescriptor(b)
      # getParentFrameDescriptor returns FrameDescriptor(a)
      var_method + var_lambda1
    }
    b.call
  }
  a.call
}
</pre>

This info is used by the runtime to optimize compilation order by giving more priority to
lexical parents which are likely to inline the child thus resulting in better performance
sooner rather than waiting for the lexical parent to get hot on its own.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The frame descriptor of the lexical parent scope if it exists. <code>null</code>
        otherwise.</dd>
<dt>Since:</dt>
<dd>22.3.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isSameFrame(com.oracle.truffle.api.frame.Frame,com.oracle.truffle.api.frame.Frame)">
<h3>isSameFrame</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSameFrame</span><wbr><span class="parameters">(<a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame1,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame2)</span></div>
<div class="block">Tests if two frames are the same. This method is mainly used by instruments in case of
<code>yield</code> of the execution and later resume. Frame comparison is used to match the
particular yielded and resumed execution.
<p>
The default implementation compares the frames identity.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>24.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="computeSize()">
<h3>computeSize</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">computeSize</span>()</div>
<div class="block">Computes a size estimate of this root node. This is intended to be overwritten if the size of
the root node cannot be estimated from the natural AST size. For example, in case the root
node is represented by a bytecode interpreter. If <code>-1</code> is returned, the regular
AST size estimate is going to be used. By default this method returns <code>-1</code>.
<p>
The size estimate is guaranteed to be invoked only once when the <a href="../CallTarget.html" title="interface in com.oracle.truffle.api"><code>CallTarget</code></a> is
created. This corresponds to calls to <a href="#getCallTarget()"><code>getCallTarget()</code></a> for the first time. This
method will never be invoked after the root node was already executed.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>23.0</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</main>
</div>
</body>
</html>
