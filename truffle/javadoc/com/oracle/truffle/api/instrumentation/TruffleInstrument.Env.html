<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>TruffleInstrument.Env (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.instrumentation, class: TruffleInstrument, class: Env">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>24.2.0-dev</b><br>8f6226b0c57613e6db6f37047debdb8796b48636</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.oracle.truffle.api.instrumentation</a></div>
<h1 title="Class TruffleInstrument.Env" class="title">Class TruffleInstrument.Env</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.oracle.truffle.api.instrumentation.TruffleInstrument.Env</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Enclosing class:</dt>
<dd><code><a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation">TruffleInstrument</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static final class </span><span class="element-name type-name-label">TruffleInstrument.Env</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Access to instrumentation services as well as input, output, and error streams.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#calculateContextHeapSize(com.oracle.truffle.api.TruffleContext,long,java.util.concurrent.atomic.AtomicBoolean)" class="member-name-link">calculateContextHeapSize</a><wbr>(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;truffleContext,
 long&nbsp;stopAtBytes,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a>&nbsp;cancelled)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns heap memory size retained by a polyglot context.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSystemThread(java.lang.Runnable)" class="member-name-link">createSystemThread</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new thread designed to process instrument tasks in the background.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createSystemThread(java.lang.Runnable,java.lang.ThreadGroup)" class="member-name-link">createSystemThread</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadGroup.html" title="class or interface in java.lang" class="external-link">ThreadGroup</a>&nbsp;threadGroup)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new thread designed to process instrument tasks in the background.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#err()" class="member-name-link">err</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Standard error writer for <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this
 <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEnteredContext()" class="member-name-link">getEnteredContext</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the entered <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>TruffleContext</code></a> or <code>null</code> when no context is entered.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Instrumenter.html" title="class in com.oracle.truffle.api.instrumentation">Instrumenter</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstrumenter()" class="member-name-link">getInstrumenter</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the instrumenter which lets you instrument guest language ASTs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api">InstrumentInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInstruments()" class="member-name-link">getInstruments</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a map <a href="../InstrumentInfo.html#getId()"><code>instrument id</code></a> to <a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api"><code>instrument info</code></a> of all instruments that are installed in the environment.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInternalResource(java.lang.Class)" class="member-name-link">getInternalResource</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="../InternalResource.html" title="interface in com.oracle.truffle.api">InternalResource</a>&gt;&nbsp;resource)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> representing the target directory of an internal
 resource.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInternalResource(java.lang.String)" class="member-name-link">getInternalResource</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> representing the target directory of an internal
 resource.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLanguageInfo(java.lang.Class)" class="member-name-link">getLanguageInfo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&gt;&nbsp;languageClass)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the <a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes"><code>language info</code></a> for a given language class if available.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLanguages()" class="member-name-link">getLanguages</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a map <a href="../nodes/LanguageInfo.html#getId()"><code>language id</code></a> to <a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes"><code>language
 info</code></a> of all languages that are installed in the environment.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLanguageView(com.oracle.truffle.api.nodes.LanguageInfo,java.lang.Object)" class="member-name-link">getLanguageView</a><wbr>(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Wraps the provided value to provide language specific information for primitive and
 foreign values.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleLogger.html" title="class in com.oracle.truffle.api">TruffleLogger</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogger(java.lang.Class)" class="member-name-link">getLogger</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;forClass)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find or create an engine bound logger for an instrument.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleLogger.html" title="class in com.oracle.truffle.api">TruffleLogger</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLogger(java.lang.String)" class="member-name-link">getLogger</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;loggerName)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find or create an engine bound logger for an instrument.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../org/graalvm/options/OptionValues.html" title="interface in org.graalvm.options">OptionValues</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOptions()" class="member-name-link">getOptions</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the context independent option values for the options described in
 <a href="TruffleInstrument.html#getOptionDescriptors()"><code>TruffleInstrument.getOptionDescriptors()</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../org/graalvm/options/OptionValues.html" title="interface in org.graalvm.options">OptionValues</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOptions(com.oracle.truffle.api.TruffleContext)" class="member-name-link">getOptions</a><wbr>(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the context specific option values for the options described in
 <a href="TruffleInstrument.html#getContextOptionDescriptors()"><code>TruffleInstrument.getContextOptionDescriptors()</code></a> and
 <a href="TruffleInstrument.html#getOptionDescriptors()"><code>TruffleInstrument.getOptionDescriptors()</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPolyglotBindings()" class="member-name-link">getPolyglotBindings</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the polyglot scope - symbols explicitly exported by languages.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../org/graalvm/polyglot/SandboxPolicy.html" title="enum class in org.graalvm.polyglot">SandboxPolicy</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSandboxPolicy()" class="member-name-link">getSandboxPolicy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the engine's <a href="../../../../../org/graalvm/polyglot/SandboxPolicy.html" title="enum class in org.graalvm.polyglot"><code>SandboxPolicy</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getScope(com.oracle.truffle.api.nodes.LanguageInfo)" class="member-name-link">getScope</a><wbr>(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Provides top scope object of the language, if any.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTruffleFile(com.oracle.truffle.api.TruffleContext,java.lang.String)" class="member-name-link">getTruffleFile</a><wbr>(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given path and <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>context</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTruffleFile(com.oracle.truffle.api.TruffleContext,java.net.URI)" class="member-name-link">getTruffleFile</a><wbr>(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a> and <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>context</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getTruffleFile(java.lang.String)" class="member-name-link">getTruffleFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">since 23.0.</div>
</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#getTruffleFile(java.net.URI)" class="member-name-link">getTruffleFile</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">since 23.0.</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#in()" class="member-name-link">in</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Input associated with <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEngineRoot(com.oracle.truffle.api.nodes.RootNode)" class="member-name-link">isEngineRoot</a><wbr>(<a href="../nodes/RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a>&nbsp;root)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if the given root node is considered an engine evaluation root
 for the current execution context.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isSameFrame(com.oracle.truffle.api.nodes.RootNode,com.oracle.truffle.api.frame.Frame,com.oracle.truffle.api.frame.Frame)" class="member-name-link">isSameFrame</a><wbr>(<a href="../nodes/RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a>&nbsp;root,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame1,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame2)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Tests if two frames are the same.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;S&gt;&nbsp;S</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lookup(com.oracle.truffle.api.InstrumentInfo,java.lang.Class)" class="member-name-link">lookup</a><wbr>(<a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api">InstrumentInfo</a>&nbsp;instrument,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns an additional service provided by this instrument, specified by type.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;S&gt;&nbsp;S</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#lookup(com.oracle.truffle.api.nodes.LanguageInfo,java.lang.Class)" class="member-name-link">lookup</a><wbr>(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Queries a <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language implementation</code></a> for a special service.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#out()" class="member-name-link">out</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Standard output writer for <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this
 <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../CallTarget.html" title="interface in com.oracle.truffle.api">CallTarget</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#parse(com.oracle.truffle.api.source.Source,java.lang.String...)" class="member-name-link">parse</a><wbr>(<a href="../source/Source.html" title="class in com.oracle.truffle.api.source">Source</a>&nbsp;source,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;argumentNames)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Evaluates source of (potentially different) language using the current context.The names
 of arguments are parameters for the resulting {#link CallTarget} that allow the
 <code>source</code> to reference the actual parameters passed to
 <a href="../CallTarget.html#call(java.lang.Object...)"><code>CallTarget.call(java.lang.Object...)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../nodes/ExecutableNode.html" title="class in com.oracle.truffle.api.nodes">ExecutableNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#parseInline(com.oracle.truffle.api.source.Source,com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.MaterializedFrame)" class="member-name-link">parseInline</a><wbr>(<a href="../source/Source.html" title="class in com.oracle.truffle.api.source">Source</a>&nbsp;source,
 <a href="../nodes/Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;node,
 <a href="../frame/MaterializedFrame.html" title="interface in com.oracle.truffle.api.frame">MaterializedFrame</a>&nbsp;frame)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Parses source snippet of the node's language at the provided node location.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#registerService(java.lang.Object)" class="member-name-link">registerService</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;service)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Registers additional service.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAsynchronousStackDepth(int)" class="member-name-link">setAsynchronousStackDepth</a><wbr>(int&nbsp;depth)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Request for languages to provide stack frames of scheduled asynchronous execution.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io">MessageEndpoint</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#startServer(java.net.URI,org.graalvm.polyglot.io.MessageEndpoint)" class="member-name-link">startServer</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri,
 <a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io">MessageEndpoint</a>&nbsp;server)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Start a server at the provided URI via the <a href="../../../../../org/graalvm/polyglot/io/MessageTransport.html" title="interface in org.graalvm.polyglot.io"><code>MessageTransport</code></a> service.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#submitThreadLocal(com.oracle.truffle.api.TruffleContext,java.lang.Thread%5B%5D,com.oracle.truffle.api.ThreadLocalAction)" class="member-name-link">submitThreadLocal</a><wbr>(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>[]&nbsp;threads,
 <a href="../ThreadLocalAction.html" title="class in com.oracle.truffle.api">ThreadLocalAction</a>&nbsp;action)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Submits a thread local action to be performed at the next guest language safepoint on a
 provided set of threads, once for each thread.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getInstrumenter()">
<h3>getInstrumenter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Instrumenter.html" title="class in com.oracle.truffle.api.instrumentation">Instrumenter</a></span>&nbsp;<span class="element-name">getInstrumenter</span>()</div>
<div class="block">Returns the instrumenter which lets you instrument guest language ASTs.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.12</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="Instrumenter.html" title="class in com.oracle.truffle.api.instrumentation"><code>Instrumenter</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="in()">
<h3>in</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a></span>&nbsp;<span class="element-name">in</span>()</div>
<div class="block">Input associated with <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>reader, never <code>null</code></dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="out()">
<h3>out</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a></span>&nbsp;<span class="element-name">out</span>()</div>
<div class="block">Standard output writer for <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this
 <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>writer, never <code>null</code></dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="err()">
<h3>err</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a></span>&nbsp;<span class="element-name">err</span>()</div>
<div class="block">Standard error writer for <a href="../../../../../org/graalvm/polyglot/Engine.html" title="class in org.graalvm.polyglot"><code>Engine</code></a> this
 <a href="TruffleInstrument.html" title="class in com.oracle.truffle.api.instrumentation"><code>instrument</code></a> is being executed in.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>writer, never <code>null</code></dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="startServer(java.net.URI,org.graalvm.polyglot.io.MessageEndpoint)">
<h3>startServer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io">MessageEndpoint</a></span>&nbsp;<span class="element-name">startServer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri,
 <a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io">MessageEndpoint</a>&nbsp;server)</span>
                            throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="../../../../../org/graalvm/polyglot/io/MessageTransport.VetoException.html" title="class in org.graalvm.polyglot.io">MessageTransport.VetoException</a></span></div>
<div class="block">Start a server at the provided URI via the <a href="../../../../../org/graalvm/polyglot/io/MessageTransport.html" title="interface in org.graalvm.polyglot.io"><code>MessageTransport</code></a> service. Before an
 instrument creates a server endpoint for a message protocol, it needs to check the result
 of this method. When a virtual message transport is available, it blocks until a client
 connects and <a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io"><code>MessageEndpoint</code></a> representing the peer endpoint is returned. Those
 endpoints need to be used instead of a direct creation of a server socket. If no virtual
 message transport is available at that URI, <code>null</code> is returned and the
 instrument needs to set up the server itself.
 <p>
 When <a href="../../../../../org/graalvm/polyglot/io/MessageTransport.VetoException.html" title="class in org.graalvm.polyglot.io"><code>MessageTransport.VetoException</code></a> is thrown, the server
 creation needs to be abandoned.
 <p>
 This method can be called concurrently from multiple threads. However, the
 <a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io"><code>MessageEndpoint</code></a> ought to be called on one thread at a time, unless you're sure
 that the particular implementation can handle concurrent calls. The same holds true for
 the returned endpoint, it's called synchronously.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>uri</code> - the URI of the server endpoint</dd>
<dd><code>server</code> - the handler of messages at the server side</dd>
<dt>Returns:</dt>
<dd>an implementation of <a href="../../../../../org/graalvm/polyglot/io/MessageEndpoint.html" title="interface in org.graalvm.polyglot.io"><code>MessageEndpoint</code></a> call back representing the client
         side, or <code>null</code> when no virtual transport is available</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../../../org/graalvm/polyglot/io/MessageTransport.VetoException.html" title="class in org.graalvm.polyglot.io">MessageTransport.VetoException</a></code> - if creation of a server at that URI is not allowed</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="registerService(java.lang.Object)">
<h3>registerService</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">registerService</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;service)</span></div>
<div class="block">Registers additional service. This method can be called multiple time, but only during
 <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>initialization of the instrument</code></a>. These services are made available to users via
 <a href="../../../../../org/graalvm/polyglot/Instrument.html#lookup(java.lang.Class)"><code>Instrument.lookup(java.lang.Class&lt;T&gt;)</code></a> query method.

 This method can only be called from
 <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>TruffleInstrument.onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)</code></a> method -
 then the services are collected and cannot be changed anymore.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>service</code> - a service to be returned from associated
            <a href="../../../../../org/graalvm/polyglot/Instrument.html#lookup(java.lang.Class)"><code>Instrument.lookup(java.lang.Class&lt;T&gt;)</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the method is called later than from
             <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>TruffleInstrument.onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)</code></a>
             method</dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lookup(com.oracle.truffle.api.nodes.LanguageInfo,java.lang.Class)">
<h3>lookup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;S&gt;</span>&nbsp;<span class="return-type">S</span>&nbsp;<span class="element-name">lookup</span><wbr><span class="parameters">(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;type)</span></div>
<div class="block">Queries a <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>language implementation</code></a> for a special service. The
 services can be provided by the language by directly implementing them when subclassing
 <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api"><code>TruffleLanguage</code></a>. The truffle language needs to be entered on the current Thread
 otherwise an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AssertionError.html" title="class or interface in java.lang" class="external-link"><code>AssertionError</code></a> is thrown.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>S</code> - the requested type</dd>
<dt>Parameters:</dt>
<dd><code>language</code> - identification of the language to query</dd>
<dd><code>type</code> - the class of the requested type</dd>
<dt>Returns:</dt>
<dd>the registered service or <code>null</code> if none is found</dd>
<dt>Since:</dt>
<dd>0.26</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="lookup(com.oracle.truffle.api.InstrumentInfo,java.lang.Class)">
<h3>lookup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;S&gt;</span>&nbsp;<span class="return-type">S</span>&nbsp;<span class="element-name">lookup</span><wbr><span class="parameters">(<a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api">InstrumentInfo</a>&nbsp;instrument,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;S&gt;&nbsp;type)</span></div>
<div class="block">Returns an additional service provided by this instrument, specified by type. If an
 instrument is not enabled, it will be enabled automatically by requesting a supported
 service. If the instrument does not provide a service for a given type it will not be
 enabled automatically. An <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a> is thrown if a service is
 looked up from the current instrument.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>S</code> - the requested type</dd>
<dt>Parameters:</dt>
<dd><code>instrument</code> - identification of the instrument to query</dd>
<dd><code>type</code> - the class of the requested type</dd>
<dt>Returns:</dt>
<dd>the registered service or <code>null</code> if none is found</dd>
<dt>Since:</dt>
<dd>0.26</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLanguages()">
<h3>getLanguages</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&gt;</span>&nbsp;<span class="element-name">getLanguages</span>()</div>
<div class="block">Returns a map <a href="../nodes/LanguageInfo.html#getId()"><code>language id</code></a> to <a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes"><code>language
 info</code></a> of all languages that are installed in the environment.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.26</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInstruments()">
<h3>getInstruments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>,<wbr><a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api">InstrumentInfo</a>&gt;</span>&nbsp;<span class="element-name">getInstruments</span>()</div>
<div class="block">Returns a map <a href="../InstrumentInfo.html#getId()"><code>instrument id</code></a> to <a href="../InstrumentInfo.html" title="class in com.oracle.truffle.api"><code>instrument info</code></a> of all instruments that are installed in the environment.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.26</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOptions()">
<h3>getOptions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/graalvm/options/OptionValues.html" title="interface in org.graalvm.options">OptionValues</a></span>&nbsp;<span class="element-name">getOptions</span>()</div>
<div class="block">Returns the context independent option values for the options described in
 <a href="TruffleInstrument.html#getOptionDescriptors()"><code>TruffleInstrument.getOptionDescriptors()</code></a>. The returned options are never
 <code>null</code>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.27</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getOptions(com.oracle.truffle.api.TruffleContext)"><code>to return the context specific options for this
      instrument.</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOptions(com.oracle.truffle.api.TruffleContext)">
<h3>getOptions</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/graalvm/options/OptionValues.html" title="interface in org.graalvm.options">OptionValues</a></span>&nbsp;<span class="element-name">getOptions</span><wbr><span class="parameters">(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context)</span></div>
<div class="block">Returns the context specific option values for the options described in
 <a href="TruffleInstrument.html#getContextOptionDescriptors()"><code>TruffleInstrument.getContextOptionDescriptors()</code></a> and
 <a href="TruffleInstrument.html#getOptionDescriptors()"><code>TruffleInstrument.getOptionDescriptors()</code></a>. Instrument context options can be
 different for each TruffleContext, whereas regular options cannot.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getOptions()"><code>to get the context independent options set for this instrument</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parse(com.oracle.truffle.api.source.Source,java.lang.String...)">
<h3>parse</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../CallTarget.html" title="interface in com.oracle.truffle.api">CallTarget</a></span>&nbsp;<span class="element-name">parse</span><wbr><span class="parameters">(<a href="../source/Source.html" title="class in com.oracle.truffle.api.source">Source</a>&nbsp;source,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>...&nbsp;argumentNames)</span>
                 throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Evaluates source of (potentially different) language using the current context.The names
 of arguments are parameters for the resulting {#link CallTarget} that allow the
 <code>source</code> to reference the actual parameters passed to
 <a href="../CallTarget.html#call(java.lang.Object...)"><code>CallTarget.call(java.lang.Object...)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>source</code> - the source to evaluate</dd>
<dd><code>argumentNames</code> - the names of <a href="../CallTarget.html#call(java.lang.Object...)"><code>CallTarget.call(java.lang.Object...)</code></a> arguments
            that can be referenced from the source</dd>
<dt>Returns:</dt>
<dd>the call target representing the parsed result</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if the parsing or evaluation fails for some reason</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/SecurityException.html" title="class or interface in java.lang" class="external-link">SecurityException</a></code></dd>
<dt>Since:</dt>
<dd>0.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="parseInline(com.oracle.truffle.api.source.Source,com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.frame.MaterializedFrame)">
<h3>parseInline</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../nodes/ExecutableNode.html" title="class in com.oracle.truffle.api.nodes">ExecutableNode</a></span>&nbsp;<span class="element-name">parseInline</span><wbr><span class="parameters">(<a href="../source/Source.html" title="class in com.oracle.truffle.api.source">Source</a>&nbsp;source,
 <a href="../nodes/Node.html" title="class in com.oracle.truffle.api.nodes">Node</a>&nbsp;node,
 <a href="../frame/MaterializedFrame.html" title="interface in com.oracle.truffle.api.frame">MaterializedFrame</a>&nbsp;frame)</span></div>
<div class="block">Parses source snippet of the node's language at the provided node location. The result is
 an AST fragment represented by <a href="../nodes/ExecutableNode.html" title="class in com.oracle.truffle.api.nodes"><code>ExecutableNode</code></a> that accepts frames valid at the
 provided node location, or <code>null</code> when inline parsing is not supported by the
 language.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>source</code> - a source snippet to parse at the provided node location</dd>
<dd><code>node</code> - a context location where the source is parsed at, must not be
            <code>null</code></dd>
<dd><code>frame</code> - a frame location where the source is parsed at, can be <code>null</code></dd>
<dt>Returns:</dt>
<dd>the executable fragment representing the parsed result, or <code>null</code></dd>
<dt>Since:</dt>
<dd>0.31</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTruffleFile(java.lang.String)">
<h3>getTruffleFile</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getTruffleFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">since 23.0. Use <a href="#getTruffleFile(com.oracle.truffle.api.TruffleContext,java.lang.String)"><code>getTruffleFile(TruffleContext, String)</code></a>.</div>
</div>
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given path. This must be called on a context thread
 only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - the absolute or relative path to create <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for</dd>
<dt>Returns:</dt>
<dd><a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a></dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTruffleFile(java.net.URI)">
<h3>getTruffleFile</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getTruffleFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">since 23.0. Use <a href="#getTruffleFile(com.oracle.truffle.api.TruffleContext,java.net.URI)"><code>getTruffleFile(TruffleContext, URI)</code></a>.</div>
</div>
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a>. This must be called on a context
 thread only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>uri</code> - the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a> to create <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for</dd>
<dt>Returns:</dt>
<dd><a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a></dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTruffleFile(com.oracle.truffle.api.TruffleContext,java.lang.String)">
<h3>getTruffleFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getTruffleFile</span><wbr><span class="parameters">(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given path and <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>context</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>TruffleContext</code></a>, or <code>null</code> to use a current entered
            context.</dd>
<dd><code>path</code> - the absolute or relative path to create <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for</dd>
<dt>Returns:</dt>
<dd><a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - when the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystem.html" title="class or interface in java.nio.file" class="external-link"><code>FileSystem</code></a> supports only
             <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a></dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the <code>path</code> string cannot be converted to a
             <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Path.html" title="class or interface in java.nio.file" class="external-link"><code>Path</code></a></dd>
<dt>Since:</dt>
<dd>23.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTruffleFile(com.oracle.truffle.api.TruffleContext,java.net.URI)">
<h3>getTruffleFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getTruffleFile</span><wbr><span class="parameters">(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link">URI</a>&nbsp;uri)</span></div>
<div class="block">Returns a <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for given <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a> and <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>context</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>TruffleContext</code></a>, or <code>null</code> to use a current entered
            context.</dd>
<dd><code>uri</code> - the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a> to create <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> for</dd>
<dt>Returns:</dt>
<dd><a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - when <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/URI.html" title="class or interface in java.net" class="external-link"><code>URI</code></a> scheme is not supported</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if preconditions on the <code>uri</code> do not hold.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/FileSystemNotFoundException.html" title="class or interface in java.nio.file" class="external-link">FileSystemNotFoundException</a></code> - is the file system, identified by the
             <code>uri</code>, does not exist and cannot be created automatically</dd>
<dt>Since:</dt>
<dd>23.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEnteredContext()">
<h3>getEnteredContext</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a></span>&nbsp;<span class="element-name">getEnteredContext</span>()</div>
<div class="block">Returns the entered <a href="../TruffleContext.html" title="class in com.oracle.truffle.api"><code>TruffleContext</code></a> or <code>null</code> when no context is entered.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEngineRoot(com.oracle.truffle.api.nodes.RootNode)">
<h3>isEngineRoot</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEngineRoot</span><wbr><span class="parameters">(<a href="../nodes/RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a>&nbsp;root)</span></div>
<div class="block">Returns <code>true</code> if the given root node is considered an engine evaluation root
 for the current execution context. Multiple such root nodes can appear on stack frames
 returned by
 <a href="../TruffleRuntime.html#iterateFrames(com.oracle.truffle.api.frame.FrameInstanceVisitor)"><code>TruffleRuntime.iterateFrames(com.oracle.truffle.api.frame.FrameInstanceVisitor)</code></a>.
 A debugger implementation might use this information to hide stack frames of other
 engines.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>root</code> - the root node to check</dd>
<dt>Returns:</dt>
<dd><code>true</code> if engine root else <code>false</code></dd>
<dt>Since:</dt>
<dd>0.17</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAsynchronousStackDepth(int)">
<h3>setAsynchronousStackDepth</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAsynchronousStackDepth</span><wbr><span class="parameters">(int&nbsp;depth)</span></div>
<div class="block">Request for languages to provide stack frames of scheduled asynchronous execution.
 Languages might not provide asynchronous stack frames by default for performance reasons.
 At most <code>depth</code> asynchronous stack frames are asked for. When multiple
 instruments call this method, the languages get a maximum depth of these calls and may
 therefore provide longer asynchronous stacks than requested. Also, languages may provide
 asynchronous stacks if it's of no performance penalty, or if requested by other options.
 <p/>
 Asynchronous stacks can then be accessed via
 <a href="../TruffleStackTrace.html#getAsynchronousStackTrace(com.oracle.truffle.api.CallTarget,com.oracle.truffle.api.frame.Frame)"><code>TruffleStackTrace.getAsynchronousStackTrace(CallTarget, Frame)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>depth</code> - the requested stack depth, 0 means no asynchronous stack frames are
            required.</dd>
<dt>Since:</dt>
<dd>20.1.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../TruffleStackTrace.html#getAsynchronousStackTrace(com.oracle.truffle.api.CallTarget,com.oracle.truffle.api.frame.Frame)"><code>TruffleStackTrace.getAsynchronousStackTrace(CallTarget, Frame)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLanguageInfo(java.lang.Class)">
<h3>getLanguageInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a></span>&nbsp;<span class="element-name">getLanguageInfo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="../TruffleLanguage.html" title="class in com.oracle.truffle.api">TruffleLanguage</a>&lt;?&gt;&gt;&nbsp;languageClass)</span></div>
<div class="block">Returns the <a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes"><code>language info</code></a> for a given language class if available.
 Language classes are typically obtained by invoking the
 <a href="../interop/InteropLibrary.html#getLanguage(java.lang.Object)"><code>InteropLibrary.getLanguage(Object)</code></a> message. Throws an
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link"><code>IllegalArgumentException</code></a> if the provided language is not registered. Note that
 languages may be returned that are not contained in <a href="#getLanguages()"><code>getLanguages()</code></a>. For example,
 values originating from the embedder like Java classes or <a href="../../../../../org/graalvm/polyglot/proxy/Proxy.html" title="interface in org.graalvm.polyglot.proxy"><code>polyglot proxies</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>languageClass</code> - the language class to convert</dd>
<dt>Returns:</dt>
<dd>the associated language info</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the language class is not valid.</dd>
<dt>Since:</dt>
<dd>20.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLanguageView(com.oracle.truffle.api.nodes.LanguageInfo,java.lang.Object)">
<h3>getLanguageView</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getLanguageView</span><wbr><span class="parameters">(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Wraps the provided value to provide language specific information for primitive and
 foreign values. A typical implementation of a given language for this method does the
 following:
 <ul>
 <li>Return the current language as their associated
 <a href="../interop/InteropLibrary.html#getLanguage(java.lang.Object)"><code>language</code></a>.
 <li>Provide a language specific
 <a href="../interop/InteropLibrary.html#toDisplayString(java.lang.Object)"><code>display
 string</code></a> for primitive and foreign values.
 <li>Return a language specific
 <a href="../interop/InteropLibrary.html#getMetaObject(java.lang.Object)"><code>metaobject</code></a>
 primitive or foreign values.
 <li>Add members to the object that would implicitly be available for all objects. For
 example, any JavaScript object is expected to have a prototype member. Foreign objects,
 even if they do not have such a member, are interpreted as if they have.
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>language</code> - the language to provide the view for</dd>
<dd><code>value</code> - the value to language specific information for.</dd>
<dt>Since:</dt>
<dd>20.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../TruffleLanguage.html#getLanguageView(C,java.lang.Object)"><code>TruffleLanguage.getLanguageView(Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPolyglotBindings()">
<h3>getPolyglotBindings</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getPolyglotBindings</span>()</div>
<div class="block">Returns the polyglot scope - symbols explicitly exported by languages. The polyglot
 bindings of the current entered context are returned.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an interop object having the symbol names as properties</dd>
<dt>Since:</dt>
<dd>20.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getScope(com.oracle.truffle.api.nodes.LanguageInfo)">
<h3>getScope</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getScope</span><wbr><span class="parameters">(<a href="../nodes/LanguageInfo.html" title="class in com.oracle.truffle.api.nodes">LanguageInfo</a>&nbsp;language)</span></div>
<div class="block">Provides top scope object of the language, if any. Uses the current context to find the
 language scope associated with. The returned object is an
 <a href="../interop/InteropLibrary.html#isScope(java.lang.Object)"><code>interop scope
 object</code></a>, or <code>null</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>language</code> - a language</dd>
<dt>Returns:</dt>
<dd>the top scope, or <code>null</code> if the language does not support such concept</dd>
<dt>Since:</dt>
<dd>20.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../TruffleLanguage.html#getScope(C)"><code>TruffleLanguage.getScope(Object)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInternalResource(java.lang.Class)">
<h3>getInternalResource</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getInternalResource</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;? extends <a href="../InternalResource.html" title="interface in com.oracle.truffle.api">InternalResource</a>&gt;&nbsp;resource)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> representing the target directory of an internal
 resource. The internal resource is guaranteed to be fully
 <a href="../InternalResource.html#unpackFiles(com.oracle.truffle.api.InternalResource.Env,java.nio.file.Path)"><code>InternalResource.unpackFiles(InternalResource.Env, Path)</code></a> unpacked} before this
 method returns. When this method is called for the first time and the resource is not
 cached than the resource will be unpacked. Unpacking an internal resource can be an
 expensive operation, but the implementation makes sure that unpacked internal resources
 are cached.
 <p>
 The returned <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> will only grant read-only access to the target
 directory, but access is provided even if IO access is disabled.
 <p>
 On a HotSpot VM the internal resource is typically cached in the user directory, so
 unpacking would be repeated once per operating system user. When the language was
 compiled using native-image internal resources are unpacked at native-image compile time
 and stored relative to the native-image.
 <p>
 The caller thread must be entered in a context.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resource</code> - the resource class to load</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>resource</code> is not associated with this
             instrument</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - in case of IO error</dd>
<dt>Since:</dt>
<dd>23.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInternalResource(java.lang.String)">
<h3>getInternalResource</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleFile.html" title="class in com.oracle.truffle.api">TruffleFile</a></span>&nbsp;<span class="element-name">getInternalResource</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;resourceId)</span>
                                throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Returns the <a href="../TruffleFile.html" title="class in com.oracle.truffle.api"><code>TruffleFile</code></a> representing the target directory of an internal
 resource. Unlike the <a href="#getInternalResource(java.lang.Class)"><code>getInternalResource(Class)</code></a>, this method can be used for
 optional resources whose classes may not exist at runtime. In this case the optional
 resource must be unpacked at build time, see
 <a href="../../../../../org/graalvm/polyglot/Engine.html#copyResources(java.nio.file.Path,java.lang.String...)"><code>Engine.copyResources(Path, String...)</code></a>. If the resource with the specified
 <code>resourceId</code> is not associated to this instrument, the function returns
 <code>null</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>resourceId</code> - unique id of the resource to be loaded</dd>
<dt>Returns:</dt>
<dd>internal resource directory or <code>null</code> if resource with the
         <code>resourceId</code> is not associated with this instrument</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - in case of IO error</dd>
<dt>Since:</dt>
<dd>23.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getInternalResource(java.lang.Class)"><code>getInternalResource(Class)</code></a></li>
<li><a href="../../../../../org/graalvm/polyglot/Engine.html#copyResources(java.nio.file.Path,java.lang.String...)"><code>Engine.copyResources(Path, String...)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogger(java.lang.String)">
<h3>getLogger</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleLogger.html" title="class in com.oracle.truffle.api">TruffleLogger</a></span>&nbsp;<span class="element-name">getLogger</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;loggerName)</span></div>
<div class="block">Find or create an engine bound logger for an instrument. When a logging is required from
 a thread which entered a context the context's logging handler and options are used.
 Otherwise the engine's logging handler and options are used.
 <p>
 If a logger with given name already exists it's returned, otherwise a new logger is
 created.
 <p>
 Unlike loggers created by
 <a href="../TruffleLogger.html#getLogger(java.lang.String,java.lang.String)"><code>TruffleLogger.getLogger</code></a> loggers created by this method are bound to engine, there may be
 more logger instances having the same name but each bound to different engine instance.
 Instruments should never store the returned logger into a static fields. A new logger
 must be always created in
 <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>onCreate</code></a> method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>loggerName</code> - the the name of a <a href="../TruffleLogger.html" title="class in com.oracle.truffle.api"><code>TruffleLogger</code></a>, if a <code>loggerName</code> is
            null or empty a root logger for language or instrument is returned</dd>
<dt>Returns:</dt>
<dd>a <a href="../TruffleLogger.html" title="class in com.oracle.truffle.api"><code>TruffleLogger</code></a></dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLogger(java.lang.Class)">
<h3>getLogger</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../TruffleLogger.html" title="class in com.oracle.truffle.api">TruffleLogger</a></span>&nbsp;<span class="element-name">getLogger</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;&nbsp;forClass)</span></div>
<div class="block">Find or create an engine bound logger for an instrument. The engine bound loggers can be
 used by threads executing without any current context. When a logging is required from a
 thread which entered a context the context's logging handler and options are used.
 Otherwise the engine's logging handler and options are used.
 <p>
 If a logger for the class already exists it's returned, otherwise a new logger is
 created.
 <p>
 Unlike loggers created by
 <a href="../TruffleLogger.html#getLogger(java.lang.String,java.lang.Class)"><code>TruffleLogger.getLogger</code></a> loggers created by this method are bound to engine, there may be
 more logger instances having the same name but each bound to different engine instance.
 Instruments should never store the returned logger into a static fields. A new logger
 must be always created in
 <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>onCreate</code></a> method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>forClass</code> - the <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link"><code>Class</code></a> to create a logger for</dd>
<dt>Returns:</dt>
<dd>a <a href="../TruffleLogger.html" title="class in com.oracle.truffle.api"><code>TruffleLogger</code></a></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - if <code>forClass</code> is null</dd>
<dt>Since:</dt>
<dd>19.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isSameFrame(com.oracle.truffle.api.nodes.RootNode,com.oracle.truffle.api.frame.Frame,com.oracle.truffle.api.frame.Frame)">
<h3>isSameFrame</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isSameFrame</span><wbr><span class="parameters">(<a href="../nodes/RootNode.html" title="class in com.oracle.truffle.api.nodes">RootNode</a>&nbsp;root,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame1,
 <a href="../frame/Frame.html" title="interface in com.oracle.truffle.api.frame">Frame</a>&nbsp;frame2)</span></div>
<div class="block">Tests if two frames are the same. This method is mainly used by instruments in case of
 <code>yield</code> of the execution and later resume. Frame comparison is used to match
 the particular yielded and resumed execution. The frames must correspond to the root.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>24.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="calculateContextHeapSize(com.oracle.truffle.api.TruffleContext,long,java.util.concurrent.atomic.AtomicBoolean)">
<h3>calculateContextHeapSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">calculateContextHeapSize</span><wbr><span class="parameters">(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;truffleContext,
 long&nbsp;stopAtBytes,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html" title="class or interface in java.util.concurrent.atomic" class="external-link">AtomicBoolean</a>&nbsp;cancelled)</span></div>
<div class="block">Returns heap memory size retained by a polyglot context.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>truffleContext</code> - specifies the polyglot context for which retained size is
            calculated.</dd>
<dd><code>stopAtBytes</code> - when the calculated size exceeds stopAtBytes, calculation is stopped
            and only size calculated up to that point is returned, i.e., if the retained
            size is greater than stopAtBytes, a value greater than stopAtBytes will be
            returned, not the total retained size which might be much greater.</dd>
<dd><code>cancelled</code> - when cancelled returns true, calculation is cancelled and
            <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/CancellationException.html" title="class or interface in java.util.concurrent" class="external-link"><code>CancellationException</code></a> is thrown. The message of
            the exception specifies the number of bytes calculated up to that point.</dd>
<dt>Returns:</dt>
<dd>calculated heap memory size retained by the specified polyglot context, or a
         value greater than stopAtBytes if the calculated size is greater than
         stopAtBytes.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - in case heap size calculation is not supported on
             current runtime.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/CancellationException.html" title="class or interface in java.util.concurrent" class="external-link">CancellationException</a></code> - in case the heap size calculation is
             cancelled based on the cancelled parameter. The message of the exception
             specifies the number of bytes calculated up to that point.</dd>
<dt>Since:</dt>
<dd>21.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="submitThreadLocal(com.oracle.truffle.api.TruffleContext,java.lang.Thread[],com.oracle.truffle.api.ThreadLocalAction)">
<h3>submitThreadLocal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">submitThreadLocal</span><wbr><span class="parameters">(<a href="../TruffleContext.html" title="class in com.oracle.truffle.api">TruffleContext</a>&nbsp;context,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a>[]&nbsp;threads,
 <a href="../ThreadLocalAction.html" title="class in com.oracle.truffle.api">ThreadLocalAction</a>&nbsp;action)</span></div>
<div class="block">Submits a thread local action to be performed at the next guest language safepoint on a
 provided set of threads, once for each thread. If the threads array is <code>null</code>
 then the thread local action will be performed on all alive threads. The submitted
 actions are processed in the same order as they are submitted in. The action can be
 synchronous or asynchronous, side-effecting or non-sideeffecting. Please see
 <a href="../ThreadLocalAction.html" title="class in com.oracle.truffle.api"><code>ThreadLocalAction</code></a> for details.
 <p>
 It is ensured that a thread local action will get processed as long as the thread stays
 active for this context. If a thread becomes inactive before the action can get processed
 then the action will not be performed for this thread. If a thread becomes active while
 the action is being processed then the action will be performed for that thread as long
 as the thread filter includes the thread or <code>null</code> was passed. Already started
 synchronous actions will block on activation of a new thread. If the synchronous action
 was not yet started on any thread, then the synchronous action will also be performed for
 the newly activated thread.
 <p>
 The method returns a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> instance that allows to wait for the thread local
 action to complete or to cancel a currently performed event.
 <p>
 Example Usage:

 <pre>
 Env env; // supplied by TruffleInstrument
 TruffleContext context; // supplied by ContextsListener

 env.submitThreadLocal(context, null, new ThreadLocalAction(true, true) {
     &#64;Override
     protected void perform(Access access) {
         // perform action
     }
 });
 </pre>
 <p>
 By default thread-local actions are executed once per configured thread and do not repeat
 themselves. If a ThreadLocalAction is configured to be
 <a href="../ThreadLocalAction.html#%3Cinit%3E(boolean,boolean,boolean)"><code>recurring</code></a> then the
 action will automatically be rescheduled in the same configuration until it is
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html#cancel(boolean)" title="class or interface in java.util.concurrent" class="external-link"><code>cancelled</code></a>. For recurring actions, an invocation of
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html#get()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.get()</code></a> will only wait for the first action to to be performed.
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html#isDone()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.isDone()</code></a> will return <code>true</code> only if the action was canceled.
 Canceling a recurring action will result in the current event being canceled and no
 further events being submitted. Using recurring events should be preferred over
 submitting the event again for the current thread while performing the thread-local
 action as recurring events are also resubmitted in case all threads leave and later
 reenter.
 <p>
 If the thread local action future needs to be waited on and this might be prone to
 deadlocks the
 <a href="../TruffleSafepoint.html#setBlocked(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.TruffleSafepoint.Interrupter,com.oracle.truffle.api.TruffleSafepoint.Interruptible,T,java.lang.Runnable,java.util.function.Consumer)"><code>blocking API</code></a> can be used to allow other thread local actions to be processed while the
 current thread is waiting. The returned <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html#get()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.get()</code></a> method can be used as
 <a href="../TruffleSafepoint.Interruptible.html" title="interface in com.oracle.truffle.api"><code>TruffleSafepoint.Interruptible</code></a>. If the supplied context is already closed, the method returns a
 completed <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>context</code> - the context in which the action should be performed. Non <code>null</code>
            .</dd>
<dd><code>threads</code> - the threads to execute the action on. <code>null</code> for all threads</dd>
<dd><code>action</code> - the action to perform on that thread.</dd>
<dt>Since:</dt>
<dd>21.1</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../ThreadLocalAction.html" title="class in com.oracle.truffle.api"><code>ThreadLocalAction</code></a></li>
<li><a href="../TruffleSafepoint.html" title="class in com.oracle.truffle.api"><code>TruffleSafepoint</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSystemThread(java.lang.Runnable)">
<h3>createSystemThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></span>&nbsp;<span class="element-name">createSystemThread</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable)</span></div>
<div class="block">Creates a new thread designed to process instrument tasks in the background. See
 <a href="#createSystemThread(java.lang.Runnable,java.lang.ThreadGroup)"><code>createSystemThread(Runnable, ThreadGroup)</code></a> for a detailed description of the
 parameters.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>22.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#createSystemThread(java.lang.Runnable,java.lang.ThreadGroup)"><code>createSystemThread(Runnable, ThreadGroup)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createSystemThread(java.lang.Runnable,java.lang.ThreadGroup)">
<h3>createSystemThread</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link">Thread</a></span>&nbsp;<span class="element-name">createSystemThread</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;runnable,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ThreadGroup.html" title="class or interface in java.lang" class="external-link">ThreadGroup</a>&nbsp;threadGroup)</span></div>
<div class="block">Creates a new thread designed to process instrument tasks in the background. The created
 thread cannot enter the context, if it tries an <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a> is thrown.
 Creating or terminating a system thread does not notify languages or
 <a href="ThreadsListener.html" title="interface in com.oracle.truffle.api.instrumentation"><code>ThreadsListener</code></a>s. Creating a system thread does not cause a transition to
 multi-threaded access.
 <p>
 It is recommended to set an
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)" title="class or interface in java.lang" class="external-link"><code>uncaught exception handler</code></a> for the created thread. For example the thread can throw an
 uncaught exception if the engine is closed before the thread is started.
 <p>
 The instrument that created and started the thread is responsible to stop and join it
 during the <a href="TruffleInstrument.html#onDispose(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>onDispose</code></a>, otherwise an
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link"><code>IllegalStateException</code></a> is thrown. It's not safe to use the
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)" title="class or interface in java.util.concurrent" class="external-link"><code>ExecutorService.awaitTermination(long, java.util.concurrent.TimeUnit)</code></a> to detect
 Thread termination as the system thread may be cancelled before executing the executor
 worker.<br/>
 A typical implementation looks like:

 
<div class="snippet-container"><button class="copy snippet-copy" aria-label="Copy snippet" onclick="copySnippet(this)"><span data-copied="Copied!">Copy</span><img src="../../../../../copy.svg" alt="Copy snippet"></button>
<pre class="snippet"><code class="language-java">class SystemThreadInstrument extends TruffleInstrument {

    private volatile Thread systemThread;
    private volatile boolean cancelled;
    private final BlockingQueue&lt;Runnable&gt; tasks = new LinkedBlockingQueue&lt;&gt;();

    @Override
    protected void onCreate(Env env) {
        // Create and start a Thread for the asynchronous task.
        // Remember the Thread reference to stop and join it in
        // the finalizeContext
        systemThread = env.createSystemThread(() -&gt; {
            while (!cancelled) {
                try {
                    Runnable task = tasks.poll(Integer.MAX_VALUE, SECONDS);
                    if (task != null) {
                        task.run();
                    }
                } catch (InterruptedException ie) {
                    // pass to cancelled check
                }
            }
        });
        systemThread.start();
    }

    @Override
    protected void onDispose(Env env) {
        // Stop and join system thread.
        cancelled = true;
        systemThread.interrupt();
        boolean interrupted = false;
        boolean terminated = false;
        while (!terminated) {
            try {
                systemThread.join();
                terminated = true;
            } catch (InterruptedException ie) {
                interrupted = true;
            }
        }
        if (interrupted) {
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
</div>
</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>runnable</code> - the runnable to run on this thread.</dd>
<dd><code>threadGroup</code> - the thread group, passed on to the underlying <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Thread.html" title="class or interface in java.lang" class="external-link"><code>Thread</code></a>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the engine is already closed.</dd>
<dt>Since:</dt>
<dd>22.3</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#createSystemThread(java.lang.Runnable)"><code>createSystemThread(Runnable)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSandboxPolicy()">
<h3>getSandboxPolicy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../../../org/graalvm/polyglot/SandboxPolicy.html" title="enum class in org.graalvm.polyglot">SandboxPolicy</a></span>&nbsp;<span class="element-name">getSandboxPolicy</span>()</div>
<div class="block">Returns the engine's <a href="../../../../../org/graalvm/polyglot/SandboxPolicy.html" title="enum class in org.graalvm.polyglot"><code>SandboxPolicy</code></a>. An instrument can use the returned sandbox
 policy to make instrument-specific verifications that the sandbox requirements are met.
 These verifications should be made as early as possible in the
 <a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>TruffleInstrument.onCreate(Env)</code></a> method.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>23.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="../../../../../org/graalvm/polyglot/SandboxPolicy.html" title="enum class in org.graalvm.polyglot"><code>SandboxPolicy</code></a></li>
<li><a href="TruffleInstrument.html#onCreate(com.oracle.truffle.api.instrumentation.TruffleInstrument.Env)"><code>TruffleInstrument.onCreate(Env)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2024, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</div>
</div>
</body>
</html>
