<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>BranchProfile (GraalVM Truffle Java API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BranchProfile (GraalVM Truffle Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":6,"i2":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>21.3.0-dev</b><br>44d3ba029ef261aefaf3371e8fee9403c5e88ab4</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/oracle/truffle/api/profiles/ByteValueProfile.html" title="class in com.oracle.truffle.api.profiles"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/profiles/BranchProfile.html" target="_top">Frames</a></li>
<li><a href="BranchProfile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.oracle.truffle.api.profiles</div>
<h2 title="Class BranchProfile" class="title">Class BranchProfile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/oracle/truffle/api/nodes/NodeCloneable.html" title="class in com.oracle.truffle.api.nodes">com.oracle.truffle.api.nodes.NodeCloneable</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../com/oracle/truffle/api/profiles/Profile.html" title="class in com.oracle.truffle.api.profiles">com.oracle.truffle.api.profiles.Profile</a></li>
<li>
<ul class="inheritance">
<li>com.oracle.truffle.api.profiles.BranchProfile</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html?is-external=true" title="class or interface in java.lang">Cloneable</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">BranchProfile</span>
extends <a href="../../../../../com/oracle/truffle/api/profiles/Profile.html" title="class in com.oracle.truffle.api.profiles">Profile</a></pre>
<div class="block"><p>
 BranchProfiles are profiles to speculate on branches that are unlikely to be visited. If the
 <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#enter--"><code>BranchProfile.enter()</code></a> method is invoked first the optimized code is invalidated and the branch where
 <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#enter--"><code>BranchProfile.enter()</code></a> is invoked is enabled for compilation. Otherwise if the <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#enter--"><code>BranchProfile.enter()</code></a> method
 was never invoked the branch will not get compiled.
 </p>

 <p>
 <b> Usage example: </b>
 <pre><b>class</b> BranchingNode <b>extends</b> <a href="../../../../../com/oracle/truffle/api/nodes/Node.html" title="class in com.oracle.truffle.api.nodes"><code>Node</code></a> {
    <b>final</b> <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles"><code>BranchProfile</code></a> errorProfile = <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles"><code>BranchProfile</code></a>.create();

    <b>int</b> execute(<b>int</b> value) {
        <b>if</b> (value == <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang"><code>Integer</code></a>.MAX_VALUE) {
            errorProfile.enter();
            <b>throw</b> <b>new</b> <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Error.html?is-external=true" title="class or interface in java.lang"><code>Error</code></a>(<em>"Invalid input value"</em>);
        }
        <b>return</b> value;
    }
}
</pre>

 <p>
 A profile is a Truffle utility class that uses the <a href="../../../../../com/oracle/truffle/api/CompilerDirectives.html" title="class in com.oracle.truffle.api"><code>Truffle compiler
 directives</code></a> to guard for and/or forward runtime information to the compiler.
 </p>

 <p>
 <b>Usage:</b> Profiles should be stored in <code>final</code> or <a href="../../../../../com/oracle/truffle/api/CompilerDirectives.CompilationFinal.html" title="annotation in com.oracle.truffle.api"><code>compilation final</code></a> fields of node classes to ensure that they can get optimized properly.
 Profiles must not be shared between ASTs. Using the same profile multiple times in a single
 <a href="../../../../../com/oracle/truffle/api/nodes/Node.html" title="class in com.oracle.truffle.api.nodes"><code>node</code></a> or in multiple <a href="../../../../../com/oracle/truffle/api/nodes/Node.html" title="class in com.oracle.truffle.api.nodes"><code>nodes</code></a> which <a href="../../../../../com/oracle/truffle/api/nodes/Node.html#getRootNode--"><code>link</code></a> to the
 same <a href="../../../../../com/oracle/truffle/api/nodes/RootNode.html" title="class in com.oracle.truffle.api.nodes"><code>root</code></a> is allowed. <b>Never</b> store profiles inside runtime values that
 leave the scope of the originating AST. This limitation exists because the used mechanism to
 invalidate compiled code performs local invalidations only. For global speculations use
 <a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api"><code>assumptions</code></a> instead.
 </p>

 <p>
 <b>Compilation:</b> Some profiles like <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles"><code>branch</code></a> profiles do not induce
 additional overhead in compiled code. Others like <a href="../../../../../com/oracle/truffle/api/profiles/ValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>value</code></a> profiles might
 require a runtime check to verify their assumptions which are forwarded to the compiler. Even if
 profiles do not induce direct overhead in compiled code it still might get invalidated as a
 result of using profiles. Invalidating profiles will result in the invalidation of compiled code.
 It is therefore essential to place these profiles in way that is neither too aggressive nor too
 conservative.
 </p>

 <p>
 <b>Footprint:</b> Whether profiling information can be forwarded to the compiler depends on the
 capabilities of the <a href="../../../../../com/oracle/truffle/api/TruffleRuntime.html" title="interface in com.oracle.truffle.api"><code>runtime system</code></a>. If the runtime returns
 <code>true</code> in <a href="../../../../../com/oracle/truffle/api/TruffleRuntime.html#isProfilingEnabled--"><code>TruffleRuntime.isProfilingEnabled()</code></a> then runtime information will
 get collected. This comes at at the cost of additional overhead and footprint in interpreted
 mode. Thats why the factory methods of profiles can return implementations where profiling is
 disabled. Using disabled profiles makes sense for runtimes that are unable to use the collected
 profiling information. Even runtime implementations that are able to use this information might
 decide to turn off profiling for benchmarking purposes.
 </p>

 <p>
 Profile subclasses:
 <ul>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles"><code>BranchProfile</code></a> to profile on unlikely branches like errors.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/ConditionProfile.html" title="class in com.oracle.truffle.api.profiles"><code>ConditionProfile</code></a> to profile on conditionals or boolean values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/LoopConditionProfile.html" title="class in com.oracle.truffle.api.profiles"><code>LoopConditionProfile</code></a> to profile on conditionals of loops with special support for
 counted loops.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/ValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>ValueProfile</code></a> to profile on properties like type and identity of values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/ByteValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>ByteValueProfile</code></a> to profile on <code>byte</code> values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/IntValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>IntValueProfile</code></a> to profile on <code>int</code> values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/LongValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>LongValueProfile</code></a> to profile on <code>long</code> values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/FloatValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>FloatValueProfile</code></a> to profile on <code>float</code> values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/DoubleValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>DoubleValueProfile</code></a> to profile on <code>double</code> values.</li>
 <li><a href="../../../../../com/oracle/truffle/api/profiles/PrimitiveValueProfile.html" title="class in com.oracle.truffle.api.profiles"><code>PrimitiveValueProfile</code></a> to profile on objects by identity and on primitives by value.
 </li>
 </ul>
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#enter--"><code>BranchProfile.enter()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles">BranchProfile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#create--">create</a></span>()</code>
<div class="block">Call to create a new instance of a branch profile.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#enter--">enter</a></span>()</code>
<div class="block">Call when an unlikely branch is entered.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles">BranchProfile</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html#getUncached--">getUncached</a></span>()</code>
<div class="block">Returns the uncached version of the profile.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.oracle.truffle.api.profiles.Profile">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.oracle.truffle.api.profiles.<a href="../../../../../com/oracle/truffle/api/profiles/Profile.html" title="class in com.oracle.truffle.api.profiles">Profile</a></h3>
<code><a href="../../../../../com/oracle/truffle/api/profiles/Profile.html#disable--">disable</a>, <a href="../../../../../com/oracle/truffle/api/profiles/Profile.html#reset--">reset</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.oracle.truffle.api.nodes.NodeCloneable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.oracle.truffle.api.nodes.<a href="../../../../../com/oracle/truffle/api/nodes/NodeCloneable.html" title="class in com.oracle.truffle.api.nodes">NodeCloneable</a></h3>
<code><a href="../../../../../com/oracle/truffle/api/nodes/NodeCloneable.html#clone--">clone</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="enter--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enter</h4>
<pre>public abstract&nbsp;void&nbsp;enter()</pre>
<div class="block">Call when an unlikely branch is entered.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10</dd>
</dl>
</li>
</ul>
<a name="create--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;<a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles">BranchProfile</a>&nbsp;create()</pre>
<div class="block">Call to create a new instance of a branch profile.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10</dd>
</dl>
</li>
</ul>
<a name="getUncached--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getUncached</h4>
<pre>public static&nbsp;<a href="../../../../../com/oracle/truffle/api/profiles/BranchProfile.html" title="class in com.oracle.truffle.api.profiles">BranchProfile</a>&nbsp;getUncached()</pre>
<div class="block">Returns the uncached version of the profile. The uncached version of a profile does nothing.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>19.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>21.3.0-dev</b><br>44d3ba029ef261aefaf3371e8fee9403c5e88ab4</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/oracle/truffle/api/profiles/ByteValueProfile.html" title="class in com.oracle.truffle.api.profiles"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/profiles/BranchProfile.html" target="_top">Frames</a></li>
<li><a href="BranchProfile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2012, 2021, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</body>
</html>
