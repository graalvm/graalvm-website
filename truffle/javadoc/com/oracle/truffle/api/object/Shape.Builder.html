<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Shape.Builder (GraalVM Truffle Java API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Shape.Builder (GraalVM Truffle Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>22.3.0-dev</b><br>13e22f3be862ec9521fabd833f8121e903ed0ccf</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.DerivedBuilder.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/object/Shape.Builder.html" target="_top">Frames</a></li>
<li><a href="Shape.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.oracle.truffle.api.object</div>
<h2 title="Class Shape.Builder" class="title">Class Shape.Builder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.oracle.truffle.api.object.Shape.Builder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></dd>
</dl>
<hr>
<br>
<pre>public static final class <span class="typeNameLabel">Shape.Builder</span>
extends <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Builder class to construct initial <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a> instances.

 The builder instance is not thread-safe and must not be used from multiple threads at the
 same time.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder--"><code>Shape.newBuilder()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#addConstantProperty-java.lang.Object-java.lang.Object-int-">addConstantProperty</a></span>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
                   <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value,
                   int&nbsp;flags)</code>
<div class="block">Adds a property with a constant value to the shape.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#allowImplicitCastIntToDouble-boolean-">allowImplicitCastIntToDouble</a></span>(boolean&nbsp;allow)</code>
<div class="block">Allows values to be implicitly cast from int to double in this shape and any derived
 shapes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#allowImplicitCastIntToLong-boolean-">allowImplicitCastIntToLong</a></span>(boolean&nbsp;allow)</code>
<div class="block">Allows values to be implicitly cast from int to long in this shape and any derived
 shapes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#build--">build</a></span>()</code>
<div class="block">Builds a new shape using the configuration of this builder.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#dynamicType-java.lang.Object-">dynamicType</a></span>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;dynamicType)</code>
<div class="block">Sets initial dynamic object type identifier.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#layout-java.lang.Class-">layout</a></span>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&gt;&nbsp;layoutClass)</code>
<div class="block">Sets custom object layout class (default: <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> base class).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#propertyAssumptions-boolean-">propertyAssumptions</a></span>(boolean&nbsp;enable)</code>
<div class="block">If <code>true</code>, enables the use of <a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyAssumption-java.lang.Object-">property assumptions</a> for this object shape and any derived shapes (default:
 <code>false</code>).</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shapeFlags-int-">shapeFlags</a></span>(int&nbsp;flags)</code>
<div class="block">Sets initial shape flags (default: 0).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shared-boolean-">shared</a></span>(boolean&nbsp;isShared)</code>
<div class="block">If <code>true</code>, makes the object shared (default: <code>false</code>).</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#sharedData-java.lang.Object-">sharedData</a></span>(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;sharedData)</code>
<div class="block">Sets shared data to be associated with the root shape and any derived shapes (e.g.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#singleContextAssumption-com.oracle.truffle.api.Assumption-">singleContextAssumption</a></span>(<a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a>&nbsp;assumption)</code>
<div class="block">Sets an assumption that allows specializations on constant object instances with this
 shape, as long as the assumption is valid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="layout-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>layout</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;layout(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&gt;&nbsp;layoutClass)</pre>
<div class="block">Sets custom object layout class (default: <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> base class).

 Enables the use of dynamic object fields declared in subclasses using the
 <code>DynamicField</code> annotation.

 <p>
 Examples:

 <pre>
 <code>
 public class MyObject extends DynamicObject implements TruffleObject {

     &#64;DynamicField private Object _obj1;
     &#64;DynamicField private Object _obj2;
     &#64;DynamicField private long _long1;
     &#64;DynamicField private long _long2;

     public MyObject(Shape shape) {
         super(shape);
     }
 }


 Shape myObjShape = Shape.newBuilder().layout(MyObject.class).build();
 MyObject obj = new MyObject(myObjShape);
 </code>
 </pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>layoutClass</code> - custom object layout class</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
<a name="dynamicType-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dynamicType</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;dynamicType(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;dynamicType)</pre>
<div class="block">Sets initial dynamic object type identifier.

 See <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setDynamicType-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-"><code>DynamicObjectLibrary.setDynamicType(DynamicObject, Object)</code></a> for more
 information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dynamicType</code> - a non-null object type identifier</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the type is <code>null</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#getDynamicType-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.getDynamicType(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setDynamicType-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-"><code>DynamicObjectLibrary.setDynamicType(DynamicObject, Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="shapeFlags-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shapeFlags</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;shapeFlags(int&nbsp;flags)</pre>
<div class="block">Sets initial shape flags (default: 0). Currently limited to 8 bits.

 See <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setShapeFlags-com.oracle.truffle.api.object.DynamicObject-int-"><code>DynamicObjectLibrary.setShapeFlags(DynamicObject, int)</code></a> for more information.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - an int value in the range from 0 to 255 (inclusive)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the flags value is not in the supported range</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#getShapeFlags-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.getShapeFlags(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setShapeFlags-com.oracle.truffle.api.object.DynamicObject-int-"><code>DynamicObjectLibrary.setShapeFlags(DynamicObject, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="shared-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shared</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;shared(boolean&nbsp;isShared)</pre>
<div class="block">If <code>true</code>, makes the object shared (default: <code>false</code>).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#isShared--"><code>Shape.isShared()</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#isShared-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.isShared(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#markShared-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.markShared(DynamicObject)</code></a></dd>
</dl>
</li>
</ul>
<a name="propertyAssumptions-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propertyAssumptions</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;propertyAssumptions(boolean&nbsp;enable)</pre>
<div class="block">If <code>true</code>, enables the use of <a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyAssumption-java.lang.Object-">property assumptions</a> for this object shape and any derived shapes (default:
 <code>false</code>). Property assumptions allow speculating on select properties being absent
 or stable across shape changes.

 <p>
 Use of property assumptions can be beneficial in single-context mode for long-lived
 objects with stable properties but recurrent shape changes due to properties being added
 (e.g. global objects of a context), in which case a shape cache would be unstable while
 the property assumption allows for a stable cache.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyAssumption-java.lang.Object-"><code>Shape.getPropertyAssumption(Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="sharedData-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sharedData</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;sharedData(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;sharedData)</pre>
<div class="block">Sets shared data to be associated with the root shape and any derived shapes (e.g. a
 <code>TruffleLanguage</code> instance). May be null (the default).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getSharedData--"><code>Shape.getSharedData()</code></a></dd>
</dl>
</li>
</ul>
<a name="singleContextAssumption-com.oracle.truffle.api.Assumption-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>singleContextAssumption</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;singleContextAssumption(<a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a>&nbsp;assumption)</pre>
<div class="block">Sets an assumption that allows specializations on constant object instances with this
 shape, as long as the assumption is valid. The assumption should be valid only if code is
 not shared across contexts and invalidated when this is not longer true. The assumption
 may be <code>null</code> in which case this feature is disabled (the default).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#propertyAssumptions-boolean-"><code>Shape.Builder.propertyAssumptions(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="addConstantProperty-java.lang.Object-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConstantProperty</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;addConstantProperty(<a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
                                         <a href="http://docs.oracle.com/javase/17/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value,
                                         int&nbsp;flags)</pre>
<div class="block">Adds a property with a constant value to the shape. The key must not be <code>null</code> and
 must not be equal to any previously added property's key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the property's key</dd>
<dd><code>value</code> - the property's value</dd>
<dd><code>flags</code> - the property's flags</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the key is <code>null</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/17/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if a property with the key already exists</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#putConstant-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-java.lang.Object-int-"><code>DynamicObjectLibrary.putConstant(DynamicObject, Object, Object, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="allowImplicitCastIntToLong-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowImplicitCastIntToLong</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;allowImplicitCastIntToLong(boolean&nbsp;allow)</pre>
<div class="block">Allows values to be implicitly cast from int to long in this shape and any derived
 shapes.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#layout-java.lang.Class-"><code>Shape.Builder.layout(Class)</code></a></dd>
</dl>
</li>
</ul>
<a name="allowImplicitCastIntToDouble-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowImplicitCastIntToDouble</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;allowImplicitCastIntToDouble(boolean&nbsp;allow)</pre>
<div class="block">Allows values to be implicitly cast from int to double in this shape and any derived
 shapes.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#layout-java.lang.Class-"><code>Shape.Builder.layout(Class)</code></a></dd>
</dl>
</li>
</ul>
<a name="build--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>build</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;build()</pre>
<div class="block">Builds a new shape using the configuration of this builder.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>22.3.0-dev</b><br>13e22f3be862ec9521fabd833f8121e903ed0ccf</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.DerivedBuilder.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/object/Shape.Builder.html" target="_top">Frames</a></li>
<li><a href="Shape.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2012, 2022, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</body>
</html>
