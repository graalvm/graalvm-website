<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) -->
<title>DynamicObjectLibrary (GraalVM Truffle Java API Reference)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: com.oracle.truffle.api.object, class: DynamicObjectLibrary">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language"><b>GraalVM Truffle Java API Reference<br>25.0.0-dev</b><br>3043cae720bfd7103f268717d78f17362837beda</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.oracle.truffle.api.object</a></li>
<li><a href="DynamicObjectLibrary.html" class="current-selection">DynamicObjectLibrary</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">DynamicObjectLibrary()</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#getFactory()" tabindex="0">getFactory()</a></li>
<li><a href="#getUncached()" tabindex="0">getUncached()</a></li>
<li><a href="#getShape(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">getShape(DynamicObject)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">getOrDefault(DynamicObject, Object, Object)</a></li>
<li><a href="#getIntOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">getIntOrDefault(DynamicObject, Object, Object)</a></li>
<li><a href="#getDoubleOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">getDoubleOrDefault(DynamicObject, Object, Object)</a></li>
<li><a href="#getLongOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">getLongOrDefault(DynamicObject, Object, Object)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading1" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">put(DynamicObject, Object, Object)</a></li>
<li><a href="#putInt(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" tabindex="0">putInt(DynamicObject, Object, int)</a></li>
<li><a href="#putDouble(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,double)" tabindex="0">putDouble(DynamicObject, Object, double)</a></li>
<li><a href="#putLong(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,long)" tabindex="0">putLong(DynamicObject, Object, long)</a></li>
<li><a href="#putIfPresent(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" tabindex="0">putIfPresent(DynamicObject, Object, Object)</a></li>
<li><a href="#putWithFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)" tabindex="0">putWithFlags(DynamicObject, Object, Object, int)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading2" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#putConstant(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)" tabindex="0">putConstant(DynamicObject, Object, Object, int)</a></li>
<li><a href="#removeKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" tabindex="0">removeKey(DynamicObject, Object)</a></li>
<li><a href="#setDynamicType(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" tabindex="0">setDynamicType(DynamicObject, Object)</a></li>
<li><a href="#getDynamicType(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">getDynamicType(DynamicObject)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading3" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#containsKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" tabindex="0">containsKey(DynamicObject, Object)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading4" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#getShapeFlags(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">getShapeFlags(DynamicObject)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading5" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)" tabindex="0">setShapeFlags(DynamicObject, int)</a></li>
<li><a href="#getProperty(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" tabindex="0">getProperty(DynamicObject, Object)</a></li>
<li><a href="#getPropertyFlagsOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" tabindex="0">getPropertyFlagsOrDefault(DynamicObject, Object, int)</a></li>
<li><a href="#setPropertyFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" tabindex="0">setPropertyFlags(DynamicObject, Object, int)</a></li>
<li><a href="#markShared(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">markShared(DynamicObject)</a></li>
<li><a href="#isShared(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">isShared(DynamicObject)</a></li>
<li><a href="#updateShape(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">updateShape(DynamicObject)</a></li>
<li><a href="#resetShape(com.oracle.truffle.api.object.DynamicObject,com.oracle.truffle.api.object.Shape)" tabindex="0">resetShape(DynamicObject, Shape)</a>
<ol class="toc-list">
<li><a href="#usage-example--heading6" tabindex="0">Usage example:</a></li>
</ol>
</li>
<li><a href="#getKeyArray(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">getKeyArray(DynamicObject)</a></li>
<li><a href="#getPropertyArray(com.oracle.truffle.api.object.DynamicObject)" tabindex="0">getPropertyArray(DynamicObject)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class DynamicObjectLibrary" class="title">Class DynamicObjectLibrary</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../nodes/Node.html" title="class in com.oracle.truffle.api.nodes">com.oracle.truffle.api.nodes.Node</a>
<div class="inheritance"><a href="../library/Library.html" title="class in com.oracle.truffle.api.library">com.oracle.truffle.api.library.Library</a>
<div class="inheritance">com.oracle.truffle.api.object.DynamicObjectLibrary</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../nodes/NodeInterface.html" title="interface in com.oracle.truffle.api.nodes">NodeInterface</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">DynamicObjectLibrary</span>
<span class="extends-implements">extends <a href="../library/Library.html" title="class in com.oracle.truffle.api.library">Library</a></span></div>
<div class="block"><a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> access library.

This is the central interface for accessing and mutating properties and other state (flags,
dynamic type) of <a href="DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a>s.

<p>
It is recommended that you use the <a href="../library/CachedLibrary.html" title="annotation interface in com.oracle.truffle.api.library"><code>CachedLibrary</code></a> annotation in Truffle DSL nodes. You can
also use the library either <a href="#getUncached()">without caching</a> or create a
<a href="../library/LibraryFactory.html#create(java.lang.Object)">manually</a> or
<a href="../library/LibraryFactory.html#createDispatched(int)">automatically</a> dispatched cached library. Cached
libraries must be adopted before use.

The cached library instances dispatch by object <a href="Shape.html" title="class in com.oracle.truffle.api.object">shape</a> and, if applicable,
automatically by property key.

<p>
Property keys are compared using object identity (<code>==</code>) first and then
<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>Object.equals(Object)</code></a>. It is therefore recommended to use the same string/key instances
for each access of the property in order to avoid pulling in <code>equals</code>. Keys must not be
<code>null</code>.

<p>
Note: cached library nodes may not profile the class of the object parameter; it is therefore the
caller's responsibility to do any desired profiling and ensure accurate type information.

<h3 id="usage-examples--heading">Usage examples:</h3>

<pre>
&#64;Specialization(limit = "3")
static Object read(DynamicObject receiver, Object key,
                &#64;CachedLibrary("receiver") DynamicObjectLibrary objLib) {
    return objLib.getOrDefault(receiver, key, NULL_VALUE);
}
</pre>

<pre>
&#64;ExportMessage
Object readMember(String name,
                &#64;CachedLibrary("this") DynamicObjectLibrary objLib) throws UnknownIdentifierException {
    Object result = objLib.getOrDefault(this, name, null);
    if (result == null) {
        throw UnknownIdentifierException.create(name);
    }
    return result;
}
</pre></div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-com.oracle.truffle.api.nodes.Node">Nested classes/interfaces inherited from class&nbsp;<a href="../nodes/Node.html#nested-class-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="../nodes/Node.Child.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Child</a>, <a href="../nodes/Node.Children.html" title="annotation interface in com.oracle.truffle.api.nodes">Node.Children</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected </code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">DynamicObjectLibrary</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#containsKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" class="member-name-link">containsKey</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns <code>true</code> if this object contains a property with the given key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDoubleOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">getDoubleOrDefault</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getDynamicType(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">getDynamicType</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the dynamic type identifier currently associated with this object.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="../library/LibraryFactory.html" title="class in com.oracle.truffle.api.library">LibraryFactory</a><wbr>&lt;<a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object">DynamicObjectLibrary</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getFactory()" class="member-name-link">getFactory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the library factory for <a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object"><code>DynamicObjectLibrary</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIntOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">getIntOrDefault</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getKeyArray(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">getKeyArray</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets a snapshot of the object's property keys, in insertion order.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLongOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">getLongOrDefault</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">getOrDefault</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="Property.html" title="class in com.oracle.truffle.api.object">Property</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getProperty(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" class="member-name-link">getProperty</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets a <a href="Property.html" title="class in com.oracle.truffle.api.object">property descriptor</a> for the requested property key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="Property.html" title="class in com.oracle.truffle.api.object">Property</a>[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPropertyArray(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">getPropertyArray</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets an array snapshot of the object's properties, in insertion order.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPropertyFlagsOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" class="member-name-link">getPropertyFlagsOrDefault</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;defaultValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the property flags associated with the requested property key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract <a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getShape(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">getShape</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the <a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>shape</code></a> of the object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getShapeFlags(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">getShapeFlags</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the language-specific object shape flags previously set using
<a href="#setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)"><code>setShapeFlags(DynamicObject, int)</code></a> or
<a href="Shape.Builder.html#shapeFlags(int)"><code>Shape.Builder.shapeFlags(int)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object">DynamicObjectLibrary</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getUncached()" class="member-name-link">getUncached</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Gets the shared <a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object"><code>DynamicObjectLibrary</code></a> instance for uncached accesses.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isShared(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">isShared</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Checks whether this object is marked as shared.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#markShared(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">markShared</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Marks this object as shared.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">put</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the value of an existing property or adds a new property if no such property exists.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#putConstant(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)" class="member-name-link">putConstant</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 int&nbsp;flags)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a property with a constant value or replaces an existing one.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putDouble(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,double)" class="member-name-link">putDouble</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 double&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Double-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#putIfPresent(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)" class="member-name-link">putIfPresent</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the value of the property if present, otherwise returns <code>false</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putInt(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" class="member-name-link">putInt</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Int-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putLong(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,long)" class="member-name-link">putLong</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 long&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Long-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#putWithFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)" class="member-name-link">putWithFlags</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 int&nbsp;flags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Like <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>, but additionally assigns flags to the property.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#removeKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" class="member-name-link">removeKey</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Removes the property with the given key from the object.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#resetShape(com.oracle.truffle.api.object.DynamicObject,com.oracle.truffle.api.object.Shape)" class="member-name-link">resetShape</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;otherShape)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Empties and resets the object to the given root shape, which must not contain any instance
properties (but may contain properties with a constant value).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setDynamicType(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)" class="member-name-link">setDynamicType</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;type)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the object's dynamic type identifier.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setPropertyFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)" class="member-name-link">setPropertyFlags</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;propertyFlags)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets the property flags associated with the requested property.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)" class="member-name-link">setShapeFlags</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 int&nbsp;flags)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Sets language-specific object shape flags, changing the object's shape if need be.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>abstract boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#updateShape(com.oracle.truffle.api.object.DynamicObject)" class="member-name-link">updateShape</a><wbr>(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Ensures the object's shape is up-to-date.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.oracle.truffle.api.library.Library">Methods inherited from class&nbsp;<a href="../library/Library.html#method-summary" title="class in com.oracle.truffle.api.library">Library</a></h3>
<code><a href="../library/Library.html#accepts(java.lang.Object)" title="accepts(Object)">accepts</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-com.oracle.truffle.api.nodes.Node">Methods inherited from class&nbsp;<a href="../nodes/Node.html#method-summary" title="class in com.oracle.truffle.api.nodes">Node</a></h3>
<code><a href="../nodes/Node.html#accept(com.oracle.truffle.api.nodes.NodeVisitor)" title="accept(NodeVisitor)">accept</a>, <a href="../nodes/Node.html#adoptChildren()" title="adoptChildren()">adoptChildren</a>, <a href="../nodes/Node.html#atomic(java.lang.Runnable)" title="atomic(Runnable)">atomic</a>, <a href="../nodes/Node.html#atomic(java.util.concurrent.Callable)" title="atomic(Callable)">atomic</a>, <a href="../nodes/Node.html#copy()" title="copy()">copy</a>, <a href="../nodes/Node.html#deepCopy()" title="deepCopy()">deepCopy</a>, <a href="../nodes/Node.html#getChildren()" title="getChildren()">getChildren</a>, <a href="../nodes/Node.html#getCost()" title="getCost()">getCost</a>, <a href="../nodes/Node.html#getDebugProperties()" title="getDebugProperties()">getDebugProperties</a>, <a href="../nodes/Node.html#getDescription()" title="getDescription()">getDescription</a>, <a href="../nodes/Node.html#getEncapsulatingSourceSection()" title="getEncapsulatingSourceSection()">getEncapsulatingSourceSection</a>, <a href="../nodes/Node.html#getLock()" title="getLock()">getLock</a>, <a href="../nodes/Node.html#getParent()" title="getParent()">getParent</a>, <a href="../nodes/Node.html#getRootNode()" title="getRootNode()">getRootNode</a>, <a href="../nodes/Node.html#getSourceSection()" title="getSourceSection()">getSourceSection</a>, <a href="../nodes/Node.html#insert(T)" title="insert(T)">insert</a>, <a href="../nodes/Node.html#insert(T%5B%5D)" title="insert(T[])">insert</a>, <a href="../nodes/Node.html#isAdoptable()" title="isAdoptable()">isAdoptable</a>, <a href="../nodes/Node.html#isSafelyReplaceableBy(com.oracle.truffle.api.nodes.Node)" title="isSafelyReplaceableBy(Node)">isSafelyReplaceableBy</a>, <a href="../nodes/Node.html#notifyInserted(com.oracle.truffle.api.nodes.Node)" title="notifyInserted(Node)">notifyInserted</a>, <a href="../nodes/Node.html#onReplace(com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="onReplace(Node, CharSequence)">onReplace</a>, <a href="../nodes/Node.html#replace(T)" title="replace(T)">replace</a>, <a href="../nodes/Node.html#replace(T,java.lang.CharSequence)" title="replace(T, CharSequence)">replace</a>, <a href="../nodes/Node.html#reportPolymorphicSpecialize()" title="reportPolymorphicSpecialize()">reportPolymorphicSpecialize</a>, <a href="../nodes/Node.html#reportReplace(com.oracle.truffle.api.nodes.Node,com.oracle.truffle.api.nodes.Node,java.lang.CharSequence)" title="reportReplace(Node, Node, CharSequence)">reportReplace</a>, <a href="../nodes/Node.html#toString()" title="toString()">toString</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>DynamicObjectLibrary</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">DynamicObjectLibrary</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getFactory()">
<h3>getFactory</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="../library/LibraryFactory.html" title="class in com.oracle.truffle.api.library">LibraryFactory</a>&lt;<a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object">DynamicObjectLibrary</a>&gt;</span>&nbsp;<span class="element-name">getFactory</span>()</div>
<div class="block">Returns the library factory for <a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object"><code>DynamicObjectLibrary</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getUncached()">
<h3>getUncached</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object">DynamicObjectLibrary</a></span>&nbsp;<span class="element-name">getUncached</span>()</div>
<div class="block">Gets the shared <a href="DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object"><code>DynamicObjectLibrary</code></a> instance for uncached accesses. Equivalent to
<code>DynamicObjectLibrary.getFactory().getUncached()</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>an uncached automatically dispatched version of the library</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getShape(com.oracle.truffle.api.object.DynamicObject)">
<h3>getShape</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></span>&nbsp;<span class="element-name">getShape</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Gets the <a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>shape</code></a> of the object. Returns the cached shape if the library is a
cached library instance.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object's current <a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="DynamicObject.html#getShape()"><code>DynamicObject.getShape()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>getOrDefault</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getOrDefault</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</span></div>
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.

<h3 id="usage-example--heading">Usage example:</h3>

<pre>
&#64;Specialization(limit = "3")
static Object read(DynamicObject receiver, Object key,
                &#64;CachedLibrary("receiver") DynamicObjectLibrary objLib) {
    return objLib.getOrDefault(receiver, key, NULL_VALUE);
}
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>defaultValue</code> - value to be returned if the property does not exist</dd>
<dt>Returns:</dt>
<dd>the property's value if it exists, else <code>defaultValue</code>.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getIntOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>getIntOrDefault</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getIntOrDefault</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</span>
                    throws <span class="exceptions"><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></span></div>
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>defaultValue</code> - the value to be returned if the property does not exist</dd>
<dt>Returns:</dt>
<dd>the property's value if it exists, else <code>defaultValue</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></code> - if the (default) value is not an <code>int</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>getOrDefault(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getDoubleOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>getDoubleOrDefault</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getDoubleOrDefault</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</span>
                          throws <span class="exceptions"><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></span></div>
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>defaultValue</code> - the value to be returned if the property does not exist</dd>
<dt>Returns:</dt>
<dd>the property's value if it exists, else <code>defaultValue</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></code> - if the (default) value is not a <code>double</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>getOrDefault(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLongOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>getLongOrDefault</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLongOrDefault</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;defaultValue)</span>
                      throws <span class="exceptions"><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></span></div>
<div class="block">Gets the value of an existing property or returns the provided default value if no such
property exists.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>defaultValue</code> - the value to be returned if the property does not exist</dd>
<dt>Returns:</dt>
<dd>the property's value if it exists, else <code>defaultValue</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="../nodes/UnexpectedResultException.html" title="class in com.oracle.truffle.api.nodes">UnexpectedResultException</a></code> - if the (default) value is not a <code>long</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>getOrDefault(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>put</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Sets the value of an existing property or adds a new property if no such property exists.

A newly added property will have flags 0; flags of existing properties will not be changed.
Use <a href="#putWithFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)"><code>putWithFlags(DynamicObject, Object, Object, int)</code></a> to set property flags as well.

<h3 id="usage-example--heading1">Usage example:</h3>

<pre>
&#64;ExportMessage
Object writeMember(String member, Object value,
                &#64;CachedLibrary("this") DynamicObjectLibrary objLib) {
    objLib.put(this, member, value);
}
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>value</code> - the value to be set</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#putInt(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)"><code>putInt(DynamicObject, Object, int)</code></a></li>
<li><a href="#putDouble(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,double)"><code>putDouble(DynamicObject, Object, double)</code></a></li>
<li><a href="#putLong(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,long)"><code>putLong(DynamicObject, Object, long)</code></a></li>
<li><a href="#putIfPresent(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>putIfPresent(DynamicObject, Object, Object)</code></a></li>
<li><a href="#putWithFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)"><code>putWithFlags(DynamicObject, Object, Object, int)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putInt(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)">
<h3>putInt</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putInt</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;value)</span></div>
<div class="block">Int-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putDouble(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,double)">
<h3>putDouble</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putDouble</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 double&nbsp;value)</span></div>
<div class="block">Double-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putLong(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,long)">
<h3>putLong</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putLong</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 long&nbsp;value)</span></div>
<div class="block">Long-typed variant of <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putIfPresent(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)">
<h3>putIfPresent</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">putIfPresent</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value)</span></div>
<div class="block">Sets the value of the property if present, otherwise returns <code>false</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - property identifier</dd>
<dd><code>value</code> - value to be set</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the property was present and the value set, otherwise <code>false</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putWithFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)">
<h3>putWithFlags</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putWithFlags</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 int&nbsp;flags)</span></div>
<div class="block">Like <a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a>, but additionally assigns flags to the property. If the property already
exists, its flags will be updated before the value is set.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - property identifier</dd>
<dd><code>value</code> - value to be set</dd>
<dd><code>flags</code> - flags to be set</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
<li><a href="#setPropertyFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)"><code>setPropertyFlags(DynamicObject, Object, int)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="putConstant(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object,int)">
<h3>putConstant</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">putConstant</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;value,
 int&nbsp;flags)</span></div>
<div class="block">Adds a property with a constant value or replaces an existing one. If the property already
exists, its flags will be updated.

The constant value is stored in the shape rather than the object instance and a new shape
will be allocated if it does not already exist.

A typical use case for this method is setting the initial default value of a declared, but
yet uninitialized, property. This defers storage allocation and type speculation until the
first actual value is set.

<p>
Warning: this method will lead to a shape transition every time a new value is set and should
be used sparingly (with at most one constant value per property) since it could cause an
excessive amount of shapes to be created.
<p>
Note: the value will be strongly referenced from the shape and should be a value type or
light-weight object without any references to guest language objects in order to prevent
potential memory leaks.

<h3 id="usage-example--heading2">Usage example:</h3>

<pre>
// declare property
objLib.putConstant(receiver, key, NULL_VALUE, 0);

// initialize property
objLib.put(receiver, key, value);
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - property identifier</dd>
<dd><code>value</code> - the constant value to be set</dd>
<dd><code>flags</code> - property flags or 0</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#put(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,java.lang.Object)"><code>put(DynamicObject, Object, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="removeKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)">
<h3>removeKey</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">removeKey</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block">Removes the property with the given key from the object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the property was removed or <code>false</code> if property was not found</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setDynamicType(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)">
<h3>setDynamicType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setDynamicType</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;type)</span></div>
<div class="block">Sets the object's dynamic type identifier. What this type represents is completely up to the
language. For example, it could be a guest-language class.

The type object is strongly referenced from the shape. It is important that this be a
singleton or light-weight object without any references to guest language objects in order to
keep the memory footprint low and prevent potential memory leaks.

Type objects are always compared by object identity, never <code>equals</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>type</code> - a non-null type identifier defined by the guest language.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the type (and the object's shape) changed</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getDynamicType(com.oracle.truffle.api.object.DynamicObject)"><code>getDynamicType(DynamicObject)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getDynamicType(com.oracle.truffle.api.object.DynamicObject)">
<h3>getDynamicType</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getDynamicType</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Gets the dynamic type identifier currently associated with this object. What this type
represents is completely up to the language. For example, it could be a guest-language class.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the object type</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#setDynamicType(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)"><code>setDynamicType(DynamicObject, Object)</code></a></li>
<li><a href="Shape.html#getDynamicType()"><code>Shape.getDynamicType()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="containsKey(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)">
<h3>containsKey</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">containsKey</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block">Returns <code>true</code> if this object contains a property with the given key.

<h3 id="usage-example--heading3">Usage example:</h3>

<pre>
&#64;ExportMessage
boolean isMemberReadable(String name,
                &#64;CachedLibrary("this") DynamicObjectLibrary objLib) {
    return objLib.containsKey(this, name);
}
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the object contains a property with this key, else <code>false</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getShapeFlags(com.oracle.truffle.api.object.DynamicObject)">
<h3>getShapeFlags</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getShapeFlags</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Gets the language-specific object shape flags previously set using
<a href="#setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)"><code>setShapeFlags(DynamicObject, int)</code></a> or
<a href="Shape.Builder.html#shapeFlags(int)"><code>Shape.Builder.shapeFlags(int)</code></a>. If no shape flags were explicitly set, the default of
0 is returned.

These flags may be used to tag objects that possess characteristics that need to be queried
efficiently on fast and slow paths. For example, they can be used to mark objects as frozen.

<h3 id="usage-example--heading4">Usage example:</h3>

<pre>
&#64;ExportMessage
Object writeMember(String member, Object value,
                &#64;CachedLibrary("this") DynamicObjectLibrary objLib)
                throws UnsupportedMessageException {
    if ((objLib.getShapeFlags(receiver) &amp; FROZEN) != 0) {
        throw UnsupportedMessageException.create();
    }
    objLib.put(this, member, value);
}
</pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>shape flags</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)"><code>setShapeFlags(DynamicObject, int)</code></a></li>
<li><a href="Shape.Builder.html#shapeFlags(int)"><code>Shape.Builder.shapeFlags(int)</code></a></li>
<li><a href="Shape.html#getFlags()"><code>Shape.getFlags()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setShapeFlags(com.oracle.truffle.api.object.DynamicObject,int)">
<h3>setShapeFlags</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setShapeFlags</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 int&nbsp;flags)</span></div>
<div class="block">Sets language-specific object shape flags, changing the object's shape if need be.

These flags may be used to tag objects that possess characteristics that need to be queried
efficiently on fast and slow paths. For example, they can be used to mark objects as frozen.

Only the lowest 8 bits (i.e. values in the range 0 to 255) are allowed, the remaining bits
are currently reserved.

<h3 id="usage-example--heading5">Usage example:</h3>

<pre>
&#64;Specialization(limit = "3")
static void preventExtensions(DynamicObject receiver,
                &#64;CachedLibrary("receiver") DynamicObjectLibrary objLib) {
    objLib.setShapeFlags(receiver, objLib.getShapeFlags(receiver) | FROZEN);
}
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>flags</code> - the flags to set; must be in the range from 0 to 255 (inclusive).</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the object's shape changed, <code>false</code> if no change was made.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the flags are not in the allowed range.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getShapeFlags(com.oracle.truffle.api.object.DynamicObject)"><code>getShapeFlags(DynamicObject)</code></a></li>
<li><a href="Shape.Builder.html#shapeFlags(int)"><code>Shape.Builder.shapeFlags(int)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getProperty(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)">
<h3>getProperty</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="Property.html" title="class in com.oracle.truffle.api.object">Property</a></span>&nbsp;<span class="element-name">getProperty</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key)</span></div>
<div class="block">Gets a <a href="Property.html" title="class in com.oracle.truffle.api.object">property descriptor</a> for the requested property key. Returns
<code>null</code> if the object contains no such property.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><a href="Property.html" title="class in com.oracle.truffle.api.object"><code>Property</code></a> if the property exists, else <code>null</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getPropertyFlagsOrDefault(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)">
<h3>getPropertyFlagsOrDefault</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPropertyFlagsOrDefault</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;defaultValue)</span></div>
<div class="block">Gets the property flags associated with the requested property key. Returns the
<code>defaultValue</code> if the object contains no such property. If the property exists but no
flags were explicitly set, returns the default of 0.

<p>
Convenience method equivalent to:

<pre>
Property property = getProperty(object, key);
return property != null ? property.getFlags() : defaultValue;
</pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dd><code>defaultValue</code> - value to return if no such property exists</dd>
<dt>Returns:</dt>
<dd>the property flags if the property exists, else <code>defaultValue</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getProperty(com.oracle.truffle.api.object.DynamicObject,java.lang.Object)"><code>getProperty(DynamicObject, Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setPropertyFlags(com.oracle.truffle.api.object.DynamicObject,java.lang.Object,int)">
<h3>setPropertyFlags</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">setPropertyFlags</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;key,
 int&nbsp;propertyFlags)</span></div>
<div class="block">Sets the property flags associated with the requested property.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - the property key</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the property was found and its flags were changed, else <code>false</code></dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="markShared(com.oracle.truffle.api.object.DynamicObject)">
<h3>markShared</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">markShared</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Marks this object as shared.

Makes the object use a shared variant of the <a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a>, to allow safe usage of this
object between threads. Objects with a shared <a href="Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a> will not reuse storage locations
for other fields. In combination with careful synchronization on writes, this can prevent
reading out-of-thin-air values.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - if the object is already <a href="#isShared(com.oracle.truffle.api.object.DynamicObject)">shared</a>.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#isShared(com.oracle.truffle.api.object.DynamicObject)"><code>isShared(DynamicObject)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isShared(com.oracle.truffle.api.object.DynamicObject)">
<h3>isShared</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isShared</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Checks whether this object is marked as shared.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the object is shared</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#markShared(com.oracle.truffle.api.object.DynamicObject)"><code>markShared(DynamicObject)</code></a></li>
<li><a href="Shape.html#isShared()"><code>Shape.isShared()</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updateShape(com.oracle.truffle.api.object.DynamicObject)">
<h3>updateShape</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">updateShape</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Ensures the object's shape is up-to-date. If the object's shape has been marked as
<a href="Shape.html#isValid()">invalid</a>, this method will attempt to bring the object into a
valid shape again. If the object's shape is already <a href="Shape.html#isValid()">valid</a>, this
method will have no effect.

This method does not need to be called normally; all the messages in this library will work
on invalid shapes as well, but it can be useful in some cases to avoid such shapes being
cached which can cause unnecessary cache polymorphism and invalidations.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the object's shape was changed, otherwise <code>false</code>.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="resetShape(com.oracle.truffle.api.object.DynamicObject,com.oracle.truffle.api.object.Shape)">
<h3>resetShape</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">resetShape</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object,
 <a href="Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;otherShape)</span></div>
<div class="block">Empties and resets the object to the given root shape, which must not contain any instance
properties (but may contain properties with a constant value).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>otherShape</code> - the desired shape</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the object's shape was changed</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if the shape contains instance properties</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getKeyArray(com.oracle.truffle.api.object.DynamicObject)">
<h3>getKeyArray</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>[]</span>&nbsp;<span class="element-name">getKeyArray</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Gets a snapshot of the object's property keys, in insertion order. The returned array may
have been cached and must not be mutated.

Properties with a <a href="HiddenKey.html" title="class in com.oracle.truffle.api.object"><code>HiddenKey</code></a> are not included.

<h3 id="usage-example--heading6">Usage example:</h3>

The example below shows how the returned keys array could be translated to an interop array
for use with InteropLibrary.

<pre>
&#64;ExportMessage
Object getMembers(
                &#64;CachedLibrary("this") DynamicObjectLibrary objLib) {
    return new Keys(objLib.getKeyArray(this));
}

&#64;ExportLibrary(InteropLibrary.class)
static final class Keys implements TruffleObject {

    &#64;CompilationFinal(dimensions = 1) final Object[] keys;

    Keys(Object[] keys) {
        this.keys = keys;
    }

    &#64;ExportMessage
    boolean hasArrayElements() {
        return true;
    }

    &#64;ExportMessage
    Object readArrayElement(long index) throws InvalidArrayIndexException {
        if (!isArrayElementReadable(index)) {
            throw InvalidArrayIndexException.create(index);
        }
        return keys[(int) index];
    }

    &#64;ExportMessage
    long getArraySize() {
        return keys.length;
    }

    &#64;ExportMessage
    boolean isArrayElementReadable(long index) {
        return index &gt;= 0 &amp;&amp; index &lt; keys.length;
    }
}
</pre></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a read-only array of the object's property keys.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getPropertyArray(com.oracle.truffle.api.object.DynamicObject)">
<h3>getPropertyArray</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="Property.html" title="class in com.oracle.truffle.api.object">Property</a>[]</span>&nbsp;<span class="element-name">getPropertyArray</span><wbr><span class="parameters">(<a href="DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;object)</span></div>
<div class="block">Gets an array snapshot of the object's properties, in insertion order. The returned array may
have been cached and must not be mutated.

Properties with a <a href="HiddenKey.html" title="class in com.oracle.truffle.api.object"><code>HiddenKey</code></a> are not included.

Similar to <a href="#getKeyArray(com.oracle.truffle.api.object.DynamicObject)"><code>getKeyArray(DynamicObject)</code></a> but allows the properties' flags to be queried simultaneously
which may be relevant for quick filtering.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a read-only array of the object's properties.</dd>
<dt>Since:</dt>
<dd>20.2.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#getKeyArray(com.oracle.truffle.api.object.DynamicObject)"><code>getKeyArray(DynamicObject)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><center>Copyright &copy; 2012, 2025, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</footer>
</main>
</div>
</body>
</html>
