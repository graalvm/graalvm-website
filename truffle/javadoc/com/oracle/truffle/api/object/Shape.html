<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Shape (GraalVM Truffle Java API Reference)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Shape (GraalVM Truffle Java API Reference)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":10,"i3":6,"i4":6,"i5":6,"i6":6,"i7":10,"i8":10,"i9":6,"i10":6,"i11":6,"i12":10,"i13":6,"i14":6,"i15":6,"i16":6,"i17":10,"i18":6,"i19":6,"i20":6,"i21":6,"i22":6,"i23":6,"i24":10,"i25":6,"i26":6,"i27":10,"i28":6,"i29":10,"i30":9,"i31":9,"i32":6,"i33":10,"i34":10,"i35":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>21.3.0-dev</b><br>44d3ba029ef261aefaf3371e8fee9403c5e88ab4</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/object/Shape.html" target="_top">Frames</a></li>
<li><a href="Shape.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.oracle.truffle.api.object</div>
<h2 title="Class Shape" class="title">Class Shape</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.oracle.truffle.api.object.Shape</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">Shape</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A Shape is an immutable descriptor of the current object "shape" of a DynamicObject, i.e., object
 layout, metadata (<a href="../../../../../com/oracle/truffle/api/object/Shape.html#getDynamicType--">type</a>, <a href="../../../../../com/oracle/truffle/api/object/Shape.html#getFlags--">flags</a>),
 and a mapping of <a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">properties</a> to storage locations. This allows cached
 <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html" title="class in com.oracle.truffle.api.object"><code>DynamicObjectLibrary</code></a> to do a simple shape check to determine the contents of an object
 and do fast, constant-time property accesses.

 <p>
 Shapes are shared between objects that assume the same shape if they follow the same shape
 transitions, like adding the same properties in the same order, starting from a common root
 shape. Shape transitions are automatically, weakly cached.

 <p>
 Dynamic objects start off with an initial shape that has no instance properties (but may have
 constant properties that are stored in the shape). Initial shapes are created via
 <a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder--"><code>Shape.newBuilder()</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder--"><code>Shape.newBuilder()</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object"><code>Property</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object">Shape.Allocator</a></span></code>
<div class="block">Utility class to allocate locations in an object layout.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></span></code>
<div class="block">Builder class to construct initial <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a> instances.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.DerivedBuilder.html" title="class in com.oracle.truffle.api.object">Shape.DerivedBuilder</a></span></code>
<div class="block">Builder class to construct derived <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object"><code>Shape</code></a> instances.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#Shape--">Shape</a></span>()</code>
<div class="block">Constructor for subclasses.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#addProperty-com.oracle.truffle.api.object.Property-">addProperty</a></span>(<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&nbsp;property)</code>
<div class="block">Add a new property in the map, yielding a new or cached Shape object.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object">Shape.Allocator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#allocator--">allocator</a></span>()</code>
<div class="block">Obtain an <a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><code>Shape.Allocator</code></a> instance for the purpose of allocating locations.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#allPropertiesMatch-java.util.function.Predicate-">allPropertiesMatch</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;&nbsp;predicate)</code>
<div class="block">Tests if all properties in the shape match the provided predicate.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#changeType-com.oracle.truffle.api.object.ObjectType-">changeType</a></span>(<a href="../../../../../com/oracle/truffle/api/object/ObjectType.html" title="class in com.oracle.truffle.api.object">ObjectType</a>&nbsp;newOps)</code>
<div class="block">Change the shape's type, yielding a new shape.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#check-com.oracle.truffle.api.object.DynamicObject-">check</a></span>(<a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;subject)</code>
<div class="block">Checks whether the given object's shape is identical to this shape.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectFactory.html" title="interface in com.oracle.truffle.api.object">DynamicObjectFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#createFactory--">createFactory</a></span>()</code>
<div class="block">Create a <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectFactory.html" title="interface in com.oracle.truffle.api.object"><code>DynamicObjectFactory</code></a> for creating instances of this shape.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#defineProperty-java.lang.Object-java.lang.Object-int-">defineProperty</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value,
              int&nbsp;flags)</code>
<div class="block">Add or change property in the map, yielding a new or cached Shape object.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getDynamicType--">getDynamicType</a></span>()</code>
<div class="block">Get the shape's dynamic object type identifier.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getFlags--">getFlags</a></span>()</code>
<div class="block">Returns the language-specific shape flags previously set using
 <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setShapeFlags-com.oracle.truffle.api.object.DynamicObject-int-"><code>DynamicObjectLibrary.setShapeFlags(DynamicObject, int)</code></a> or
 <a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shapeFlags-int-"><code>Shape.Builder.shapeFlags(int)</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getKeyList--">getKeyList</a></span>()</code>
<div class="block">Get a list of all property keys in insertion order.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getKeys--">getKeys</a></span>()</code>
<div class="block">Get all property keys in insertion order.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getLastProperty--">getLastProperty</a></span>()</code>
<div class="block">Get the last property.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getLayoutClass--">getLayoutClass</a></span>()</code>
<div class="block">Get the shape's layout class.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getLeafAssumption--">getLeafAssumption</a></span>()</code>
<div class="block">Get an assumption that the shape is a leaf.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getMutex--">getMutex</a></span>()</code>
<div class="block">Get mutex object shared by related shapes, i.e.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getProperties--">getProperties</a></span>()</code>
<div class="block">An <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang"><code>Iterable</code></a> over the shape's properties in insertion order.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getProperty-java.lang.Object-">getProperty</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</code>
<div class="block">Get a property entry by key.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyAssumption-java.lang.Object-">getPropertyAssumption</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</code>
<div class="block">Gets a stable property assumption for the given property key.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>abstract int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyCount--">getPropertyCount</a></span>()</code>
<div class="block">Returns the number of properties in this shape.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyList--">getPropertyList</a></span>()</code>
<div class="block">Get a list of all properties that this Shape stores.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getPropertyListInternal-boolean-">getPropertyListInternal</a></span>(boolean&nbsp;ascending)</code>
<div class="block">Returns all (also hidden) property objects in this shape.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getRoot--">getRoot</a></span>()</code>
<div class="block">Get the root shape.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>abstract <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getSharedData--">getSharedData</a></span>()</code>
<div class="block">Get the shape's shared data.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#getValidAssumption--">getValidAssumption</a></span>()</code>
<div class="block">Get an assumption that the shape is valid.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#hasInstanceProperties--">hasInstanceProperties</a></span>()</code>
<div class="block">Returns <code>true</code> if this shape has instance properties (i.e., stored in the object).</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#hasProperty-java.lang.Object-">hasProperty</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</code>
<div class="block">Check whether the shape has a property with the given key.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#isLeaf--">isLeaf</a></span>()</code>
<div class="block">Check whether this shape is a leaf in the transition graph, i.e.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#isShared--">isShared</a></span>()</code>
<div class="block">Returns <code>true</code> if this shape is <a href="../../../../../com/oracle/truffle/api/object/Shape.html#makeSharedShape--"><code>shared</code></a>.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#isValid--">isValid</a></span>()</code>
<div class="block">Check whether this shape is valid.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#makeSharedShape--">makeSharedShape</a></span>()</code>
<div class="block">Make a shared variant of this shape, to allow safe usage of this object between threads.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder--">newBuilder</a></span>()</code>
<div class="block">Creates a new initial shape builder.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/oracle/truffle/api/object/Shape.DerivedBuilder.html" title="class in com.oracle.truffle.api.object">Shape.DerivedBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder-com.oracle.truffle.api.object.Shape-">newBuilder</a></span>(<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;baseShape)</code>
<div class="block">Creates a new derived shape builder that allows changing a root shape's flags and dynamic
 type and adding constant properties.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#newInstance--">newInstance</a></span>()</code>
<div class="block">Create a new <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> instance with this shape.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#setDynamicType-java.lang.Object-">setDynamicType</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;objectType)</code>
<div class="block">Returns a copy of the shape, with the dynamic object type identifier set to
 <code>objectType</code>.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#setFlags-int-">setFlags</a></span>(int&nbsp;newFlags)</code>
<div class="block">Returns a copy of the shape, with the shape flags set to <code>newFlags</code>.</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/oracle/truffle/api/object/Shape.html#tryMerge-com.oracle.truffle.api.object.Shape-">tryMerge</a></span>(<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;other)</code>
<div class="block">Try to merge two related shapes to a more general shape that has the same properties and can
 store at least the values of both shapes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Shape--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Shape</h4>
<pre>protected&nbsp;Shape()</pre>
<div class="block">Constructor for subclasses.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newBuilder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBuilder</h4>
<pre>public static&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html" title="class in com.oracle.truffle.api.object">Shape.Builder</a>&nbsp;newBuilder()</pre>
<div class="block">Creates a new initial shape builder.


 The builder instance is not thread-safe and must not be used from multiple threads at the
 same time.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
<a name="newBuilder-com.oracle.truffle.api.object.Shape-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBuilder</h4>
<pre>public static&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.DerivedBuilder.html" title="class in com.oracle.truffle.api.object">Shape.DerivedBuilder</a>&nbsp;newBuilder(<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;baseShape)</pre>
<div class="block">Creates a new derived shape builder that allows changing a root shape's flags and dynamic
 type and adding constant properties.

 The builder instance is not thread-safe and must not be used from multiple threads at the
 same time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>baseShape</code> - the shape to be modified</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#newBuilder--"><code>Shape.newBuilder()</code></a></dd>
</dl>
</li>
</ul>
<a name="getProperty-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperty</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&nbsp;getProperty(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</pre>
<div class="block">Get a property entry by key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the identifier to look up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Property object, or <code>null</code> if not found</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="addProperty-com.oracle.truffle.api.object.Property-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addProperty</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;addProperty(<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&nbsp;property)</pre>
<div class="block">Add a new property in the map, yielding a new or cached Shape object.

 Planned to be deprecated. Use <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#put-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-java.lang.Object-"><code>DynamicObjectLibrary.put(com.oracle.truffle.api.object.DynamicObject, java.lang.Object, java.lang.Object)</code></a> or
 <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#putWithFlags-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-java.lang.Object-int-"><code>DynamicObjectLibrary.putWithFlags(com.oracle.truffle.api.object.DynamicObject, java.lang.Object, java.lang.Object, int)</code></a> to add properties to an object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>property</code> - the property to add</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new Shape</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="defineProperty-java.lang.Object-java.lang.Object-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defineProperty</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;defineProperty(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key,
                                     <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;value,
                                     int&nbsp;flags)</pre>
<div class="block">Add or change property in the map, yielding a new or cached Shape object.

 Planned to be deprecated. Use <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#put-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-java.lang.Object-"><code>DynamicObjectLibrary.put(com.oracle.truffle.api.object.DynamicObject, java.lang.Object, java.lang.Object)</code></a> or
 <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#putWithFlags-com.oracle.truffle.api.object.DynamicObject-java.lang.Object-java.lang.Object-int-"><code>DynamicObjectLibrary.putWithFlags(com.oracle.truffle.api.object.DynamicObject, java.lang.Object, java.lang.Object, int)</code></a> to add properties to an object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the shape after defining the property</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProperties</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;&nbsp;getProperties()</pre>
<div class="block">An <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang"><code>Iterable</code></a> over the shape's properties in insertion order.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getPropertyList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertyList</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;&nbsp;getPropertyList()</pre>
<div class="block">Get a list of all properties that this Shape stores.

 Properties with a <a href="../../../../../com/oracle/truffle/api/object/HiddenKey.html" title="class in com.oracle.truffle.api.object"><code>HiddenKey</code></a> are not included.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>list of properties</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getPropertyListInternal-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertyListInternal</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;&nbsp;getPropertyListInternal(boolean&nbsp;ascending)</pre>
<div class="block">Returns all (also hidden) property objects in this shape.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ascending</code> - desired order (<code>true</code> for insertion order, <code>false</code> for reverse
            insertion order)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getKeyList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyList</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getKeyList()</pre>
<div class="block">Get a list of all property keys in insertion order.


 Properties with a <a href="../../../../../com/oracle/truffle/api/object/HiddenKey.html" title="class in com.oracle.truffle.api.object"><code>HiddenKey</code></a> are not included.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeys</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html?is-external=true" title="class or interface in java.lang">Iterable</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getKeys()</pre>
<div class="block">Get all property keys in insertion order.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getValidAssumption--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValidAssumption</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a>&nbsp;getValidAssumption()</pre>
<div class="block">Get an assumption that the shape is valid.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="isValid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isValid</h4>
<pre>public abstract&nbsp;boolean&nbsp;isValid()</pre>
<div class="block">Check whether this shape is valid.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getLeafAssumption--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeafAssumption</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a>&nbsp;getLeafAssumption()</pre>
<div class="block">Get an assumption that the shape is a leaf.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="isLeaf--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaf</h4>
<pre>public abstract&nbsp;boolean&nbsp;isLeaf()</pre>
<div class="block">Check whether this shape is a leaf in the transition graph, i.e. transitionless.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="hasProperty-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasProperty</h4>
<pre>public abstract&nbsp;boolean&nbsp;hasProperty(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</pre>
<div class="block">Check whether the shape has a property with the given key.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getLastProperty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastProperty</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&nbsp;getLastProperty()</pre>
<div class="block">Get the last property.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getFlags--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlags</h4>
<pre>public&nbsp;int&nbsp;getFlags()</pre>
<div class="block">Returns the language-specific shape flags previously set using
 <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setShapeFlags-com.oracle.truffle.api.object.DynamicObject-int-"><code>DynamicObjectLibrary.setShapeFlags(DynamicObject, int)</code></a> or
 <a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shapeFlags-int-"><code>Shape.Builder.shapeFlags(int)</code></a>. If no shape flags were explicitly set, the default of
 0 is returned.

 These flags may be used to tag objects that possess characteristics that need to be queried
 efficiently on fast and slow paths. For example, they can be used to mark objects as frozen.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#getShapeFlags-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.getShapeFlags(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#setShapeFlags-com.oracle.truffle.api.object.DynamicObject-int-"><code>DynamicObjectLibrary.setShapeFlags(DynamicObject, int)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shapeFlags-int-"><code>Shape.Builder.shapeFlags(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="setFlags-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlags</h4>
<pre>protected&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;setFlags(int&nbsp;newFlags)</pre>
<div class="block">Returns a copy of the shape, with the shape flags set to <code>newFlags</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newFlags</code> - the new shape flags; an int value in the range from 0 to 255 (inclusive)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the flags value is not in the supported range</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shapeFlags-int-"><code>Shape.Builder.shapeFlags(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="allocator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allocator</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object">Shape.Allocator</a>&nbsp;allocator()</pre>
<div class="block">Obtain an <a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><code>Shape.Allocator</code></a> instance for the purpose of allocating locations.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getPropertyCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertyCount</h4>
<pre>public abstract&nbsp;int&nbsp;getPropertyCount()</pre>
<div class="block">Returns the number of properties in this shape.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getDynamicType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDynamicType</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;getDynamicType()</pre>
<div class="block">Get the shape's dynamic object type identifier.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
<a name="setDynamicType-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDynamicType</h4>
<pre>protected&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;setDynamicType(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;objectType)</pre>
<div class="block">Returns a copy of the shape, with the dynamic object type identifier set to
 <code>objectType</code>. Currently, the object type must be an instance of <a href="../../../../../com/oracle/truffle/api/object/ObjectType.html" title="class in com.oracle.truffle.api.object"><code>ObjectType</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>objectType</code> - the new dynamic object type identifier</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the type is not an instance of <a href="../../../../../com/oracle/truffle/api/object/ObjectType.html" title="class in com.oracle.truffle.api.object"><code>ObjectType</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#dynamicType-java.lang.Object-"><code>Shape.Builder.dynamicType(Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="getRoot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoot</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;getRoot()</pre>
<div class="block">Get the root shape.

 Planned to be deprecated.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="check-com.oracle.truffle.api.object.DynamicObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>public abstract&nbsp;boolean&nbsp;check(<a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;subject)</pre>
<div class="block">Checks whether the given object's shape is identical to this shape.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getLayoutClass--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLayoutClass</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&gt;&nbsp;getLayoutClass()</pre>
<div class="block">Get the shape's layout class.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>21.1</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#layout-java.lang.Class-"><code>Shape.Builder.layout(Class)</code></a></dd>
</dl>
</li>
</ul>
<a name="getSharedData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSharedData</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;getSharedData()</pre>
<div class="block">Get the shape's shared data.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#sharedData-java.lang.Object-"><code>Shape.Builder.sharedData(Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="changeType-com.oracle.truffle.api.object.ObjectType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeType</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;changeType(<a href="../../../../../com/oracle/truffle/api/object/ObjectType.html" title="class in com.oracle.truffle.api.object">ObjectType</a>&nbsp;newOps)</pre>
<div class="block">Change the shape's type, yielding a new shape.

 Planned to be deprecated. To be replaced by <a href="../../../../../com/oracle/truffle/api/object/Shape.html#setDynamicType-java.lang.Object-"><code>Shape.setDynamicType(Object)</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="newInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newInstance</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object">DynamicObject</a>&nbsp;newInstance()</pre>
<div class="block">Create a new <a href="../../../../../com/oracle/truffle/api/object/DynamicObject.html" title="class in com.oracle.truffle.api.object"><code>DynamicObject</code></a> instance with this shape.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if this layout does not support construction</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="createFactory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFactory</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectFactory.html" title="interface in com.oracle.truffle.api.object">DynamicObjectFactory</a>&nbsp;createFactory()</pre>
<div class="block">Create a <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectFactory.html" title="interface in com.oracle.truffle.api.object"><code>DynamicObjectFactory</code></a> for creating instances of this shape.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if this layout does not support construction</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="getMutex--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMutex</h4>
<pre>public abstract&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;getMutex()</pre>
<div class="block">Get mutex object shared by related shapes, i.e. shapes with a common root.

 Planned to be deprecated.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="tryMerge-com.oracle.truffle.api.object.Shape-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryMerge</h4>
<pre>public abstract&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;tryMerge(<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;other)</pre>
<div class="block">Try to merge two related shapes to a more general shape that has the same properties and can
 store at least the values of both shapes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this, other, or a new shape that is compatible with both shapes</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8 or earlier</dd>
</dl>
</li>
</ul>
<a name="isShared--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isShared</h4>
<pre>public&nbsp;boolean&nbsp;isShared()</pre>
<div class="block">Returns <code>true</code> if this shape is <a href="../../../../../com/oracle/truffle/api/object/Shape.html#makeSharedShape--"><code>shared</code></a>.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.18</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#isShared-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.isShared(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#markShared-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.markShared(DynamicObject)</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#shared-boolean-"><code>Shape.Builder.shared(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="makeSharedShape--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeSharedShape</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/object/Shape.html" title="class in com.oracle.truffle.api.object">Shape</a>&nbsp;makeSharedShape()</pre>
<div class="block">Make a shared variant of this shape, to allow safe usage of this object between threads.
 Shared shapes will not reuse storage locations for other fields. In combination with careful
 synchronization on writes, this can prevent reading out-of-thin-air values.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a cached and shared variant of this shape</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.18</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.html#isShared--"><code>Shape.isShared()</code></a>, 
<a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#markShared-com.oracle.truffle.api.object.DynamicObject-"><code>DynamicObjectLibrary.markShared(DynamicObject)</code></a></dd>
</dl>
</li>
</ul>
<a name="hasInstanceProperties--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasInstanceProperties</h4>
<pre>protected&nbsp;boolean&nbsp;hasInstanceProperties()</pre>
<div class="block">Returns <code>true</code> if this shape has instance properties (i.e., stored in the object).</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
<a name="getPropertyAssumption-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPropertyAssumption</h4>
<pre>public&nbsp;<a href="../../../../../com/oracle/truffle/api/Assumption.html" title="interface in com.oracle.truffle.api">Assumption</a>&nbsp;getPropertyAssumption(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;key)</pre>
<div class="block">Gets a stable property assumption for the given property key. May be invalid. If a valid
 assumption is returned, it may be used to assume this particular property is still absent or
 present at the current storage location in objects of this shape. The assumption is
 invalidated if a shape change is triggered because of a property with the given key was
 added, removed, or changed, or a <a href="../../../../../com/oracle/truffle/api/object/DynamicObjectLibrary.html#resetShape-com.oracle.truffle.api.object.DynamicObject-com.oracle.truffle.api.object.Shape-"><code>resetShape</code></a>.

 <p>
 Only applicable if <a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#propertyAssumptions-boolean-">property assumptions</a> are
 enabled for this shape, otherwise always returns an invalid assumption.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - the property key of interest</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an assumption that the property is stable or an invalid assumption</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/oracle/truffle/api/object/Shape.Builder.html#propertyAssumptions-boolean-"><code>Shape.Builder.propertyAssumptions(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="allPropertiesMatch-java.util.function.Predicate-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>allPropertiesMatch</h4>
<pre>public&nbsp;boolean&nbsp;allPropertiesMatch(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html?is-external=true" title="class or interface in java.util.function">Predicate</a>&lt;<a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object">Property</a>&gt;&nbsp;predicate)</pre>
<div class="block">Tests if all properties in the shape match the provided predicate. May not evaluate the
 predicate on all properties if a predicate did not match. If the shape does not contain any
 properties, returns <code>true</code> and does not evaluate the predicate.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the all properties match the predicate, else <code>false</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>20.2.0</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>GraalVM Truffle Java API Reference<br>21.3.0-dev</b><br>44d3ba029ef261aefaf3371e8fee9403c5e88ab4</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/oracle/truffle/api/object/Property.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/oracle/truffle/api/object/Shape.Allocator.html" title="class in com.oracle.truffle.api.object"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/oracle/truffle/api/object/Shape.html" target="_top">Frames</a></li>
<li><a href="Shape.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &copy; 2012, 2021, Oracle and/or its affiliates. All rights reserved.</center></small></p>
</body>
</html>
